/*! For license information please see main.404f27a4.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,S=60108,E=60114,T=60109,C=60110,N=60112,A=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,$e={onError:function(e){We=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,qe.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},Et={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Rt=Tt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Jt(e,t,n,r){$t(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),_n=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if($n(t,Yn,e,Ee(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Pt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case At:s=wn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?$n(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Si(e,t)}function Gi(e,t,n){return e=Ki(e),Ei(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Oi,$i),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$s(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=$s(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=$s(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ta=Sa(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=$r(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=$r(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var $o,Qo,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=$s(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=$s(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Ar(Er[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Ar(Er[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&zu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Eu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=b.ReactCurrentDispatcher,Ru=b.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),ju=0,Uu=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=qi()+500}var $u,Qu=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(Bu|=t,4===ju&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),$i())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Oi,Qi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Es();for(Pu===e&&Lu===r||(Gu(),Is(e,r));;)try{Ns();break}catch(s){Ss(e,s)}if(na(),Au.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=ju),0!==(Vu&Bu))Is(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Kr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=jt(e,t)))}else n=Ts(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,qi()),null}function ws(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}}function bs(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,ju=0,Uu=null,qu=Bu=zu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){ju=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=zs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Es(){var e=Au.current;return Au.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Es();for(Pu===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Ou=n,Au.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,ju}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=$u(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===ju&&(ju=5)}function Os(e){var t=Wi();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,zr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var w=Qu.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Eu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Eu(Qu.alternate,Qu);break;case 4:Eu(Qu.alternate,Qu);break;case 8:Su(u,s=Qu);var x=s.alternate;wu(s),null!==x&&wu(x)}Qu=Qu.nextEffect}}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);if(b=Br,w=mr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!zr,Br=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&yu(k,Qu.alternate,Qu),128&_){w=void 0;var I=Qu.ref;if(null!==I){var S=Qu.stateNode;Qu.tag,w=S,"function"===typeof I?I(w):I.current=w}}Qu=Qu.nextEffect}}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,ji(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(ms(e,qi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||$i(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,$i(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>qi()-Ku?Is(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return $s(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case E:return(e=Ws(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Qs(n,i,a,t);case j:return(e=Ws(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $s(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ws,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),$i())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}$i()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ou=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,N=null,A=3,R=!1,O=!1,P=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(P=!1,D(e),!O)if(null!==_(E))O=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=A;try{for(D(n),N=_(E);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===_(E)&&I(E),D(n)}else I(E);N=_(E)}if(null!==N)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(E,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/netflix-clone-project/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Wo},SDK_VERSION:function(){return Bu},_DEFAULT_ENTRY_NAME:function(){return Nu},_addComponent:function(){return Pu},_addOrOverwriteComponent:function(){return Du},_apps:function(){return Ru},_clearComponents:function(){return ju},_components:function(){return Ou},_getProvider:function(){return Mu},_registerComponent:function(){return Lu},_removeServiceInstance:function(){return Fu},deleteApp:function(){return Hu},getApp:function(){return Wu},getApps:function(){return Ku},initializeApp:function(){return qu},onLog:function(){return Qu},registerVersion:function(){return $u},setLogLevel:function(){return Yu}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function k(e,t){if(!e)throw new Error(t)}var w=(0,r.createContext)(null);var b=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function _(e){k(!1)}function I(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;T()&&k(!1);var d=B(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,I=v.hash,S=void 0===I?"":I,E=v.state,C=void 0===E?null:E,N=v.key,A=void 0===N?"default":N,R=(0,r.useMemo)((function(){var e=V(y,d);return null==e?null:{pathname:e,search:_,hash:S,state:C,key:A}}),[d,y,_,S,C,A]);return null==R?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:R,navigationType:c}}))}function S(e){var t=e.children,n=e.location;return function(e,t){T()||k(!1);var n=(0,r.useContext)(x).matches,i=n[n.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=C();if(t){var c,l="string"===typeof t?g(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||k(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:h});0;return F(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:z([o,e.pathnameBase])})})),n)}(R(t),n)}function E(e){T()||k(!1);var t=(0,r.useContext)(w),n=t.basename,i=t.navigator,a=A(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):z([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function T(){return null!=(0,r.useContext)(b)}function C(){return T()||k(!1),(0,r.useContext)(b).location}function N(){T()||k(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(x).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=U(e,JSON.parse(o),a);"/"!==t&&(i.pathname=z([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function A(e){var t=(0,r.useContext)(x).matches,n=C().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return U(e,JSON.parse(i),n)}),[e,i,n])}function R(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==_&&k(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=R(e.props.children)),t.push(n)}else t.push.apply(t,R(e.props.children))})),t}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||k(!1),a.relativePath=a.relativePath.slice(r.length));var o=z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&k(!1),O(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:u})})),t}var P=/^:\w+$/,D=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:z([i,l.pathname]),pathnameBase:B(z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=z([i,l.pathnameBase]))}return a}function F(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function U(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:q(a),hash:W(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var z=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function $(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else E(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],w=v(),b=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function S(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=a();c=t[0],k=t[1],w.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(S(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}E(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(S(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),E(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(h,p),function(){t(),b.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],w=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(w)}),[u]),(0,r.createElement)(I,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var Q=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=H(e,G),f=E(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=N(),s=C(),c=A(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var Y="/",J="/browse",X="/signin",Z=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ie=n(441),ae=n(613),oe=n.n(ae);var ue=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,I=0,S=0,E=0,O=0,D=v=d=0,M=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",K="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,z++),0===_+S+I+x){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=R}if(U=(v=t(r,F,v,p,h+1)).length,0<P&&(w=u(3,v,F=n(R,B,j),r,C,T,U,p,h,c),B=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<P&&void 0!==(w=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<P*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===S+_+x+N&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(N=E);case 8:111===O&&(N=O)}break;case 58:0===S+_+x&&(D=M);break;case 44:0===_+I+S+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*O===533);else d=1;I++}break;case 64:0===_+I+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}O=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<P&&(void 0!==(w=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=w).length))return K+q+W;if(q=F.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return K+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",N=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,N=0,A=1,R=[],O=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=O.length=0;break;default:if("function"===typeof t)O[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},se={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ce=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},le=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fe=ce((function(e){return le.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),he=n(110),de=n.n(he);function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ve=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},me=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,ie.typeOf)(e)},ye=Object.freeze([]),ge=Object.freeze({});function ke(e){return"function"==typeof e}function we(e){return e.displayName||e.name||"Component"}function be(e){return e&&"string"==typeof e.styledComponentId}var xe="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",_e="undefined"!=typeof window&&"HTMLElement"in window,Ie=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Se={};function Ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Te=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ee(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Ce=new Map,Ne=new Map,Ae=1,Re=function(e){if(Ce.has(e))return Ce.get(e);for(;Ne.has(Ae);)Ae++;var t=Ae++;return Ce.set(e,t),Ne.set(t,e),t},Oe=function(e){return Ne.get(e)},Pe=function(e,t){t>=Ae&&(Ae=t+1),Ce.set(e,t),Ne.set(t,e)},De="style["+xe+'][data-styled-version="5.3.3"]',Le=new RegExp("^"+xe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Me=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Fe=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Le);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Pe(c,s),Me(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},je=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Ue=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(xe))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(xe,"active"),r.setAttribute("data-styled-version","5.3.3");var o=je();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Ve=function(){function e(e){var t=this.element=Ue(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ee(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ze=function(){function e(e){var t=this.element=Ue(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Be=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),qe=_e,We={isServer:!_e,useCSSOMInjection:!Ie},Ke=function(){function e(e,t,n){void 0===e&&(e=ge),void 0===t&&(t={}),this.options=pe({},We,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&_e&&qe&&(qe=!1,function(e){for(var t=document.querySelectorAll(De),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(xe)&&(Fe(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Re(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(pe({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Be(i):r?new Ve(i):new ze(i),new Te(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Re(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Re(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Re(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Oe(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=xe+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),He=/(a)(d)/gi,Ge=function(e){return String.fromCharCode(e+(e>25?39:97))};function $e(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ge(t%52)+n;return(Ge(t%52)+n).replace(He,"$1-$2")}var Qe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ye=function(e){return Qe(5381,e)};function Je(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ke(n)&&!be(n))return!1}return!0}var Xe=Ye("5.3.3"),Ze=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Je(e),this.componentId=t,this.baseHash=Qe(Xe,t),this.baseStyle=n,Ke.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=yt(this.rules,e,t,n).join(""),o=$e(Qe(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Qe(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=yt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Qe(c,p+f),l+=p}}if(l){var v=$e(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),et=/^\s*\/\/.*$/gm,tt=[":","[",".","#"];function nt(e){var t,n,r,i,a=void 0===e?ge:e,o=a.options,u=void 0===o?ge:o,s=a.plugins,c=void 0===s?ye:s,l=new ue(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==tt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(et,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ee(15),Qe(e,t.name)}),5381).toString():"",p}var rt=r.createContext(),it=(rt.Consumer,r.createContext()),at=(it.Consumer,new Ke),ot=nt();function ut(){return(0,r.useContext)(rt)||at}function st(){return(0,r.useContext)(it)||ot}function ct(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=ut(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return nt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){oe()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(rt.Provider,{value:o},r.createElement(it.Provider,{value:u},e.children))}var lt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ot);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ee(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ot),this.name+e.hash},e}(),ft=/([A-Z])/,ht=/([A-Z])/g,dt=/^ms-/,pt=function(e){return"-"+e.toLowerCase()};function vt(e){return ft.test(e)?e.replace(ht,pt).replace(dt,"-ms-"):e}var mt=function(e){return null==e||!1===e||""===e};function yt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=yt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return mt(e)?"":be(e)?"."+e.styledComponentId:ke(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:yt(e(t),t,n,r):e instanceof lt?n?(e.inject(n,r),e.getName(r)):e:me(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!mt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||ke(t[o])?a.push(vt(o)+":",t[o],";"):me(t[o])?a.push.apply(a,e(t[o],o)):a.push(vt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in se?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var gt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ke(e)||me(e)?gt(yt(ve(ye,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:gt(yt(ve(e,n)))}new Set;var wt=function(e,t,n){return void 0===n&&(n=ge),e.theme!==n.theme&&e.theme||t||n.theme},bt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xt=/(^-|-$)/g;function _t(e){return e.replace(bt,"-").replace(xt,"")}var It=function(e){return $e(Ye(e)>>>0)};function St(e){return"string"==typeof e&&!0}var Et=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Tt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ct(e,t,n){var r=e[n];Et(t)&&Et(r)?Nt(r,t):e[n]=t}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Et(o))for(var u in o)Tt(u)&&Ct(e,o[u],u)}return e}var At=r.createContext();At.Consumer;var Rt={};function Ot(e,t,n){var i=be(e),a=!St(e),o=t.attrs,u=void 0===o?ye:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":_t(e);Rt[n]=(Rt[n]||0)+1;var r=n+"-"+It("5.3.3"+n+Rt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return St(e)?"styled."+e:"Styled("+we(e)+")"}(e):l,h=t.displayName&&t.componentId?_t(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Ze(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=ge);var r=pe({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in ke(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(wt(t,(0,r.useContext)(At),u)||ge,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=ut(),a=st();return t?e.generateAndInjectStyles(ge,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=St(y),k=p!==t?pe({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,fe,y):!g||fe(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=pe({},t.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,r.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ye,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(St(e)?e:_t(we(e)));return Ot(e,pe({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Nt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&de()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Pt=function(e){return function e(t,n,r){if(void 0===r&&(r=ge),!(0,ie.isValidElementType)(n))return Ee(1,String(n));var i=function(){return t(n,r,kt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,pe({},r,{},i))},i.attrs=function(i){return e(t,n,pe({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Ot,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Pt[e]=Pt(e)}));var Dt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Je(e),Ke.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(yt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ke.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=kt.apply(void 0,[e].concat(n)),o="sc-global-"+It(JSON.stringify(a)),u=new Dt(a,o);function s(e){var t=ut(),n=st(),i=(0,r.useContext)(At),a=(0,r.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,i,n),(0,r.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,i,n),function(){return u.removeStyles(a,t)}}),[a,e,t,i,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,Se,n,i);else{var a=pe({},t,{theme:wt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return r.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=je();return"<style "+[n&&'nonce="'+n+'"',xe+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ee(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Ee(2);var n=((t={})[xe]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=je();return i&&(n.nonce=i),[r.createElement("style",pe({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ke({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Ee(2):r.createElement(ct,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Ee(3)}}();var Mt=Pt,Ft=Mt.div.withConfig({displayName:"jumbotron__Item",componentId:"sc-n9f1eg-0"})(["display:flex;border-bottom:8px solid #222;padding:50px 5%;color:white;overflow:hidden;"]),jt=Mt.div.withConfig({displayName:"jumbotron__Inner",componentId:"sc-n9f1eg-1"})(["display:flex;align-items:center;flex-direction:",";justify-content:space-between;max-width:1100px;margin:auto;width:100%;@media (max-width:1000px){flex-direction:column;}"],(function(e){return e.direction})),Ut=Mt.div.withConfig({displayName:"jumbotron__Pane",componentId:"sc-n9f1eg-2"})(["width:50%;@media (max-width:1000px){flex-direction:column;}"]),Vt=Mt.h1.withConfig({displayName:"jumbotron__Title",componentId:"sc-n9f1eg-3"})(["font-size:50px;line-height:1.1;margin-bottom:8px;@media (max-width:600px){font-size:35px;}"]),zt=Mt.h2.withConfig({displayName:"jumbotron__SubTitle",componentId:"sc-n9f1eg-4"})(["font-size:26px;font-weight:normal;line-height:normal;@media (max-width:600px){font-size:18px;}"]),Bt=Mt.img.withConfig({displayName:"jumbotron__Image",componentId:"sc-n9f1eg-5"})(["max-width:100%;height:auto;"]),qt=Mt.div.withConfig({displayName:"jumbotron__Container",componentId:"sc-n9f1eg-6"})(["@media (max-width:1000px){",":last-of-type h2{margin-bottom:50px;}}"],Ft),Wt=n(184),Kt=["children","direction"],Ht=["children"],Gt=["children"],$t=["children"],Qt=["children"],Yt=["children"];function Jt(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=re(e,Kt);return(0,Wt.jsx)(Ft,ne(ne({},i),{},{children:(0,Wt.jsx)(jt,{direction:r,children:t})}))}Jt.Container=function(e){var t=e.children,n=re(e,Ht);return(0,Wt.jsx)(qt,ne(ne({},n),{},{children:t}))},Jt.Pane=function(e){var t=e.children,n=re(e,Gt);return(0,Wt.jsx)(Ut,ne(ne({},n),{},{children:t}))},Jt.Title=function(e){var t=e.children,n=re(e,$t);return(0,Wt.jsx)(Vt,ne(ne({},n),{},{children:t}))},Jt.SubTitle=function(e){var t=e.children,n=re(e,Qt);return(0,Wt.jsx)(zt,ne(ne({},n),{},{children:t}))},Jt.Image=function(e){e.children;var t=re(e,Yt);return(0,Wt.jsx)(Bt,ne({},t))};var Xt=Mt.div.withConfig({displayName:"footer__Container",componentId:"sc-62sgdw-0"})(["display:flex;padding:70px 0;margin:auto;max-width:1000px;flex-direction:column;@media (max-width:1000px){padding:79px 30px}"]),Zt=Mt.div.withConfig({displayName:"footer__Column",componentId:"sc-62sgdw-1"})(["display:flex;flex-direction:column;text-align:left;align-items:center;"]),en=Mt.div.withConfig({displayName:"footer__Row",componentId:"sc-62sgdw-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:15px;@media (max-width:1000px){grid-template-columns:repeat()(auto-fill,minmax()(150px,1fr));}"]),tn=Mt.a.withConfig({displayName:"footer__Link",componentId:"sc-62sgdw-3"})(["color:#757575;margin-bottom:20px;font-size:14px;text-decoration:none;"]),nn=Mt.p.withConfig({displayName:"footer__Text",componentId:"sc-62sgdw-4"})(["font-size:13px;color:#757575;margin-bottom:40px;margin-left:50px"]),rn=Mt.div.withConfig({displayName:"footer__Break",componentId:"sc-62sgdw-5"})(["flex-basis:100%;height:0;"]),an=Mt.p.withConfig({displayName:"footer__Title",componentId:"sc-62sgdw-6"})(["font-size:16px;color:#757575;margin-bottom:40px;align-self:center"]),on=["children"],un=["children"],sn=["children"],cn=["children"],ln=["children"],fn=["children"],hn=["children"];function dn(e){var t=e.children,n=re(e,on);return(0,Wt.jsx)(Xt,ne(ne({},n),{},{children:t}))}dn.Row=function(e){var t=e.children,n=re(e,un);return(0,Wt.jsx)(en,ne(ne({},n),{},{children:t}))},dn.Column=function(e){var t=e.children,n=re(e,sn);return(0,Wt.jsx)(Zt,ne(ne({},n),{},{children:t}))},dn.Link=function(e){var t=e.children,n=re(e,cn);return(0,Wt.jsx)(tn,ne(ne({},n),{},{children:t}))},dn.Title=function(e){var t=e.children,n=re(e,ln);return(0,Wt.jsx)(an,ne(ne({},n),{},{children:t}))},dn.Text=function(e){var t=e.children,n=re(e,fn);return(0,Wt.jsx)(nn,ne(ne({},n),{},{children:t}))},dn.Break=function(e){var t=e.children,n=re(e,hn);return(0,Wt.jsx)(rn,ne(ne({},n),{},{children:t}))};var pn=Mt.div.withConfig({displayName:"accordion__Container",componentId:"sc-1rv4c0e-0"})(["display:flex;border-bottom:8px solid #222;justify-content:center;"]),vn=Mt.div.withConfig({displayName:"accordion__Inner",componentId:"sc-1rv4c0e-1"})(["display:flex;padding:70px 45px;flex-direction:column;"]),mn=Mt.div.withConfig({displayName:"accordion__Item",componentId:"sc-1rv4c0e-2"})(["color:white;margin:auto;margin-bottom:10px;max-width:728px;width:100%;&:first-of-type{margin-top:3rem;}"]),yn=Mt.div.withConfig({displayName:"accordion__Header",componentId:"sc-1rv4c0e-3"})(["display:flex;justify-content:space-between;cursor:pointer;margin-bottom:1px;font-size:26px;font-weight:normal;background:#303030;padding:0.8em 2.2em 0.8em 1.2em;user-select:none;align-items:center;img{filter:brightness(0)  invert(1);width:24px;@media (max-width:600px){width:16px;}}@media (max-width:600px){font-size:16px;}"]),gn=Mt.div.withConfig({displayName:"accordion__Body",componentId:"sc-1rv4c0e-4"})(["max-height:1200px;transition:max-height 0.25s cubic-bezier(0.5,0,0.1,1);font-size:26px;font-weight:normal;line-height:normal;background:#303030;padding:0.8em 2.2em;white-space:pre-wrap;user-select:none;"]),kn=Mt.h1.withConfig({displayName:"accordion__Title",componentId:"sc-1rv4c0e-5"})(["font-size:50px;line-height:1.1;margin-top:0;margin-bottom:8px;color:white;text-align:center;@media (max-width:600px){font-size:35px}"]),wn=["children"],bn=["children"],xn=["children"],_n=["children"],In=["children"],Sn=(0,r.createContext)();function En(e){var t=e.children,n=re(e,wn);return(0,Wt.jsx)(pn,ne(ne({},n),{},{children:(0,Wt.jsx)(vn,{children:t})}))}En.Title=function(e){var t=e.children,n=re(e,bn);return(0,Wt.jsx)(kn,ne(ne({},n),{},{children:t}))},En.Item=function(e){var t=e.children,n=re(e,xn),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Wt.jsx)(Sn.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,Wt.jsx)(mn,ne(ne({},n),{},{children:t}))})},En.Header=function(e){var t=e.children,n=re(e,_n),i=(0,r.useContext)(Sn),a=i.toggleShow,o=i.setToggleShow;return(0,Wt.jsxs)(yn,ne(ne({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,Wt.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,Wt.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},En.Body=function(e){var t=e.children,n=re(e,In);return(0,r.useContext)(Sn).toggleShow?(0,Wt.jsx)(gn,ne(ne({},n),{},{children:t})):null};var Tn=Mt.div.withConfig({displayName:"opt-form__Container",componentId:"sc-n1nofk-0"})(["display:flex;justify-content:center;height:100%;margin-top:20px;flex-wrap:wrap;border-bottom:8px solid  #222;@media (max-width:1000px){flex-direction:column;align-items:center;}"]),Cn=Mt.input.withConfig({displayName:"opt-form__Input",componentId:"sc-n1nofk-1"})(["max-width:450px;width:100%;border:0;padding:10px;height:70px;box-sizing:border-box;"]),Nn=Mt.button.withConfig({displayName:"opt-form__Button",componentId:"sc-n1nofk-2"})(["display:flex;align-items:center;height:70px;background:#e50914;color:white;text-transform:uppercase;padding:0 32px;font-size:26px;border:0;cursor:pointer;&:hover{background:#f40612;}@media (max-width:1000px){height:50px;font-size:16px;margin-top:20px;font-weight:bold;}img{margin-left:10px;filter:brightness(0) invert(1);width:24px;@media (max-width:1000px){width:16px;}}"]),An=Mt.p.withConfig({displayName:"opt-form__Text",componentId:"sc-n1nofk-3"})(["font-size:19.2px;color:white;text-align:center;@media (max-width:600px){font-size:16px;line-height:22px;}"]),Rn=Mt.div.withConfig({displayName:"opt-form__Break",componentId:"sc-n1nofk-4"})(["flex-basis:100%;height:0;"]),On=["children"],Pn=["children"],Dn=["children"];function Ln(e){var t=e.children,n=re(e,On);return(0,Wt.jsx)(Tn,ne(ne({},n),{},{children:t}))}Ln.Input=function(e){var t=Object.assign({},e);return(0,Wt.jsx)(Cn,ne({},t))},Ln.Button=function(e){var t=e.children,n=re(e,Pn);return(0,Wt.jsxs)(Nn,ne(ne({},n),{},{children:[t," ",(0,Wt.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Ln.Text=function(e){var t=e.children,n=re(e,Dn);return(0,Wt.jsx)(An,ne(ne({},n),{},{children:t}))},Ln.Break=function(e){var t=Object.assign({},e);return(0,Wt.jsx)(Rn,ne({},t))};var Mn=Mt.div.withConfig({displayName:"header__Background",componentId:"sc-18viwl9-0"})(["display:flex;flex-direction:column;background:url(",") top left / cover no-repeat;"],(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"})),Fn=Mt.div.withConfig({displayName:"header__Group",componentId:"sc-18viwl9-1"})(["display:flex;align-items:center;"]),jn=(Mt.div.withConfig({displayName:"header__Frame",componentId:"sc-18viwl9-2"})([""]),Mt.div.withConfig({displayName:"header__Container",componentId:"sc-18viwl9-3"})(["display:flex;margin:0 56px;height:100px;padding:10px 0;justify-content:space-between;align-items:center;a{display:flex;}@media (max-width:1000px){margin:0 30px;}"])),Un=Mt.button.withConfig({displayName:"header__Picture",componentId:"sc-18viwl9-4"})(["background:url(",");background-size:contain;border:0;width:32px;height:32px;cursor:pointer;"],(function(e){return e.src})),Vn=Mt.p.withConfig({displayName:"header__HLink",componentId:"sc-18viwl9-5"})(["color:white;text-decoration:none;margin-right:30px;font-weight:",";cursor:pointer;&:hover{font-weight:bold;}&:last-of-type{margin-right:0;}"],(function(e){return"true"===e.active?"700":"normal"})),zn=Mt.div.withConfig({displayName:"header__Dropdown",componentId:"sc-18viwl9-6"})(["display:none;background-color:black;position:absolute;padding:10px;width:100px;top:32px;right:10px;",":last-of-type ","{cursor:pointer;}","{margin-bottom:10px;&:last-of-type{margin-bottom:0;}",",","{cursor:default;}}button{margin-right:10px;}p{font-size:12px;margin-bottom:0;margin-top:0;}"],Fn,Vn,Fn,Vn,Un),Bn=Mt.div.withConfig({displayName:"header__Search",componentId:"sc-18viwl9-7"})(["display:flex;align-items:center;svg{color:white;cursor:pointer;}"]),qn=Mt.button.withConfig({displayName:"header__SearchIcon",componentId:"sc-18viwl9-8"})(["cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:16px;}"]),Wn=Mt.button.withConfig({displayName:"header__PlayButton",componentId:"sc-18viwl9-9"})(["box-shadow:0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);background-color:#e6e6e6;color:#000;font-weight:bold;border-width:0;padding:10px 20px;border-radius:5px;max-width:130px;font-size:20px;margin-top:30px;cursor:pointer;transition:0.5 ease;&:hover{background-color:#ff1e1e;color:white;}"]),Kn=Mt.input.withConfig({displayName:"header__SearchInput",componentId:"sc-18viwl9-10"})(["background-color:#44444459;color:white;border:1px solid white;transition:width 0.5s;height:30px;font-size:14px;margin-left:",";padding:",";opacity:",";width:",";"],(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"200px":"0px"})),Hn=Mt.div.withConfig({displayName:"header__Profile",componentId:"sc-18viwl9-11"})(["display:flex;align-items:center;margin-left:20px;position:relative;button{cursor:pointer;}&:hover > ","{display:flex;flex-direction:column;}"],zn),Gn=Mt.img.withConfig({displayName:"header__Logo",componentId:"sc-18viwl9-12"})(["height:32px;width:108px;margin-right:40px;@media (min-width:1449px){height:45px;width:167px}"]),$n=Mt(Q).withConfig({displayName:"header__ButtonLink",componentId:"sc-18viwl9-13"})(["display:block;background-color:#e50914;width:84px;height:fit-content;color:white;border:0;font-size:15px;border-radius:3px;padding:8px 17px;cursor:pointer;text-decoration:none;box-sizing:border-box;&:hover{background-color:#f40612;}"]),Qn=Mt(jn).withConfig({displayName:"header__Feature",componentId:"sc-18viwl9-14"})(["padding:150px 0 500px 0;flex-direction:column;align-items:normal;width:50%;"]),Yn=Mt.p.withConfig({displayName:"header__Text",componentId:"sc-18viwl9-15"})(["color:white;font-size:22px;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;"]),Jn=Mt.h2.withConfig({displayName:"header__FeatureCallOut",componentId:"sc-18viwl9-16"})(["color:white;font-size:50px;line-height:normal;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;margin-bottom:20px;"]),Xn=["bg","children"],Zn=["children"],er=["children"],tr=["children"],nr=["children"],rr=["children"],ir=["src"],ar=["searchTerm","setSearchTerm"],or=["children"],ur=["children"],sr=["children"],cr=["children"],lr=["children"],fr=["to"];function hr(e){var t=e.bg,n=void 0===t||t,r=e.children,i=re(e,Xn);return n?(0,Wt.jsx)(Mn,ne(ne({},i),{},{children:r})):r}hr.Feature=function(e){var t=e.children,n=re(e,Zn);return(0,Wt.jsx)(Qn,ne(ne({},n),{},{children:t}))},hr.Frame=function(e){var t=e.children,n=re(e,er);return(0,Wt.jsx)(jn,ne(ne({},n),{},{children:t}))},hr.Group=function(e){var t=e.children,n=re(e,tr);return(0,Wt.jsx)(Fn,ne(ne({},n),{},{children:t}))},hr.FeatureCallOut=function(e){var t=e.children,n=re(e,nr);return(0,Wt.jsx)(Jn,ne(ne({},n),{},{children:t}))},hr.Profile=function(e){var t=e.children,n=re(e,rr);return(0,Wt.jsx)(Hn,ne(ne({},n),{},{children:t}))},hr.Picture=function(e){var t=e.src,n=re(e,ir);return(0,Wt.jsx)(Un,ne(ne({},n),{},{src:"/images/users/".concat(t,".png")}))},hr.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,i=re(e,ar),a=c((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,Wt.jsxs)(Bn,ne(ne({},i),{},{children:[(0,Wt.jsx)(qn,{onClick:function(){return u((function(e){return!e}))},children:(0,Wt.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,Wt.jsx)(Kn,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},hr.Dropdown=function(e){var t=e.children,n=re(e,or);return(0,Wt.jsx)(zn,ne(ne({},n),{},{children:t}))},hr.Text=function(e){var t=e.children,n=re(e,ur);return(0,Wt.jsx)(Yn,ne(ne({},n),{},{children:t}))},hr.TextLink=function(e){var t=e.children,n=re(e,sr);return(0,Wt.jsx)(Vn,ne(ne({},n),{},{children:t}))},hr.PlayButton=function(e){var t=e.children,n=re(e,cr);return(0,Wt.jsx)(Wn,ne(ne({},n),{},{children:t}))},hr.ButtonLink=function(e){var t=e.children,n=re(e,lr);return(0,Wt.jsx)($n,ne(ne({},n),{},{children:t}))},hr.Logo=function(e){var t=e.to,n=re(e,fr);return(0,Wt.jsx)(Q,{to:t,children:(0,Wt.jsx)(Gn,ne({},n))})};var dr=Mt.div.withConfig({displayName:"feature__Container",componentId:"sc-nhpr3l-0"})(["display:flex;flex-direction:column;text-align:center;padding:115px 45px;"]),pr=Mt.div.withConfig({displayName:"feature__Title",componentId:"sc-nhpr3l-1"})(["color:white;max-width:640px;font-size:50px;font-weight:500;margin:auto;@media (max-width:600px){font-size:35px;}"]),vr=Mt.h2.withConfig({displayName:"feature__SubTitle",componentId:"sc-nhpr3l-2"})(["color:white;font-size:26px;font-weight:normal;margin:16px auto;@media (max-width:600px){font-size:18px;}"]),mr=["children"],yr=["children"],gr=["children"];function kr(e){var t=e.children,n=re(e,mr);return(0,Wt.jsx)(dr,ne(ne({},n),{},{children:t}))}kr.Title=function(e){var t=e.children,n=re(e,yr);return(0,Wt.jsx)(pr,ne(ne({},n),{},{children:t}))},kr.SubTitle=function(e){var t=e.children,n=re(e,gr);return(0,Wt.jsx)(vr,ne(ne({},n),{},{children:t}))};var wr=Mt.div.withConfig({displayName:"form__Container",componentId:"sc-j5ovxx-0"})(["display:flex;flex-direction:column;min-height:660px;background-color:rgba(0,0,0,0.75);border-radius:5px;box-sizing:border-box;width:100%;margin:auto;max-width:450px;padding:60px 68px 40px;margin-bottom:100px"]),br=Mt.div.withConfig({displayName:"form__Error",componentId:"sc-j5ovxx-1"})(["background:#e87c03;border-radius:4px;font-size:14px;margin:0 0 16px;color:white;padding:15px 20px;"]),xr=Mt.form.withConfig({displayName:"form__Base",componentId:"sc-j5ovxx-2"})(["display:flex;flex-direction:column;max-width:450px;width:100%;"]),_r=Mt.h1.withConfig({displayName:"form__Title",componentId:"sc-j5ovxx-3"})(["color:#fff;font-size:32px;font-weight:bold;margin-bottom:28px;"]),Ir=Mt.p.withConfig({displayName:"form__Text",componentId:"sc-j5ovxx-4"})(["color:#737373;font-size:16px;font-weight:500;"]),Sr=Mt.p.withConfig({displayName:"form__TextSmall",componentId:"sc-j5ovxx-5"})(["margin-top:10px;font-size:13px;line-height:normal;color:#8c8c8c;"]),Er=Mt(Q).withConfig({displayName:"form__Link",componentId:"sc-j5ovxx-6"})(["color:white;text-decoration:none;&:hover{text-decoration:underline;}"]),Tr=Mt.input.withConfig({displayName:"form__Input",componentId:"sc-j5ovxx-7"})(["background:#333;border-radius:4px;border:0;color:white;height:50px;line-height:50px;padding:5px 20px;margin-bottom:20px;&:last-of-type{margin-bottom:30px;}"]),Cr=Mt.button.withConfig({displayName:"form__Submit",componentId:"sc-j5ovxx-8"})(["background:#e50914;border-radius:4px;font-size:16px;font-weight:bold;margin:24px 0 12px;padding:16px;border:0;color:white;cursor:pointer;&:disabled{opacity:0.5;}"]),Nr=["children"],Ar=["children"],Rr=["children"],Or=["children"],Pr=["children"],Dr=["children"],Lr=["children"],Mr=["children"],Fr=["children"];function jr(e){var t=e.children,n=re(e,Nr);return(0,Wt.jsx)(wr,ne(ne({},n),{},{children:t}))}jr.Base=function(e){var t=e.children,n=re(e,Ar);return(0,Wt.jsx)(xr,ne(ne({},n),{},{children:t}))},jr.Error=function(e){var t=e.children,n=re(e,Rr);return(0,Wt.jsx)(br,ne(ne({},n),{},{children:t}))},jr.Title=function(e){var t=e.children,n=re(e,Or);return(0,Wt.jsx)(_r,ne(ne({},n),{},{children:t}))},jr.Text=function(e){var t=e.children,n=re(e,Pr);return(0,Wt.jsx)(Ir,ne(ne({},n),{},{children:t}))},jr.TextSmall=function(e){var t=e.children,n=re(e,Dr);return(0,Wt.jsx)(Sr,ne(ne({},n),{},{children:t}))},jr.Link=function(e){var t=e.children,n=re(e,Lr);return(0,Wt.jsx)(Er,ne(ne({},n),{},{children:t}))},jr.Input=function(e){var t=e.children,n=re(e,Mr);return(0,Wt.jsx)(Tr,ne(ne({},n),{},{children:t}))},jr.Submit=function(e){var t=e.children,n=re(e,Fr);return(0,Wt.jsx)(Cr,ne(ne({},n),{},{children:t}))};var Ur,Vr,zr=Mt.div.withConfig({displayName:"profiles__Container",componentId:"sc-uichg9-0"})(["display:flex;flex-direction:column;justify-content:center;margin:auto;max-width:80%;"]),Br=Mt.h1.withConfig({displayName:"profiles__Title",componentId:"sc-uichg9-1"})(["width:100%;color:#fff;font-size:48px;text-align:center;font-weight:500;"]),qr=Mt.ul.withConfig({displayName:"profiles__List",componentId:"sc-uichg9-2"})(["padding:0;margin:0;display:flex;flex-direction:row;"]),Wr=Mt.p.withConfig({displayName:"profiles__Name",componentId:"sc-uichg9-3"})(["color:#808080;text-overflow:ellipsis;font-size:16px;&:hover{font-weight:bold;color:#e5e5e5;}"]),Kr=Mt.img.withConfig({displayName:"profiles__Picture",componentId:"sc-uichg9-4"})(["width:100%;max-width:150px;height:auto;border:3px solid black;cursor:pointer;"]),Hr=Mt.li.withConfig({displayName:"profiles__Item",componentId:"sc-uichg9-5"})(["max-height:200px;max-width:200px;list-style-type:none;text-align:center;margin-right:30px;&:hover > ","{border:3px solid white;}&:hover ","{font-weight:bold;color:white;}&:last-of-type{margin-right:0;}"],Kr,Wr),Gr=["children"],$r=["children"],Qr=["children"],Yr=["children"],Jr=["src"],Xr=["children"];function Zr(e){var t=e.children,n=re(e,Gr);return(0,Wt.jsx)(zr,ne(ne({},n),{},{children:t}))}function ei(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Zr.Title=function(e){var t=e.children,n=re(e,$r);return(0,Wt.jsx)(Br,ne(ne({},n),{},{children:t}))},Zr.List=function(e){var t=e.children,n=re(e,Qr);return(0,Wt.jsx)(qr,ne(ne({},n),{},{children:t}))},Zr.Item=function(e){var t=e.children,n=re(e,Yr);return(0,Wt.jsx)(Hr,ne(ne({},n),{},{children:t}))},Zr.Picture=function(e){var t=e.src,n=re(e,Jr);return(0,Wt.jsx)(Kr,ne(ne({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},Zr.Name=function(e){var t=e.children,n=re(e,Xr);return(0,Wt.jsx)(Wr,ne(ne({},n),{},{children:t}))};var ti=Lt(Ur||(Ur=ei(["\n    body {\n        overflow: hidden;\n    }\n"]))),ni=Lt(Vr||(Vr=ei(["\n    body {\n        overflow: visible;\n    }\n"]))),ri=Mt.div.withConfig({displayName:"loading__Spinner",componentId:"sc-8rf1or-0"})(["position:fixed;width:100%;height:100%;background-color:black;z-index:999;:after{content:'';position:absolute;top:50%;left:50%;background-image:url(/images/misc/spinner.png);background-size:contain;background-repeat:no-repeat;margin-top:-150px;margin-left:-75px;width:150px;height:150px;animation-name:spin;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;}@-ms-keyframes spin{from{-ms-transform:rotate(0deg);}to{-ms-transform:rotate(360deg);}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);}to{-moz-transform:rotate(360deg);}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);}}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),ii=Mt.img.withConfig({displayName:"loading__Picture",componentId:"sc-8rf1or-1"})(["width:50px;height:50px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:-22px;"]),ai=["src"];function oi(e){var t=e.src,n=re(e,ai);return(0,Wt.jsxs)(ri,ne(ne({},n),{},{children:[(0,Wt.jsx)(ti,{}),(0,Wt.jsx)(ii,{src:"/images/users/".concat(t,".png")})]}))}oi.ReleaseBody=function(){return(0,Wt.jsx)(ni,{})};var ui=Mt.p.withConfig({displayName:"card__Title",componentId:"sc-dyn0zl-0"})(["font-size:24px;color:#e5e5e5;font-weight:bold;margin-left:56px;margin-right:56px;margin-top:0;"]),si=Mt.div.withConfig({displayName:"card__Container",componentId:"sc-dyn0zl-1"})(["display:flex;flex-direction:column;margin-bottom:50px;> ","{@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-bottom:0;}"],ui),ci=Mt.div.withConfig({displayName:"card__Group",componentId:"sc-dyn0zl-2"})(["display:flex;flex-direction:",";",";",";> ",":first-of-type{@media (min-width:1100px){margin-top:-100px;}}"],(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),si),li=Mt.p.withConfig({displayName:"card__SubTitle",componentId:"sc-dyn0zl-3"})(["font-size:12px;color:#fff;font-weight:bold;margin-top:0;margin-bottom:0;user-select:none;display:none;"]),fi=Mt.p.withConfig({displayName:"card__Text",componentId:"sc-dyn0zl-4"})(["margin-top:5px;font-size:10px;color:#fff;margin-bottom:0;user-select:none;display:none;line-height:normal;"]),hi=Mt.div.withConfig({displayName:"card__Entities",componentId:"sc-dyn0zl-5"})(["display:flex;flex-direction:row;"]),di=Mt.div.withConfig({displayName:"card__Meta",componentId:"sc-dyn0zl-6"})(["display:none;position:absolute;bottom:0;padding:10px;background-color:#0000008f;"]),pi=Mt.img.withConfig({displayName:"card__Image",componentId:"sc-dyn0zl-7"})(["border:0;width:100%;max-width:305px;cursor:pointer;height:auto;padding:0;margin:0;"]),vi=Mt.div.withConfig({displayName:"card__Item",componentId:"sc-dyn0zl-8"})(["display:flex;flex-direction:column;margin-right:5px;position:relative;cursor:pointer;transition:transform 0.2s;&:hover{transform:scale(1.3);z-index:99;}@media (min-width:1200px){&:hover ",",&:hover ",",&:hover ","{display:block;z-index:100;}}&:first-of-type{margin-left:56px;@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-right:56px;@media (max-width:1000px){margin-right:30px;}}"],di,fi,li),mi=Mt.p.withConfig({displayName:"card__FeatureText",componentId:"sc-dyn0zl-9"})(["font-size:18px;color:white;font-weight:",";margin:0;@media (max-width:600px){line-height:22px;}"],(function(e){return"bold"===e.fontWeight?"bold":"normal"})),yi=Mt.div.withConfig({displayName:"card__Feature",componentId:"sc-dyn0zl-10"})(["display:flex;flex-direction:row;background:url(",");background-size:contain;position:relative;height:360px;background-position-x:right;background-repeat:no-repeat;background-color:black;@media (max-width:1000px){height:auto;background-size:auto;","{font-size:20px;line-height:20px;margin-bottom:10px;}","{font-size:14px;}}"],(function(e){return e.src}),ui,mi),gi=Mt(ui).withConfig({displayName:"card__FeatureTitle",componentId:"sc-dyn0zl-11"})(["margin-left:0;"]),ki=Mt.button.withConfig({displayName:"card__FeatureClose",componentId:"sc-dyn0zl-12"})(["color:white;position:absolute;right:20px;top:20px;cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:24px;}"]),wi=Mt.div.withConfig({displayName:"card__Content",componentId:"sc-dyn0zl-13"})(["margin:56px;max-width:500px;line-height:normal;@media (max-width:1000px){margin:30px;max-width:none;}"]),bi=Mt.div.withConfig({displayName:"card__Maturity",componentId:"sc-dyn0zl-14"})(["background-color:",";border-radius:15px;width:28px;line-height:28px;text-align:center;color:white;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.2);margin-right:10px;font-size:12px;"],(function(e){return e.rating>=15?"#f44336":"#2f9600"})),xi=["children"],_i=["children"],Ii=["children"],Si=["children"],Ei=["children"],Ti=["children"],Ci=["children"],Ni=["item","children"],Ai=["children","category"],Ri=(0,r.createContext)();function Oi(e){var t=e.children,n=re(e,xi),i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)({}),2),s=u[0],l=u[1];return(0,Wt.jsx)(Ri.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:s,setItemFeature:l},children:(0,Wt.jsx)(si,ne(ne({},n),{},{children:t}))})}Oi.Group=function(e){var t=e.children,n=re(e,_i);return(0,Wt.jsx)(ci,ne(ne({},n),{},{children:t}))},Oi.Title=function(e){var t=e.children,n=re(e,Ii);return(0,Wt.jsx)(ui,ne(ne({},n),{},{children:t}))},Oi.SubTitle=function(e){var t=e.children,n=re(e,Si);return(0,Wt.jsx)(li,ne(ne({},n),{},{children:t}))},Oi.Text=function(e){var t=e.children,n=re(e,Ei);return(0,Wt.jsx)(fi,ne(ne({},n),{},{children:t}))},Oi.Entities=function(e){var t=e.children,n=re(e,Ti);return(0,Wt.jsx)(hi,ne(ne({},n),{},{children:t}))},Oi.Meta=function(e){var t=e.children,n=re(e,Ci);return(0,Wt.jsx)(di,ne(ne({},n),{},{children:t}))},Oi.Item=function(e){var t=e.item,n=e.children,i=re(e,Ni),a=(0,r.useContext)(Ri),o=a.setShowFeature,u=a.setItemFeature;return(0,Wt.jsx)(vi,ne(ne({onClick:function(){u(t),o(!0)}},i),{},{children:n}))},Oi.Image=function(e){var t=Object.assign({},e);return(0,Wt.jsx)(pi,ne({},t))},Oi.Feature=function(e){var t=e.children,n=e.category,i=re(e,Ai),a=(0,r.useContext)(Ri),o=a.showFeature,u=a.itemFeature,s=a.setShowFeature;return o?(0,Wt.jsx)(yi,ne(ne({},i),{},{src:"/images/".concat(n,"/").concat(u.genre,"/").concat(u.slug,"/large.jpg"),children:(0,Wt.jsxs)(wi,{children:[(0,Wt.jsx)(gi,{children:u.title}),(0,Wt.jsx)(mi,{children:u.description}),(0,Wt.jsx)(ki,{onClick:function(){return s(!1)},children:(0,Wt.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,Wt.jsxs)(ci,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,Wt.jsx)(bi,{rating:u.maturity,children:u.maturity<12?"PG":u.maturity}),(0,Wt.jsx)(mi,{fontWeight:"bold",children:u.genre.charAt(0).toUpperCase()+u.genre.slice(1)})]}),t]})})):null};var Pi=Mt.div.withConfig({displayName:"player__Container",componentId:"sc-1hdh2k5-0"})([""]),Di=Mt.div.withConfig({displayName:"player__Overlay",componentId:"sc-1hdh2k5-1"})(["display:flex;flex-direction:column;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);margin:0 20px;"]),Li=Mt.div.withConfig({displayName:"player__Inner",componentId:"sc-1hdh2k5-2"})(["position:relative;width:100%;max-width:900px;margin:auto;video{height:100%;width:100%;}"]),Mi=Mt.button.withConfig({displayName:"player__Close",componentId:"sc-1hdh2k5-3"})(["position:absolute;right:15px;top:15px;width:22px;height:22px;opacity:0.3;background-color:transparent;border:0;cursor:pointer;&:hover{opacity:1;}&:before,&:after{position:absolute;left:10px;top:0;content:' ';height:22px;width:2px;background-color:#333;}&:before{transform:rotate(45deg);}&:after{transform:rotate(-45deg);}"]),Fi=Mt.button.withConfig({displayName:"player__Button",componentId:"sc-1hdh2k5-4"})(["background-color:#e50914;border-color:#ff0a16;width:115px;height:45px;text-transform:uppercase;font-weight:bold;color:white;font-size:18px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding-left:0;&:hover{transform:scale(1.05);background-color:#ff0a16;}"]),ji=["children"],Ui=["src"],Vi=(0,r.createContext)();function zi(e){var t=e.children,n=re(e,ji),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Wt.jsx)(Vi.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,Wt.jsx)(Pi,ne(ne({},n),{},{children:t}))})}function Bi(){return(0,Wt.jsx)(Jt.Container,{children:Z.map((function(e){return(0,Wt.jsxs)(Jt,{direction:e.direction,children:[(0,Wt.jsxs)(Jt.Pane,{children:[(0,Wt.jsx)(Jt.Title,{children:(0,Wt.jsx)("p",{children:e.title})}),(0,Wt.jsx)(Jt.SubTitle,{children:(0,Wt.jsx)("p",{children:e.subTitle})})]}),(0,Wt.jsx)(Jt.Pane,{children:(0,Wt.jsx)(Jt.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}function qi(){return(0,Wt.jsxs)(dn,{children:[(0,Wt.jsx)(dn.Title,{children:"Questions? Contact Us"}),(0,Wt.jsx)(dn.Break,{}),(0,Wt.jsxs)(dn.Row,{children:[(0,Wt.jsxs)(dn.Column,{children:[(0,Wt.jsx)(dn.Link,{href:"#",children:"FAQ"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Investor Relations"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Ways to Watch"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Coporate Information"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Netflix Originals"})]}),(0,Wt.jsxs)(dn.Column,{children:[(0,Wt.jsx)(dn.Link,{href:"#",children:"Help Centre"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Redeem Gift Cards"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Terms of Use"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Contact Us"})]}),(0,Wt.jsxs)(dn.Column,{children:[(0,Wt.jsx)(dn.Link,{href:"#",children:"Media Centre"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Buy Gift Cards"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Cookie Preferences"}),(0,Wt.jsx)(dn.Link,{href:"#",children:"Legal Notices"})]})]})]})}zi.Video=function(e){var t=e.src,n=re(e,Ui),a=(0,r.useContext)(Vi),o=a.showPlayer,u=a.setShowPlayer;return o?i.createPortal((0,Wt.jsx)(Di,ne(ne({onClick:function(){return u(!1)}},n),{},{children:(0,Wt.jsxs)(Li,{children:[(0,Wt.jsx)("video",{id:"netflix-player",controls:!0,children:(0,Wt.jsx)("source",{src:t,type:"video/mp4"})}),(0,Wt.jsx)(Mi,{})]})})),document.body):null},zi.Button=function(e){Object.assign({},e);var t=(0,r.useContext)(Vi),n=(t.showPlayer,t.setShowPlayer);return(0,Wt.jsx)(Fi,{onClick:function(){return n((function(e){return!e}))},children:"Play"})};var Wi=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function Ki(){return(0,Wt.jsxs)(En,{children:[(0,Wt.jsx)(En.Title,{children:"Frequently Asked Questions"}),Wi.map((function(e){return(0,Wt.jsxs)(En.Item,{children:[(0,Wt.jsx)(En.Header,{children:e.header}),(0,Wt.jsx)(En.Body,{children:e.body})]},e.id)})),(0,Wt.jsx)(En.Item,{}),(0,Wt.jsxs)(Ln,{children:[(0,Wt.jsx)(Ln.Input,{placeholder:"Email address"}),(0,Wt.jsx)(Ln.Button,{children:"Try it now"}),(0,Wt.jsx)(Ln.Break,{}),(0,Wt.jsx)(Ln.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}var Hi=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg";function Gi(e){var t=e.children;return(0,Wt.jsxs)(hr,{children:[(0,Wt.jsxs)(hr.Frame,{children:[(0,Wt.jsx)(hr.Logo,{to:Y,alt:"Netflix",src:Hi}),(0,Wt.jsx)(hr.ButtonLink,{to:X,children:"Sign In"})]}),t]})}function $i(){return(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)(Gi,{children:[(0,Wt.jsxs)(kr,{children:[(0,Wt.jsx)(kr.Title,{children:"Unlimted films, TV programs and more."}),(0,Wt.jsx)(kr.SubTitle,{children:"Watch anywhere. Cancel at any time."})]}),(0,Wt.jsxs)(Ln,{children:[(0,Wt.jsx)(Ln.Input,{placeholder:"Email address"}),(0,Wt.jsx)(Ln.Button,{children:"Try it now"}),(0,Wt.jsx)(Ln.Break,{}),(0,Wt.jsx)(Ln.Text,{children:"Ready to watch? Enter your email to create or restart your membership."})]})]}),(0,Wt.jsx)(Bi,{}),(0,Wt.jsx)(Ki,{}),(0,Wt.jsx)(qi,{})]})}function Qi(e,t){return Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qi(e,t)}function Yi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}function Xi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e,t){if(t&&("object"===Zi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ea(e)}function na(e){var t=Xi();return function(){var n,r=Ji(e);if(t){var i=Ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ta(this,n)}}function ra(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ia(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ra(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&oa(e.prototype,t),n&&oa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(e){return Array.isArray?Array.isArray(e):"[object Array]"===va(e)}function ca(e){return"string"===typeof e}function la(e){return"number"===typeof e}function fa(e){return!0===e||!1===e||function(e){return ha(e)&&null!==e}(e)&&"[object Boolean]"==va(e)}function ha(e){return"object"===typeof e}function da(e){return void 0!==e&&null!==e}function pa(e){return!e.trim().length}function va(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var ma=function(e){return"Invalid value for key ".concat(e)},ya=function(e){return"Pattern length exceeds max of ".concat(e,".")},ga=Object.prototype.hasOwnProperty,ka=function(){function e(t){var n=this;aa(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=wa(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return ua(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function wa(e){var t=null,n=null,r=null,i=1;if(ca(e)||sa(e))r=e,t=ba(e),n=xa(e);else{if(!ga.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var a=e.name;if(r=a,ga.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=ba(a),n=xa(a)}return{path:t,id:n,weight:i,src:r}}function ba(e){return sa(e)?e:e.split(".")}function xa(e){return sa(e)?e.join("."):e}var _a={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(da(t))if(i[a]){var o=t[i[a]];if(!da(o))return;if(a===i.length-1&&(ca(o)||la(o)||fa(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(sa(o)){r=!0;for(var u=0,s=o.length;u<s;u+=1)e(o[u],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,ca(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Ia=ne(ne(ne(ne({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),_a),Sa=/[^ ]+/g;function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(Sa).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var Ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Ia.getFn:n,i=t.fieldNormWeight,a=void 0===i?Ia.fieldNormWeight:i;aa(this,e),this.norm=Ea(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return ua(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,ca(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();ca(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(da(e)&&!pa(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=n.getFn(e,t.path);if(da(a))if(sa(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),u=o.nestedArrIndex,s=o.value;if(da(s))if(ca(s)&&!pa(s)){var c={v:s,i:u,n:n.norm.get(s)};e.push(c)}else sa(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if(!pa(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?Ia.getFn:r,a=n.fieldNormWeight,o=void 0===a?Ia.fieldNormWeight:a,u=new Ta({getFn:i,fieldNormWeight:o});return u.setKeys(e.map(wa)),u.setSources(t),u.create(),u}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,u=void 0===o?0:o,s=t.distance,c=void 0===s?Ia.distance:s,l=t.ignoreLocation,f=void 0===l?Ia.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(u-a);return c?h+d/c:d?1:h}function Aa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var u=e[a];u&&-1===r?r=a:u||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var Ra=32;function Oa(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var Pa=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?Ia.location:i,o=r.threshold,u=void 0===o?Ia.threshold:o,s=r.distance,c=void 0===s?Ia.distance:s,l=r.includeMatches,f=void 0===l?Ia.includeMatches:l,h=r.findAllMatches,d=void 0===h?Ia.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?Ia.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?Ia.isCaseSensitive:m,g=r.ignoreLocation,k=void 0===g?Ia.ignoreLocation:g;if(aa(this,e),this.options={location:a,threshold:u,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:k},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:Oa(e),startIndex:t})},b=this.pattern.length;if(b>Ra){for(var x=0,_=b%Ra,I=b-_;x<I;)w(this.pattern.substr(x,Ra),x),x+=Ra;if(_){var S=b-Ra;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return ua(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,u=a.distance,s=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?Ia.location:i,o=r.distance,u=void 0===o?Ia.distance:o,s=r.threshold,c=void 0===s?Ia.threshold:s,l=r.findAllMatches,f=void 0===l?Ia.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?Ia.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?Ia.includeMatches:p,m=r.ignoreLocation,y=void 0===m?Ia.ignoreLocation:m;if(t.length>Ra)throw new Error(ya(Ra));for(var g,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,I=d>1||v,S=I?Array(w):[];(g=e.indexOf(t,_))>-1;){var E=Na(t,{currentLocation:g,expectedLocation:b,distance:u,ignoreLocation:y});if(x=Math.min(E,x),_=g+k,I)for(var T=0;T<k;)S[g+T]=1,T+=1}_=-1;for(var C=[],N=1,A=k+w,R=1<<k-1,O=0;O<k;O+=1){for(var P=0,D=A;P<D;){Na(t,{errors:O,currentLocation:b+D,expectedLocation:b,distance:u,ignoreLocation:y})<=x?P=D:A=D,D=Math.floor((A-P)/2+P)}A=D;var L=Math.max(1,b-D+1),M=f?w:Math.min(b+D,w)+k,F=Array(M+2);F[M+1]=(1<<O)-1;for(var j=M;j>=L;j-=1){var U=j-1,V=n[e.charAt(U)];if(I&&(S[U]=+!!V),F[j]=(F[j+1]<<1|1)&V,O&&(F[j]|=(C[j+1]|C[j])<<1|1|C[j+1]),F[j]&R&&(N=Na(t,{errors:O,currentLocation:U,expectedLocation:b,distance:u,ignoreLocation:y}))<=x){if(x=N,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(Na(t,{errors:O+1,currentLocation:b,expectedLocation:b,distance:u,ignoreLocation:y})>x)break;C=F}var z={isMatch:_>=0,score:Math.max(.001,N)};if(I){var B=Aa(S,d);B.length?v&&(z.indices=B):z.isMatch=!1}return z}(e,n,i,{location:o+a,distance:u,threshold:s,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),d+=y,m&&g&&(h=[].concat(ia(h),ia(g)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),Da=function(){function e(t){aa(this,e),this.pattern=t}return ua(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return La(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return La(e,this.singleRegex)}}]),e}();function La(e,t){var n=e.match(t);return n?n[1]:null}var Ma=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(Da),Fa=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(Da),ja=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(Da),Ua=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(Da),Va=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(Da),za=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(Da),Ba=function(e){Yi(n,e);var t=na(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?Ia.location:a,u=i.threshold,s=void 0===u?Ia.threshold:u,c=i.distance,l=void 0===c?Ia.distance:c,f=i.includeMatches,h=void 0===f?Ia.includeMatches:f,d=i.findAllMatches,p=void 0===d?Ia.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?Ia.minMatchCharLength:v,y=i.isCaseSensitive,g=void 0===y?Ia.isCaseSensitive:y,k=i.ignoreLocation,w=void 0===k?Ia.ignoreLocation:k;return aa(this,n),(r=t.call(this,e))._bitapSearch=new Pa(e,{location:o,threshold:s,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return ua(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(Da),qa=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),t.call(this,e)}return ua(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(Da),Wa=[Ma,qa,ja,Ua,za,Va,Fa,Ba],Ka=Wa.length,Ha=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Ha).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],u=!1,s=-1;!u&&++s<Ka;){var c=Wa[s],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),u=!0)}if(!u)for(s=-1;++s<Ka;){var f=Wa[s],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var $a=new Set([Ba.type,qa.type]),Qa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?Ia.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?Ia.includeMatches:a,u=n.minMatchCharLength,s=void 0===u?Ia.minMatchCharLength:u,c=n.ignoreLocation,l=void 0===c?Ia.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?Ia.findAllMatches:f,d=n.location,p=void 0===d?Ia.location:d,v=n.threshold,m=void 0===v?Ia.threshold:v,y=n.distance,g=void 0===y?Ia.distance:y;aa(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:s,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:g},this.pattern=i?t:t.toLowerCase(),this.query=Ga(this.pattern,this.options)}return ua(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,u=0,s=t.length;u<s;u+=1){var c=t[u];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var y=h.constructor.type;$a.has(y)?a=[].concat(ia(a),ia(v)):a.push(v)}}if(i){var g={isMatch:!0,score:o/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Ya=[];function Ja(e,t){for(var n=0,r=Ya.length;n<r;n+=1){var i=Ya[n];if(i.condition(e,t))return new i(e,t)}return new Pa(e,t)}var Xa="$and",Za="$or",eo="$path",to="$val",no=function(e){return!(!e[Xa]&&!e[Za])},ro=function(e){return!!e[eo]},io=function(e){return!sa(e)&&ha(e)&&!no(e)},ao=function(e){return ee({},Xa,Object.keys(e).map((function(t){return ee({},t,e[t])})))};function oo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=ro(n);if(!a&&r.length>1&&!no(n))return e(ao(n));if(io(n)){var o=a?n[eo]:r[0],u=a?n[to]:n[o];if(!ca(u))throw new Error(ma(o));var s={keyId:xa(o),pattern:u};return i&&(s.searcher=Ja(u,t)),s}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];sa(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return no(e)||(e=ao(e)),a(e)}function uo(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Ia.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function so(e,t){var n=e.matches;t.matches=[],da(n)&&n.forEach((function(e){if(da(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function co(e,t){t.score=e.score}function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?Ia.includeMatches:r,a=n.includeScore,o=void 0===a?Ia.includeScore:a,u=[];return i&&u.push(so),o&&u.push(co),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return u.length&&u.forEach((function(t){t(e,r)})),r}))}var fo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;aa(this,e),this.options=ne(ne({},Ia),n),this.options.useExtendedSearch,this._keyStore=new ka(this.options.keys),this.setCollection(t,r)}return ua(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof Ta))throw new Error("Incorrect 'index' type");this._myIndex=t||Ca(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){da(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,u=i.shouldSort,s=i.sortFn,c=i.ignoreFieldNorm,l=ca(e)?ca(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return uo(l,{ignoreFieldNorm:c}),u&&l.sort(s),la(r)&&r>-1&&(l=l.slice(0,r)),lo(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=Ja(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(da(n)){var o=t.searchIn(n),u=o.isMatch,s=o.score,c=o.indices;u&&r.push({item:n,idx:i,matches:[{score:s,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=oo(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,u=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return u&&u.length?[{idx:i,item:r,matches:u}]:[]}for(var s=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)s.push.apply(s,ia(f));else if(n.operator===Xa)return[]}return s},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(da(t)){var u=r(n,t,i);u.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),u.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,ia(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=Ja(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(da(r)){var u=[];i.forEach((function(e,i){u.push.apply(u,ia(t._findMatches({key:e,value:r[i],searcher:n})))})),u.length&&o.push({idx:a,item:r,matches:u})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!da(n))return[];var i=[];if(sa(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(da(n)){var u=r.searchIn(n),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,u=r.searchIn(a),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();function ho(e){var t=e.user,n=e.setProfile;return(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsx)(hr,{bg:!1,children:(0,Wt.jsx)(hr.Frame,{children:(0,Wt.jsx)(hr.Logo,{to:Y,src:Hi,alt:"Netflix"})})}),(0,Wt.jsxs)(Zr,{children:[(0,Wt.jsx)(Zr.Title,{children:"Who's watching?"}),(0,Wt.jsx)(Zr.List,{children:(0,Wt.jsxs)(Zr.Item,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},children:[(0,Wt.jsx)(Zr.Picture,{src:t.photoURL}),(0,Wt.jsx)(Zr.Name,{children:t.displayName})]})})]})]})}fo.version="6.5.3",fo.createIndex=Ca,fo.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Ia.getFn:n,i=t.fieldNormWeight,a=void 0===i?Ia.fieldNormWeight:i,o=e.keys,u=e.records,s=new Ta({getFn:r,fieldNormWeight:a});return s.setKeys(o),s.setIndexRecords(u),s},fo.config=Ia,fo.parseQuery=oo,function(){Ya.push.apply(Ya,arguments)}(Qa);var po=(0,r.createContext)(null);function vo(e){var t=e.slides,n=c((0,r.useState)("series"),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)({}),2),f=l[0],h=l[1],d=c((0,r.useState)(!0),2),p=d[0],v=d[1],m=c((0,r.useState)([]),2),y=m[0],g=m[1],k=(0,r.useContext)(po).firebase,w=k.auth().currentUser||{};return(0,r.useEffect)((function(){g(t[i])}),[t,i]),(0,r.useEffect)((function(){setTimeout((function(){v(!1)}),3e3)}),[f.displayName]),(0,r.useEffect)((function(){var e=new fo(y,{keys:["data.description","data.title","data.genre"]}).search(u).map((function(e){return e.item}));y.length>0&&u.length>3&&e.length>0?g(e):g(t[i])}),[u]),f.displayName?(0,Wt.jsxs)(Wt.Fragment,{children:[p?(0,Wt.jsx)(oi,{src:w.photoURL}):(0,Wt.jsx)(oi.ReleaseBody,{}),(0,Wt.jsxs)(hr,{src:"joker1",dontShowOnSmallViewPort:!0,children:[(0,Wt.jsxs)(hr.Frame,{children:[(0,Wt.jsxs)(hr.Group,{children:[(0,Wt.jsx)(hr.Logo,{to:Y,src:Hi,alt:"Netflix"}),(0,Wt.jsx)(hr.TextLink,{active:"series"===i?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,Wt.jsx)(hr.TextLink,{active:"films"===i?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,Wt.jsxs)(hr.Group,{children:[(0,Wt.jsx)(hr.Search,{searchTerm:u,setSearchTerm:s}),(0,Wt.jsxs)(hr.Profile,{children:[(0,Wt.jsx)(hr.Picture,{src:w.photoURL}),(0,Wt.jsxs)(hr.Dropdown,{children:[(0,Wt.jsxs)(hr.Group,{children:[(0,Wt.jsx)(hr.Picture,{src:w.photoURL}),(0,Wt.jsx)(hr.TextLink,{children:w.displayName})]}),(0,Wt.jsx)(hr.Group,{children:(0,Wt.jsx)(hr.TextLink,{onClick:function(){return k.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,Wt.jsxs)(hr.Feature,{children:[(0,Wt.jsx)(hr.FeatureCallOut,{children:"Watch Joker Now"}),(0,Wt.jsx)(hr.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,Wt.jsx)(hr.PlayButton,{children:"Play"})]})]}),(0,Wt.jsx)(Oi.Group,{children:y.map((function(e){return(0,Wt.jsxs)(Oi,{children:[(0,Wt.jsx)(Oi.Title,{children:e.title}),(0,Wt.jsx)(Oi.Entities,{children:e.data.map((function(e){return(0,Wt.jsxs)(Oi.Item,{item:e,children:[(0,Wt.jsx)(Oi.Image,{src:"/images/".concat(i,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,Wt.jsxs)(Oi.Meta,{children:[(0,Wt.jsx)(Oi.SubTitle,{children:e.title}),(0,Wt.jsx)(Oi.Text,{children:e.description})]})]},e.docId)}))}),(0,Wt.jsx)(Oi.Feature,{category:i,children:(0,Wt.jsxs)(zi,{children:[(0,Wt.jsx)(zi.Button,{}),(0,Wt.jsx)(zi.Video,{src:"/videos/bunny.mp4"})]})})]},"".concat(i,"-").concat(e.title.toLowerCase()))}))}),(0,Wt.jsx)(qi,{})]}):(0,Wt.jsx)(ho,{user:w,setProfile:h})}function mo(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=(0,r.useContext)(po).firebase;return(0,r.useEffect)((function(){a.firestore().collection(e).get().then((function(e){var t=e.docs.map((function(e){return ne(ne({},e.data()),{},{docId:e.id})}));i(t)})).catch((function(e){console.log(e.message)}))})),ee({},e,n)}function yo(){var e=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:t.filter((function(e){return"children"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:t.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:t.filter((function(e){return"romance"===e.genre}))}]}}({series:mo("series").series,films:mo("films").films});return(0,Wt.jsx)(vo,{slides:e})}function go(){var e=N(),t=(0,r.useContext)(po).firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=""===u||""===i;return(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsx)(Gi,{children:(0,Wt.jsxs)(jr,{children:[(0,Wt.jsx)(jr.Title,{children:"Sign In"}),f&&(0,Wt.jsx)(jr.Error,{children:f}),(0,Wt.jsxs)(jr.Base,{onSubmit:function(n){return n.preventDefault(),t.auth().signInWithEmailAndPassword(i,u).then((function(){e(J)})).catch((function(e){a(""),s(""),h(e.message)}))},method:"POST",children:[(0,Wt.jsx)(jr.Input,{placeholder:"Email address",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,Wt.jsx)(jr.Input,{placeholder:"Password",type:"password",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,Wt.jsx)(jr.Submit,{disabled:d,type:"submit",children:"Sign In"})]}),(0,Wt.jsxs)(jr.Text,{children:["New to Netlfix? ",(0,Wt.jsx)(jr.Link,{to:"/signup",children:"Sign up now."})]}),(0,Wt.jsx)(jr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,Wt.jsx)(qi,{})]})}function ko(){var e=N(),t=(0,r.useContext)(po).firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=""===i||""===f||""===u;return(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsx)(Gi,{children:(0,Wt.jsxs)(jr,{children:[(0,Wt.jsx)(jr.Title,{children:"Sign up"}),p&&(0,Wt.jsx)(jr.Error,{children:p}),(0,Wt.jsxs)(jr.Base,{onSubmit:function(n){n.preventDefault(),t.auth().createUserWithEmailAndPassword(u,f).then((function(t){return t.user.updateProfile({displayName:i,photoURL:Math.floor(5*Math.random())+1}).then((function(){e(J)}))})).catch((function(e){a(""),s(""),h(""),v(e.message)}))},method:"POST",children:[(0,Wt.jsx)(jr.Input,{placeholder:"First name",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,Wt.jsx)(jr.Input,{placeholder:"Email address",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,Wt.jsx)(jr.Input,{type:"password",value:f,autoComplete:"off",placeholder:"Password",onChange:function(e){var t=e.target;return h(t.value)}}),(0,Wt.jsx)(jr.Submit,{disabled:m,type:"submit",children:"Sign Up"}),(0,Wt.jsxs)(jr.Text,{children:["Already a user? ",(0,Wt.jsx)(jr.Link,{to:"/signin",children:"Sign in now."})]}),(0,Wt.jsx)(jr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})]})}),(0,Wt.jsx)(qi,{})]})}var wo,bo=function(){var e=function(){var e=c((0,r.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],i=(0,r.useContext)(po).firebase;return(0,r.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?localStorage.setItem("authUser",JSON.stringify(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}}();return e.user},xo=function(){return bo()?(0,Wt.jsx)(yo,{}):(0,Wt.jsx)(go,{})};function _o(){return(0,Wt.jsx)(Wt.Fragment,{children:(0,Wt.jsx)($,{children:(0,Wt.jsxs)(S,{children:[(0,Wt.jsx)(_,{element:(0,Wt.jsx)(xo,{}),children:(0,Wt.jsx)(_,{exact:!0,path:X,element:(0,Wt.jsx)(go,{})})}),(0,Wt.jsx)(_,{exact:!0,path:Y,element:(0,Wt.jsx)($i,{})}),(0,Wt.jsx)(_,{exact:!0,path:"/signup",element:(0,Wt.jsx)(ko,{})}),(0,Wt.jsx)(_,{exact:!0,path:J,element:(0,Wt.jsx)(yo,{})})]})})})}var Io=Lt(wo||(wo=ei(["\nhtml, body {\n    font-family: 'Helvetica Neue', Helvetica, Arial, Helvetica, sans-serif, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: black;\n    color: #333333;\n    font-size: 16px\n}\n"])));function So(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Eo(e,t,n){return Eo=Xi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qi(i,n.prototype),i},Eo.apply(null,arguments)}function To(e){var t="function"===typeof Map?new Map:void 0;return To=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Eo(e,arguments,Ji(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qi(n,e)},To(e)}var Co=n(757),No=n.n(Co),Ao=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ro={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ao(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Oo=function(e){return function(e){var t=Ao(e);return Ro.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Po=function(e){try{return Ro.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Do(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Do(e[n],t[n]));return e}var Lo=function(){function e(){var t=this;aa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ua(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oo(JSON.stringify({alg:"none",type:"JWT"})),Oo(JSON.stringify(a)),""].join(".")}function Fo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fo())}function Uo(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Vo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function zo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Bo(){var e=Fo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qo(){return"object"===typeof indexedDB}var Wo=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ea(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ea(a),Ko.prototype.create),a}return ua(n)}(To(Error)),Ko=function(){function e(t,n,r){aa(this,e),this.service=t,this.serviceName=n,this.errors=r}return ua(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ho(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Wo(n,a,t);return o}}]),e}();function Ho(e,t){return e.replace(Go,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Go=/\{\$([^}]+)}/g;function $o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Yo(u)&&Yo(s)){if(!Qo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yo(e){return null!==e&&"object"===typeof e}function Jo(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xo(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Zo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function eu(e,t){var n=new tu(e,t);return n.subscribe.bind(n)}var tu=function(){function e(t,n){var r=this;aa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ua(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=So(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=nu),void 0===r.error&&(r.error=nu),void 0===r.complete&&(r.complete=nu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function nu(){}function ru(e){return e&&e._delegate?e._delegate:e}function iu(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var au=function(){function e(t){aa(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ua(e,[{key:"transaction",value:function(e,t){return new ou(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new uu(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ou=function(){function e(t){var n=this;aa(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ua(e,[{key:"objectStore",value:function(e){return new uu(this._transaction.objectStore(e))}}]),e}(),uu=function(){function e(t){aa(this,e),this._store=t}return ua(e,[{key:"index",value:function(e){return new su(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new su(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return iu(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return iu(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return iu(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return iu(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),su=function(){function e(t){aa(this,e),this._index=t}return ua(e,[{key:"get",value:function(e){return iu(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function cu(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function lu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){cu(a,r,i,o,u,"next",e)}function u(e){cu(a,r,i,o,u,"throw",e)}o(void 0)}))}}var fu=function(){function e(t,n,r){aa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ua(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),hu="[DEFAULT]",du=function(){function e(t,n){aa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ua(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Lo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hu})}catch(s){}var t,n=So(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=lu(Co.mark((function e(){var t;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ia(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ia(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=So(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Sw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===hu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Sw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu;return this.component?this.component.multipleInstances?e:hu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pu,vu,mu=function(){function e(t){aa(this,e),this.name=t,this.providers=new Map}return ua(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new du(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vu||(vu={}));var gu,ku,wu={debug:vu.DEBUG,verbose:vu.VERBOSE,info:vu.INFO,warn:vu.WARN,error:vu.ERROR,silent:vu.SILENT},bu=vu.INFO,xu=(ee(pu={},vu.DEBUG,"log"),ee(pu,vu.VERBOSE,"log"),ee(pu,vu.INFO,"info"),ee(pu,vu.WARN,"warn"),ee(pu,vu.ERROR,"error"),pu),_u=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=xu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Iu=function(){function e(t){aa(this,e),this.name=t,this._logLevel=bu,this._logHandler=_u,this._userLogHandler=null,yu.push(this)}return ua(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vu.DEBUG].concat(t)),this._logHandler.apply(this,[this,vu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vu.INFO].concat(t)),this._logHandler.apply(this,[this,vu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vu.WARN].concat(t)),this._logHandler.apply(this,[this,vu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vu.ERROR].concat(t)),this._logHandler.apply(this,[this,vu.ERROR].concat(t))}}]),e}();var Su=function(){function e(t){aa(this,e),this.container=t}return ua(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Eu="@firebase/app",Tu="0.7.19",Cu=new Iu("@firebase/app"),Nu="[DEFAULT]",Au=(ee(gu={},Eu,"fire-core"),ee(gu,"@firebase/app-compat","fire-core-compat"),ee(gu,"@firebase/analytics","fire-analytics"),ee(gu,"@firebase/analytics-compat","fire-analytics-compat"),ee(gu,"@firebase/app-check","fire-app-check"),ee(gu,"@firebase/app-check-compat","fire-app-check-compat"),ee(gu,"@firebase/auth","fire-auth"),ee(gu,"@firebase/auth-compat","fire-auth-compat"),ee(gu,"@firebase/database","fire-rtdb"),ee(gu,"@firebase/database-compat","fire-rtdb-compat"),ee(gu,"@firebase/functions","fire-fn"),ee(gu,"@firebase/functions-compat","fire-fn-compat"),ee(gu,"@firebase/installations","fire-iid"),ee(gu,"@firebase/installations-compat","fire-iid-compat"),ee(gu,"@firebase/messaging","fire-fcm"),ee(gu,"@firebase/messaging-compat","fire-fcm-compat"),ee(gu,"@firebase/performance","fire-perf"),ee(gu,"@firebase/performance-compat","fire-perf-compat"),ee(gu,"@firebase/remote-config","fire-rc"),ee(gu,"@firebase/remote-config-compat","fire-rc-compat"),ee(gu,"@firebase/storage","fire-gcs"),ee(gu,"@firebase/storage-compat","fire-gcs-compat"),ee(gu,"@firebase/firestore","fire-fst"),ee(gu,"@firebase/firestore-compat","fire-fst-compat"),ee(gu,"fire-js","fire-js"),ee(gu,"firebase","fire-js-all"),gu),Ru=new Map,Ou=new Map;function Pu(e,t){try{e.container.addComponent(t)}catch(n){Cu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Du(e,t){e.container.addOrOverwriteComponent(t)}function Lu(e){var t=e.name;if(Ou.has(t))return Cu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ou.set(t,e);var n,r=So(Ru.values());try{for(r.s();!(n=r.n()).done;){Pu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Mu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu;Mu(e,t).clearInstance(n)}function ju(){Ou.clear()}var Uu=(ee(ku={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(ku,"bad-app-name","Illegal App name: '{$appName}"),ee(ku,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ee(ku,"app-deleted","Firebase App named '{$appName}' already deleted"),ee(ku,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ee(ku,"invalid-log-argument","First argument to `onLog` must be null or a function."),ee(ku,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ee(ku,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ee(ku,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ee(ku,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ku),Vu=new Ko("app","Firebase",Uu),zu=function(){function e(t,n,r){var i=this;aa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fu("app",(function(){return i}),"PUBLIC"))}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vu.create("app-deleted",{appName:this._name})}}]),e}(),Bu="9.6.9";function qu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vu.create("bad-app-name",{appName:String(i)});var a=Ru.get(i);if(a){if(Qo(e,a.options)&&Qo(r,a.config))return a;throw Vu.create("duplicate-app",{appName:i})}var o,u=new mu(i),s=So(Ou.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new zu(e,r,u);return Ru.set(i,l),l}function Wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu,t=Ru.get(e);if(!t)throw Vu.create("no-app",{appName:e});return t}function Ku(){return Array.from(Ru.values())}function Hu(e){return Gu.apply(this,arguments)}function Gu(){return(Gu=lu(Co.mark((function e(t){var n;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ru.has(n)){e.next=6;break}return Ru.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e,t,n){var r,i=null!==(r=Au[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cu.warn(u.join(" "))}Lu(new fu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Qu(e,t){if(null!==e&&"function"!==typeof e)throw Vu.create("invalid-log-argument");!function(e,t){var n,r=So(yu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=wu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Yu(e){var t;t=e,yu.forEach((function(e){e.setLogLevel(t)}))}var Ju="firebase-heartbeat-store",Xu=null;function Zu(){var e,t,n;return Xu||(Xu=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ju)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new au(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new au(a.result),e.oldVersion,e.newVersion,new ou(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Vu.create("storage-open",{originalErrorMessage:e.message})}))),Xu}function es(e){return ts.apply(this,arguments)}function ts(){return ts=lu(Co.mark((function e(t){var n;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zu();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ju).objectStore(Ju).get(is(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Vu.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=lu(Co.mark((function e(t,n){var r,i,a;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zu();case 3:return r=e.sent,i=r.transaction(Ju,"readwrite"),a=i.objectStore(Ju),e.next=8,a.put(n,is(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Vu.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rs.apply(this,arguments)}function is(e){return"".concat(e.name,"!").concat(e.options.appId)}var as=function(){function e(t){var n=this;aa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ls(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ua(e,[{key:"triggerHeartbeat",value:function(){var e=lu(Co.mark((function e(){var t,n,r;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=os(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=lu(Co.mark((function e(){var t,n,r,i,a;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=os(),n=us(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Oo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function os(){return(new Date).toISOString().substring(0,10)}function us(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=So(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ss,cs,ls=function(){function e(t){aa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ua(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=lu(Co.mark((function e(){return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qo()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=lu(Co.mark((function e(){var t;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,es(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=lu(Co.mark((function e(t){var n,r;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=lu(Co.mark((function e(t){var n,r;return Co.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ia(r.heartbeats),ia(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fs(e){return Oo(JSON.stringify({version:2,heartbeats:e})).length}ss="",Lu(new fu("platform-logger",(function(e){return new Su(e)}),"PRIVATE")),Lu(new fu("heartbeat",(function(e){return new as(e)}),"PRIVATE")),$u(Eu,Tu,ss),$u(Eu,Tu,"esm2017"),$u("fire-js","");var hs=function(){function e(t,n){var r=this;aa(this,e),this._delegate=t,this.firebase=n,Pu(t,new fu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Hu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Pu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Du(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ds=(ee(cs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(cs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),cs),ps=new Ko("app-compat","Firebase",ds);var vs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if($o(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$u,setLogLevel:Yu,onLog:Qu,apps:null,SDK_VERSION:Bu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Lu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ps.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Do(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!$o(n,e=e||Nu))throw ps.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(hs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Do(n,e)},createSubscribe:eu,ErrorFactory:Ko,deepExtend:Do}),n}(),ms=new Iu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ms.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ys=self.firebase.SDK_VERSION;ys&&ys.indexOf("LITE")>=0&&ms.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gs=vs;!function(e){$u("@firebase/app-compat","0.1.20",e)}();function ks(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ji(e)););return e}function ws(){return ws="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ks(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ws.apply(this,arguments)}gs.registerVersion("firebase","9.6.9","app-compat");var bs,xs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_s={},Is=Is||{},Ss=xs||self;function Es(){}function Ts(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ns="closure_uid_"+(1e9*Math.random()>>>0),As=0;function Rs(e,t,n){return e.call.apply(e.bind,arguments)}function Os(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ps(e,t,n){return(Ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rs:Os).apply(null,arguments)}function Ds(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ls(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ms(){this.s=this.s,this.o=this.o}var Fs={};Ms.prototype.s=!1,Ms.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ns)&&e[Ns]||(e[Ns]=++As)}(this);delete Fs[e]}},Ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var js=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Us=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Vs(e){return Array.prototype.concat.apply([],arguments)}function zs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bs(e){return/^[\s\xa0]*$/.test(e)}var qs,Ws=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ks(e,t){return-1!=e.indexOf(t)}function Hs(e,t){return e<t?-1:e>t?1:0}e:{var Gs=Ss.navigator;if(Gs){var $s=Gs.userAgent;if($s){qs=$s;break e}}qs=""}function Qs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ys(e){var t={};for(var n in e)t[n]=e[n];return t}var Js="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Js.length;a++)n=Js[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zs(e){return Zs[" "](e),e}Zs[" "]=Es;var ec,tc=Ks(qs,"Opera"),nc=Ks(qs,"Trident")||Ks(qs,"MSIE"),rc=Ks(qs,"Edge"),ic=rc||nc,ac=Ks(qs,"Gecko")&&!(Ks(qs.toLowerCase(),"webkit")&&!Ks(qs,"Edge"))&&!(Ks(qs,"Trident")||Ks(qs,"MSIE"))&&!Ks(qs,"Edge"),oc=Ks(qs.toLowerCase(),"webkit")&&!Ks(qs,"Edge");function uc(){var e=Ss.document;return e?e.documentMode:void 0}e:{var sc="",cc=function(){var e=qs;return ac?/rv:([^\);]+)(\)|;)/.exec(e):rc?/Edge\/([\d\.]+)/.exec(e):nc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):oc?/WebKit\/(\S+)/.exec(e):tc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cc&&(sc=cc?cc[1]:""),nc){var lc=uc();if(null!=lc&&lc>parseFloat(sc)){ec=String(lc);break e}}ec=sc}var fc,hc={};function dc(){return function(e){var t=hc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ws(String(ec)).split("."),n=Ws("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Hs(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Hs(0==a[2].length,0==o[2].length)||Hs(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ss.document&&nc){var pc=uc();fc=pc||(parseInt(ec,10)||void 0)}else fc=void 0;var vc=fc,mc=function(){if(!Ss.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ss.addEventListener("test",Es,t),Ss.removeEventListener("test",Es,t)}catch(n){}return e}();function yc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gc(e,t){if(yc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ac){e:{try{Zs(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gc.Z.h.call(this)}}yc.prototype.h=function(){this.defaultPrevented=!0},Ls(gc,yc);var kc={2:"touch",3:"pen",4:"mouse"};gc.prototype.h=function(){gc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wc="closure_listenable_"+(1e6*Math.random()|0),bc=0;function xc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++bc,this.ca=this.fa=!1}function _c(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ic(e){this.src=e,this.g={},this.h=0}function Sc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=js(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(_c(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ec(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ic.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ec(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new xc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Tc="closure_lm_"+(1e6*Math.random()|0),Cc={};function Nc(e,t,n,r,i){if(r&&r.once)return Rc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nc(e,t[a],n,r,i);return null}return n=jc(n),e&&e[wc]?e.N(t,n,Cs(r)?!!r.capture:!!r,i):Ac(e,t,n,!1,r,i)}function Ac(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cs(i)?!!i.capture:!!i,u=Mc(e);if(u||(e[Tc]=u=new Ic(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Dc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rc(e,t[a],n,r,i);return null}return n=jc(n),e&&e[wc]?e.O(t,n,Cs(r)?!!r.capture:!!r,i):Ac(e,t,n,!0,r,i)}function Oc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Oc(e,t[a],n,r,i);else r=Cs(r)?!!r.capture:!!r,n=jc(n),e&&e[wc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ec(a=e.g[t],n,r,i))&&(_c(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Mc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ec(t,n,r,i)),(n=-1<e?t[e]:null)&&Pc(n))}function Pc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wc])Sc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Dc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mc(t))?(Sc(n,e),0==n.h&&(n.src=null,t[Tc]=null)):_c(e)}}}function Dc(e){return e in Cc?Cc[e]:Cc[e]="on"+e}function Lc(e,t){if(e.ca)e=!0;else{t=new gc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Pc(e),e=n.call(r,t)}return e}function Mc(e){return(e=e[Tc])instanceof Ic?e:null}var Fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function jc(e){return"function"===typeof e?e:(e[Fc]||(e[Fc]=function(t){return e.handleEvent(t)}),e[Fc])}function Uc(){Ms.call(this),this.i=new Ic(this),this.P=this,this.I=null}function Vc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yc(t,e);else if(t instanceof yc)t.target=t.target||e;else{var i=t;Xs(t=new yc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=zc(o,r,!0,t)&&i}if(i=zc(o=t.g=e,r,!0,t)&&i,i=zc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=zc(o=t.g=n[a],r,!1,t)&&i}function zc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Sc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ls(Uc,Ms),Uc.prototype[wc]=!0,Uc.prototype.removeEventListener=function(e,t,n,r){Oc(this,e,t,n,r)},Uc.prototype.M=function(){if(Uc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_c(n[r]);delete t.g[e],t.h--}}this.I=null},Uc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bc=Ss.JSON.stringify;function qc(){var e=Jc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wc,Kc=function(){function e(){aa(this,e),this.h=this.g=null}return ua(e,[{key:"add",value:function(e,t){var n=Hc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hc=new(function(){function e(t,n){aa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ua(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Gc}),(function(e){return e.reset()})),Gc=function(){function e(){aa(this,e),this.next=this.g=this.h=null}return ua(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $c(e){Ss.setTimeout((function(){throw e}),0)}function Qc(e,t){Wc||function(){var e=Ss.Promise.resolve(void 0);Wc=function(){e.then(Xc)}}(),Yc||(Wc(),Yc=!0),Jc.add(e,t)}var Yc=!1,Jc=new Kc;function Xc(){for(var e;e=qc();){try{e.h.call(e.g)}catch(n){$c(n)}var t=Hc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yc=!1}function Zc(e,t){Uc.call(this),this.h=e||1,this.g=t||Ss,this.j=Ps(this.kb,this),this.l=Date.now()}function el(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function tl(e,t,n){if("function"===typeof e)n&&(e=Ps(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ps(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ss.setTimeout(e,t||0)}function nl(e){e.g=tl((function(){e.g=null,e.i&&(e.i=!1,nl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ls(Zc,Uc),(bs=Zc.prototype).da=!1,bs.S=null,bs.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vc(this,"tick"),this.da&&(el(this),this.start()))}},bs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bs.M=function(){Zc.Z.M.call(this),el(this),delete this.g};var rl=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ua(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:nl(this)}},{key:"M",value:function(){ws(Ji(n.prototype),"M",this).call(this),this.g&&(Ss.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ms);function il(e){Ms.call(this),this.h=e,this.g={}}Ls(il,Ms);var al=[];function ol(e,t,n,r){Array.isArray(n)||(n&&(al[0]=n.toString()),n=al);for(var i=0;i<n.length;i++){var a=Nc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ul(e){Qs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Pc(e)}),e),e.g={}}function sl(){this.g=!0}function cl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Bc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}il.prototype.M=function(){il.Z.M.call(this),ul(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sl.prototype.Aa=function(){this.g=!1},sl.prototype.info=function(){};var ll={},fl=null;function hl(){return fl=fl||new Uc}function dl(e){yc.call(this,ll.Ma,e)}function pl(e){var t=hl();Vc(t,new dl(t,e))}function vl(e,t){yc.call(this,ll.STAT_EVENT,e),this.stat=t}function ml(e){var t=hl();Vc(t,new vl(t,e))}function yl(e,t){yc.call(this,ll.Na,e),this.size=t}function gl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ss.setTimeout((function(){e()}),t)}ll.Ma="serverreachability",Ls(dl,yc),ll.STAT_EVENT="statevent",Ls(vl,yc),ll.Na="timingevent",Ls(yl,yc);var kl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bl(){}function xl(e){return e.h||(e.h=e.i())}function _l(){}bl.prototype.h=null;var Il,Sl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function El(){yc.call(this,"d")}function Tl(){yc.call(this,"c")}function Cl(){}function Nl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new il(this),this.P=Rl,e=ic?125:void 0,this.W=new Zc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}Ls(El,yc),Ls(Tl,yc),Ls(Cl,bl),Cl.prototype.g=function(){return new XMLHttpRequest},Cl.prototype.i=function(){return{}},Il=new Cl;var Rl=45e3,Ol={},Pl={};function Dl(e,t,n){e.K=1,e.v=rf(Jl(t)),e.s=n,e.U=!0,Ll(e,null)}function Ll(e,t){e.F=Date.now(),Ul(e),e.A=Jl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Al,e.g=kh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new rl(Ps(e.Ia,e,e.g),e.O)),ol(e.V,e.g,"readystatechange",e.gb),t=e.H?Ys(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ml(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Fl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jl(e,n))==Pl){4==t&&(e.o=4,ml(14),i=!1),cl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ol){e.o=4,ml(15),cl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cl(e.j,e.m,r,null),Wl(e,r)}Ml(e)&&r!=Pl&&r!=Ol&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ml(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fh(t),t.L=!0,ml(11))):(cl(e.j,e.m,n,"[Invalid Chunked Response]"),ql(e),Bl(e))}function jl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pl:(n=Number(t.substring(n,r)),isNaN(n)?Ol:(r+=1)+n>t.length?Pl:(t=t.substr(r,n),e.C=r+n,t))}function Ul(e){e.Y=Date.now()+e.P,Vl(e,e.P)}function Vl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gl(Ps(e.eb,e),t)}function zl(e){e.B&&(Ss.clearTimeout(e.B),e.B=null)}function Bl(e){0==e.l.G||e.I||ph(e.l,e)}function ql(e){zl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,el(e.W),ul(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Sf(n.i,e)))if(n.I=e.N,!e.J&&Sf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dh(n),nh(n)}lh(n),ml(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=gl(Ps(n.ab,n),6e3));if(1>=If(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else mh(n,11)}else if((e.J||n.g==e)&&dh(n),!Bs(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ks(l,"spdy")||Ks(l,"quic")||Ks(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ef(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,nf(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=gh(r,r.H?r.la:null,r.W),d.J){Tf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(zl(p),Ul(p)),r.g=d}else ch(r);0<n.l.length&&ah(n)}else"stop"!=a[0]&&"close"!=a[0]||mh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mh(n,7):th(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}pl(4)}catch(a){}}function Kl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ts(e)||"string"===typeof e)Us(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ts(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ts(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Hl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];$l(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)$l(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function $l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(bs=Nl.prototype).setTimeout=function(e){this.P=e},bs.gb=function(e){e=e.target;var t=this.L;t&&3==Yf(e)?t.l():this.Ia(e)},bs.Ia=function(e){try{if(e==this.g)e:{var t=Yf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ic||this.g&&(this.h.h||this.g.ga()||Jf(this.g)))){this.I||4!=t||7==n||pl(8==n||0>=r?3:2),zl(this);var i=this.g.ba();this.N=i;t:if(Ml(this)){var a=Jf(this.g);e="";var o=a.length,u=4==Yf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ql(this),Bl(this);var s="";break t}this.h.i=new Ss.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bs(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ml(12),ql(this),Bl(this);break e}cl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wl(this,i)}this.U?(Fl(this,t,s),ic&&this.i&&3==t&&(ol(this.V,this.W,"tick",this.fb),this.W.start())):(cl(this.j,this.m,s,null),Wl(this,s)),4==t&&ql(this),this.i&&!this.I&&(4==t?ph(this.l,this):(this.i=!1,Ul(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ml(12)):(this.o=0,ml(13)),ql(this),Bl(this)}}}catch(t){}},bs.fb=function(){if(this.g){var e=Yf(this.g),t=this.g.ga();this.C<t.length&&(zl(this),Fl(this,e,t),this.i&&4!=e&&Ul(this))}},bs.cancel=function(){this.I=!0,ql(this)},bs.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(pl(3),ml(17)),ql(this),this.o=2,Bl(this)):Vl(this,this.Y-e)},(bs=Hl.prototype).R=function(){Gl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},bs.T=function(){return Gl(this),this.g.concat()},bs.get=function(e,t){return $l(this.h,e)?this.h[e]:t},bs.set=function(e,t){$l(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},bs.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ql=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Yl){this.g=void 0!==t?t:e.g,Xl(this,e.j),this.s=e.s,Zl(this,e.i),ef(this,e.m),this.l=e.l,t=e.h;var n=new df;n.i=t.i,t.g&&(n.g=new Hl(t.g),n.h=t.h),tf(this,n),this.o=e.o}else e&&(n=String(e).match(Ql))?(this.g=!!t,Xl(this,n[1]||"",!0),this.s=af(n[2]||""),Zl(this,n[3]||"",!0),ef(this,n[4]),this.l=af(n[5]||"",!0),tf(this,n[6]||"",!0),this.o=af(n[7]||"")):(this.g=!!t,this.h=new df(null,this.g))}function Jl(e){return new Yl(e)}function Xl(e,t,n){e.j=n?af(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zl(e,t,n){e.i=n?af(t,!0):t}function ef(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tf(e,t,n){t instanceof df?(e.h=t,function(e,t){t&&!e.j&&(pf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vf(this,t),yf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=of(t,ff)),e.h=new df(t,e.g))}function nf(e,t,n){e.h.set(t,n)}function rf(e){return nf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function af(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function of(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,uf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(of(t,sf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(of(t,sf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(of(n,"/"==n.charAt(0)?lf:cf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",of(n,hf)),e.join("")};var sf=/[#\/\?@]/g,cf=/[#\?:]/g,lf=/[#\?]/g,ff=/[#\?@]/g,hf=/#/g;function df(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pf(e){e.g||(e.g=new Hl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vf(e,t){pf(e),t=gf(e,t),$l(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,$l((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gl(e)))}function mf(e,t){return pf(e),t=gf(e,t),$l(e.g.h,t)}function yf(e,t,n){vf(e,t),0<n.length&&(e.i=null,e.g.set(gf(e,t),zs(n)),e.h+=n.length)}function gf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bs=df.prototype).add=function(e,t){pf(this),this.i=null,e=gf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bs.forEach=function(e,t){pf(this),this.g.forEach((function(n,r){Us(n,(function(n){e.call(t,n,r,this)}),this)}),this)},bs.T=function(){pf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bs.R=function(e){pf(this);var t=[];if("string"===typeof e)mf(this,e)&&(t=Vs(t,this.g.get(gf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vs(t,e[n])}return t},bs.set=function(e,t){return pf(this),this.i=null,mf(this,e=gf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bs.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},bs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var kf=ua((function e(t,n){aa(this,e),this.h=t,this.g=n}));function wf(e){this.l=e||xf,Ss.PerformanceNavigationTiming?e=0<(e=Ss.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ss.g&&Ss.g.Ea&&Ss.g.Ea()&&Ss.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bf,xf=10;function _f(e){return!!e.h||!!e.g&&e.g.size>=e.j}function If(e){return e.h?1:e.g?e.g.size:0}function Sf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ef(e,t){e.g?e.g.add(t):e.h=t}function Tf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=So(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return zs(e.i)}function Nf(){}function Af(){this.g=new Nf}function Rf(e,t,n){var r=n||"";try{Kl(e,(function(e,n){var i=e;Cs(e)&&(i=Bc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Of(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pf(e){this.l=e.$b||null,this.j=e.ib||!1}function Df(e,t){Uc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wf.prototype.cancel=function(){if(this.i=Cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=So(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Nf.prototype.stringify=function(e){return Ss.JSON.stringify(e,void 0)},Nf.prototype.parse=function(e){return Ss.JSON.parse(e,void 0)},Ls(Pf,bl),Pf.prototype.g=function(){return new Df(this.l,this.j)},Pf.prototype.i=(bf={},function(){return bf}),Ls(Df,Uc);var Lf=0;function Mf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ff(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jf(e)}function jf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bs=Df.prototype).open=function(e,t){if(this.readyState!=Lf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jf(this)},bs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ss).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},bs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ff(this)),this.readyState=Lf},bs.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ss.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},bs.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ff(this):jf(this),3==this.readyState&&Mf(this)}},bs.Ua=function(e){this.g&&(this.response=this.responseText=e,Ff(this))},bs.Ta=function(e){this.g&&(this.response=e,Ff(this))},bs.ha=function(){this.g&&Ff(this)},bs.setRequestHeader=function(e,t){this.v.append(e,t)},bs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bs.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Uf=Ss.JSON.parse;function Vf(e){Uc.call(this),this.headers=new Hl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zf,this.K=this.L=!1}Ls(Vf,Uc);var zf="",Bf=/^https?$/i,qf=["POST","PUT"];function Wf(e){return"content-type"==e.toLowerCase()}function Kf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hf(e),$f(e)}function Hf(e){e.D||(e.D=!0,Vc(e,"complete"),Vc(e,"error"))}function Gf(e){if(e.h&&"undefined"!=typeof Is&&(!e.C[1]||4!=Yf(e)||2!=e.ba()))if(e.v&&4==Yf(e))tl(e.Fa,0,e);else if(Vc(e,"readystatechange"),4==Yf(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ql)[1]||null;if(!a&&Ss.self&&Ss.self.location){var o=Ss.self.location.protocol;a=o.substr(0,o.length-1)}i=!Bf.test(a?a.toLowerCase():"")}t=i}if(t)Vc(e,"complete"),Vc(e,"success");else{e.m=6;try{var u=2<Yf(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Hf(e)}}finally{$f(e)}}}function $f(e,t){if(e.g){Qf(e);var n=e.g,r=e.C[0]?Es:null;e.g=null,e.C=null,t||Vc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Qf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ss.clearTimeout(e.A),e.A=null)}function Yf(e){return e.g?e.g.readyState:0}function Jf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ke){return null}}function Xf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nf(e,t,n))}function Zf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function eh(e){this.za=0,this.l=[],this.h=new sl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zf("baseRetryDelayMs",5e3,e),this.$a=Zf("retryDelaySeedMs",1e4,e),this.Ya=Zf("forwardChannelMaxRetries",2,e),this.ra=Zf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wf(e&&e.concurrentRequestLimit),this.Ca=new Af,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function th(e){if(rh(e),3==e.G){var t=e.V++,n=Jl(e.F);nf(n,"SID",e.J),nf(n,"RID",t),nf(n,"TYPE","terminate"),uh(e,n),(t=new Nl(e,e.h,t,void 0)).K=2,t.v=rf(Jl(n)),n=!1,Ss.navigator&&Ss.navigator.sendBeacon&&(n=Ss.navigator.sendBeacon(t.v.toString(),"")),!n&&Ss.Image&&((new Image).src=t.v,n=!0),n||(t.g=kh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ul(t)}yh(e)}function nh(e){e.g&&(fh(e),e.g.cancel(),e.g=null)}function rh(e){nh(e),e.u&&(Ss.clearTimeout(e.u),e.u=null),dh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ss.clearTimeout(e.m),e.m=null)}function ih(e,t){e.l.push(new kf(e.Za++,t)),3==e.G&&ah(e)}function ah(e){_f(e.i)||e.m||(e.m=!0,Qc(e.Ha,e),e.C=0)}function oh(e,t){var n;n=t?t.m:e.V++;var r=Jl(e.F);nf(r,"SID",e.J),nf(r,"RID",n),nf(r,"AID",e.U),uh(e,r),e.o&&e.s&&Xf(r,e.o,e.s),n=new Nl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ef(e.i,n),Dl(n,r,t)}function uh(e,t){e.j&&Kl({},(function(e,n){nf(t,n,e)}))}function sh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ps(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Rf(l,o,"req"+c+"_")}catch(De){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ch(e){e.g||e.u||(e.Y=1,Qc(e.Ga,e),e.A=0)}function lh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=gl(Ps(e.Ga,e),vh(e,e.A)),e.A++,!0)}function fh(e){null!=e.B&&(Ss.clearTimeout(e.B),e.B=null)}function hh(e){e.g=new Nl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Jl(e.oa);nf(t,"RID","rpc"),nf(t,"SID",e.J),nf(t,"CI",e.N?"0":"1"),nf(t,"AID",e.U),uh(e,t),nf(t,"TYPE","xmlhttp"),e.o&&e.s&&Xf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rf(Jl(t)),n.s=null,n.U=!0,Ll(n,e)}function dh(e){null!=e.v&&(Ss.clearTimeout(e.v),e.v=null)}function ph(e,t){var n=null;if(e.g==t){dh(e),fh(e),e.g=null;var r=2}else{if(!Sf(e.i,t))return;n=t.D,Tf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vc(r=hl(),new yl(r,n,t,i)),ah(e)}else ch(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(If(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=gl(Ps(e.Ha,e,t),vh(e,e.C)),e.C++,!0))}(e,t)||2==r&&lh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mh(e,5);break;case 4:mh(e,10);break;case 3:mh(e,6);break;default:mh(e,2)}}function vh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ps(e.jb,e);n||(n=new Yl("//www.google.com/images/cleardot.gif"),Ss.location&&"http"==Ss.location.protocol||Xl(n,"https"),rf(n)),function(e,t){var n=new sl;if(Ss.Image){var r=new Image;r.onload=Ds(Of,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ds(Of,n,r,"TestLoadImage: error",!1,t),r.onabort=Ds(Of,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ds(Of,n,r,"TestLoadImage: timeout",!1,t),Ss.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ml(2);e.G=0,e.j&&e.j.va(t),yh(e),rh(e)}function yh(e){e.G=0,e.I=-1,e.j&&(0==Cf(e.i).length&&0==e.l.length||(e.i.i.length=0,zs(e.l),e.l.length=0),e.j.ua())}function gh(e,t,n){var r=function(e){return e instanceof Yl?Jl(e):new Yl(e,void 0)}(n);if(""!=r.i)t&&Zl(r,t+"."+r.i),ef(r,r.m);else{var i=Ss.location;r=function(e,t,n,r){var i=new Yl(null,void 0);return e&&Xl(i,e),t&&Zl(i,t),n&&ef(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qs(e.aa,(function(e,t){nf(r,t,e)})),t=e.D,n=e.sa,t&&n&&nf(r,t,n),nf(r,"VER",e.ma),uh(e,r),r}function kh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Vf(new Pf({ib:!0})):new Vf(e.qa)).L=e.H,t}function wh(){}function bh(){if(nc&&!(10<=Number(vc)))throw Error("Environmental error: no available transport.")}function xh(e,t){Uc.call(this),this.g=new eh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bs(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sh(this)}function _h(e){El.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ih(){Tl.call(this),this.status=1}function Sh(e){this.g=e}(bs=Vf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Il.g(),this.C=this.u?xl(this.u):xl(Il),this.g.onreadystatechange=Ps(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Kf(this,a)}e=n||"";var i=new Hl(this.headers);r&&Kl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ss.FormData&&e instanceof Ss.FormData,!(0<=js(qf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qf(this),0<this.B&&((this.K=function(e){return nc&&dc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ps(this.pa,this)):this.A=tl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Kf(this,a)}},bs.pa=function(){"undefined"!=typeof Is&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vc(this,"timeout"),this.abort(8))},bs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vc(this,"complete"),Vc(this,"abort"),$f(this))},bs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$f(this,!0)),Vf.Z.M.call(this)},bs.Fa=function(){this.s||(this.F||this.v||this.l?Gf(this):this.cb())},bs.cb=function(){Gf(this)},bs.ba=function(){try{return 2<Yf(this)?this.g.status:-1}catch(bf){return-1}},bs.ga=function(){try{return this.g?this.g.responseText:""}catch(bf){return""}},bs.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Uf(t)}},bs.Da=function(){return this.m},bs.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(bs=eh.prototype).ma=8,bs.G=1,bs.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ke){}},bs.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Nl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Xs(n=Ys(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sh(this,t,r),nf(i=Jl(this.F),"RID",e),nf(i,"CVER",22),this.D&&nf(i,"X-HTTP-Session-Id",this.D),uh(this,i),this.o&&n&&Xf(i,this.o,n),Ef(this.i,t),this.Ra&&nf(i,"TYPE","init"),this.ja?(nf(i,"$req",r),nf(i,"SID","null"),t.$=!0,Dl(t,i,null)):Dl(t,i,r),this.G=2}}else 3==this.G&&(e?oh(this,e):0==this.l.length||_f(this.i)||oh(this))},bs.Ga=function(){if(this.u=null,hh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=gl(Ps(this.bb,this),e)}},bs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ml(10),nh(this),hh(this))},bs.ab=function(){null!=this.v&&(this.v=null,nh(this),lh(this),ml(19))},bs.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ml(2)):(this.h.info("Failed to ping google.com"),ml(1))},(bs=wh.prototype).xa=function(){},bs.wa=function(){},bs.va=function(){},bs.ua=function(){},bs.Oa=function(){},bh.prototype.g=function(e,t){return new xh(e,t)},Ls(xh,Uc),xh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qc(Ps(e.hb,e,t))),ml(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gh(e,null,e.W),ah(e)},xh.prototype.close=function(){th(this.g)},xh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ih(this.g,t)}else this.v?((t={}).__data__=Bc(e),ih(this.g,t)):ih(this.g,e)},xh.prototype.M=function(){this.g.j=null,delete this.j,th(this.g),delete this.g,xh.Z.M.call(this)},Ls(_h,El),Ls(Ih,Tl),Ls(Sh,wh),Sh.prototype.xa=function(){Vc(this.g,"a")},Sh.prototype.wa=function(e){Vc(this.g,new _h(e))},Sh.prototype.va=function(e){Vc(this.g,new Ih(e))},Sh.prototype.ua=function(){Vc(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,xh.prototype.send=xh.prototype.u,xh.prototype.open=xh.prototype.m,xh.prototype.close=xh.prototype.close,kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,wl.COMPLETE="complete",_l.EventType=Sl,Sl.OPEN="a",Sl.CLOSE="b",Sl.ERROR="c",Sl.MESSAGE="d",Uc.prototype.listen=Uc.prototype.N,Vf.prototype.listenOnce=Vf.prototype.O,Vf.prototype.getLastError=Vf.prototype.La,Vf.prototype.getLastErrorCode=Vf.prototype.Da,Vf.prototype.getStatus=Vf.prototype.ba,Vf.prototype.getResponseJson=Vf.prototype.Qa,Vf.prototype.getResponseText=Vf.prototype.ga,Vf.prototype.send=Vf.prototype.ea;var Eh=_s.createWebChannelTransport=function(){return new bh},Th=_s.getStatEventTarget=function(){return hl()},Ch=_s.ErrorCode=kl,Nh=_s.EventType=wl,Ah=_s.Event=ll,Rh=_s.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Oh=_s.FetchXmlHttpFactory=Pf,Ph=_s.WebChannel=_l,Dh=_s.XhrIo=Vf,Lh="@firebase/firestore",Mh=function(){function e(t){aa(this,e),this.uid=t}return ua(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Mh.UNAUTHENTICATED=new Mh(null),Mh.GOOGLE_CREDENTIALS=new Mh("google-credentials-uid"),Mh.FIRST_PARTY=new Mh("first-party-uid"),Mh.MOCK_USER=new Mh("mock-user");var Fh="9.6.9",jh=new Iu("@firebase/firestore");function Uh(){return jh.logLevel}function Vh(e){if(jh.logLevel<=vu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qh);jh.debug.apply(jh,["Firestore (".concat(Fh,"): ").concat(e)].concat(ia(i)))}}function zh(e){if(jh.logLevel<=vu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qh);jh.error.apply(jh,["Firestore (".concat(Fh,"): ").concat(e)].concat(ia(i)))}}function Bh(e){if(jh.logLevel<=vu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qh);jh.warn.apply(jh,["Firestore (".concat(Fh,"): ").concat(e)].concat(ia(i)))}}function qh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fh,") INTERNAL ASSERTION FAILED: ")+e;throw zh(t),new Error(t)}function Kh(e,t){e||Wh()}function Hh(e,t){return e}var Gh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$h=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ua(n)}(Wo),Qh=ua((function e(){var t=this;aa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Yh=ua((function e(t,n){aa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Jh=function(){function e(){aa(this,e)}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Xh=function(){function e(t){aa(this,e),this.token=t,this.changeListener=null}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zh=function(){function e(t){aa(this,e),this.t=t,this.currentUser=Mh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Vh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Vh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Kh("string"==typeof n.accessToken),new Yh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Kh(null===e||"string"==typeof e),new Mh(e)}}]),e}(),ed=ua((function e(t,n,r){aa(this,e),this.type="FirstParty",this.user=Mh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),td=function(){function e(t,n,r){aa(this,e),this.h=t,this.l=n,this.m=r}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(new ed(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nd=ua((function e(t){aa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rd=function(){function e(t){aa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Vh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Vh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Kh("string"==typeof t.token),e.p=t.token,new nd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),id=function(){function e(t,n){var r=this;aa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ua(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function ad(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}id.A=-1;var od=function(){function e(){aa(this,e)}return ua(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ad(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ud(e,t){return e<t?-1:e>t?1:0}function sd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function cd(e){return e+"\0"}var ld=function(){function e(t,n){if(aa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new $h(Gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $h(Gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $h(Gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $h(Gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ua(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ud(this.nanoseconds,e.nanoseconds):ud(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),fd=function(){function e(t){aa(this,e),this.timestamp=t}return ua(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ld(0,0))}}]),e}();function hd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var vd=function(){function e(t,n,r){aa(this,e),void 0===n?n=0:n>t.length&&Wh(),void 0===r?r=t.length-n:r>t.length-n&&Wh(),this.segments=t,this.offset=n,this.len=r}return ua(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),md=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new $h(Gh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ia(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vd),yd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gd=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new $h(Gh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new $h(Gh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new $h(Gh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new $h(Gh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vd),kd=function(){function e(t){aa(this,e),this.fields=t,t.sort(gd.comparator)}return ua(e,[{key:"covers",value:function(e){var t,n=So(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var wd=function(e){function t(e){aa(this,t),this.binaryString=e}return ua(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ud(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();wd.EMPTY_BYTE_STRING=new wd("");var bd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xd(e){if(Kh(!!e),"string"==typeof e){var t=0,n=bd.exec(e);if(Kh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_d(e.seconds),nanos:_d(e.nanos)}}function _d(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Id(e){return"string"==typeof e?wd.fromBase64String(e):wd.fromUint8Array(e)}function Sd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ed(e){var t=e.mapValue.fields.__previous_value__;return Sd(t)?Ed(t):t}function Td(e){var t=xd(e.mapValue.fields.__local_write_time__.timestampValue);return new ld(t.seconds,t.nanos)}var Cd=ua((function e(t,n,r,i,a,o,u,s){aa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Nd=function(){function e(t,n){aa(this,e),this.projectId=t,this.database=n||"(default)"}return ua(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ad(e){return null==e}function Rd(e){return 0===e&&1/e==-1/0}function Od(e){return"number"==typeof e&&Number.isInteger(e)&&!Rd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Pd=function(){function e(t){aa(this,e),this.path=t}return ua(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===md.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(md.fromString(t))}},{key:"fromName",value:function(t){return new e(md.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(md.emptyPath())}},{key:"comparator",value:function(e,t){return md.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new md(t.slice()))}}]),e}(),Dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ld={nullValue:"NULL_VALUE"};function Md(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sd(e)?4:Yd(e)?9:10:Wh()}function Fd(e,t){if(e===t)return!0;var n=Md(e);if(n!==Md(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Td(e).isEqual(Td(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xd(e.timestampValue),r=xd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Id(e.bytesValue).isEqual(Id(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _d(e.geoPointValue.latitude)===_d(t.geoPointValue.latitude)&&_d(e.geoPointValue.longitude)===_d(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _d(e.integerValue)===_d(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_d(e.doubleValue),r=_d(t.doubleValue);return n===r?Rd(n)===Rd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sd(e.arrayValue.values||[],t.arrayValue.values||[],Fd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hd(n)!==hd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fd(n[i],r[i])))return!1;return!0}(e,t);default:return Wh()}}function jd(e,t){return void 0!==(e.values||[]).find((function(e){return Fd(e,t)}))}function Ud(e,t){if(e===t)return 0;var n=Md(e),r=Md(t);if(n!==r)return ud(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ud(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_d(e.integerValue||e.doubleValue),r=_d(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vd(e.timestampValue,t.timestampValue);case 4:return Vd(Td(e),Td(t));case 5:return ud(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Id(e),r=Id(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ud(n[i],r[i]);if(0!==a)return a}return ud(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ud(_d(e.latitude),_d(t.latitude));return 0!==n?n:ud(_d(e.longitude),_d(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ud(n[i],r[i]);if(a)return a}return ud(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ud(r[o],a[o]);if(0!==u)return u;var s=Ud(n[r[o]],i[a[o]]);if(0!==s)return s}return ud(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wh()}}function Vd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ud(e,t);var n=xd(e),r=xd(t),i=ud(n.seconds,r.seconds);return 0!==i?i:ud(n.nanos,r.nanos)}function zd(e){return Bd(e)}function Bd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Id(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=So(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Bd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=So(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Bd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Wh();var t,n}function qd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Wd(e){return!!e&&"integerValue"in e}function Kd(e){return!!e&&"arrayValue"in e}function Hd(e){return!!e&&"nullValue"in e}function Gd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $d(e){return!!e&&"mapValue"in e}function Qd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return dd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Yd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jd(e,t){return void 0===e?t:void 0===t||Ud(e,t)>0?e:t}function Xd(e,t){return void 0===e?t:void 0===t||Ud(e,t)<0?e:t}var Zd=function(){function e(t){aa(this,e),this.value=t}return ua(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$d(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(t)}},{key:"setAll",value:function(e){var t=this,n=gd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Qd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Fd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$d(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){dd(t,(function(t,n){return e[t]=n}));var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ep(e){var t=[];return dd(e.fields,(function(e,n){var r=new gd([e]);if($d(n)){var i=ep(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=So(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new kd(t)}var tp=function(){function e(t,n,r,i,a,o){aa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ua(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,fd.min(),fd.min(),Zd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,fd.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fd.min(),Zd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fd.min(),Zd.empty(),2)}}]),e}(),np=ua((function e(t,n,r,i){aa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rp(e){return e.fields.find((function(e){return 2===e.kind}))}function ip(e){return e.fields.filter((function(e){return 2!==e.kind}))}np.UNKNOWN_ID=-1;var ap=ua((function e(t,n){aa(this,e),this.fieldPath=t,this.kind=n})),op=function(){function e(t,n){aa(this,e),this.sequenceNumber=t,this.offset=n}return ua(e,null,[{key:"empty",value:function(){return new e(0,up.min())}}]),e}(),up=function(){function e(t,n,r){aa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ua(e,null,[{key:"min",value:function(){return new e(fd.min(),Pd.empty(),-1)}}]),e}(),sp=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;aa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function cp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sp(e,t,n,r,i,a,o)}function lp(e){var t=Hh(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+zd(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return zd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return zd(e)})).join(",")),t.P=n}return t.P}function fp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Fd(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tp(e.startAt,t.startAt)&&Tp(e.endAt,t.endAt)}function hp(e){return Pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function dp(e,t){return e.filters.filter((function(e){return e instanceof pp&&e.field.isEqual(t)}))}var pp=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ud(t,this.value)):null!==t&&Md(this.value)===Md(t)&&this.v(Ud(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wh()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new vp(e,t,r):"array-contains"===t?new kp(e,r):"in"===t?new wp(e,r):"not-in"===t?new bp(e,r):"array-contains-any"===t?new xp(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new mp(e,n):new yp(e,n)}}]),n}(function(){return ua((function e(){aa(this,e)}))}()),vp=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,i)).key=Pd.fromName(i.referenceValue),a}return ua(n,[{key:"matches",value:function(e){var t=Pd.comparator(e.key,this.key);return this.v(t)}}]),n}(pp),mp=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,"in",r)).keys=gp("in",r),i}return ua(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pp),yp=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,"not-in",r)).keys=gp("not-in",r),i}return ua(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pp);function gp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pd.fromName(e.referenceValue)}))}var kp=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"array-contains",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Kd(t)&&jd(t.arrayValue,this.value)}}]),n}(pp),wp=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"in",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jd(this.value.arrayValue,t)}}]),n}(pp),bp=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"not-in",r)}return ua(n,[{key:"matches",value:function(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jd(this.value.arrayValue,t)}}]),n}(pp),xp=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"array-contains-any",r)}return ua(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jd(t.value.arrayValue,e)}))}}]),n}(pp),_p=ua((function e(t,n){aa(this,e),this.position=t,this.inclusive=n})),Ip=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";aa(this,e),this.field=t,this.dir=n}));function Sp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ep(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pd.comparator(Pd.fromName(o.referenceValue),n.key):Ud(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Fd(e.position[n],t.position[n]))return!1;return!0}var Cp=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;aa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Np(e,t,n,r,i,a,o,u){return new Cp(e,t,n,r,i,a,o,u)}function Ap(e){return new Cp(e)}function Rp(e){return!Ad(e.limit)&&"F"===e.limitType}function Op(e){return!Ad(e.limit)&&"L"===e.limitType}function Pp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dp(e){var t,n=So(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Lp(e){return null!==e.collectionGroup}function Mp(e){var t=Hh(e);if(null===t.D){t.D=[];var n=Dp(t),r=Pp(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ip(n)),t.D.push(new Ip(gd.keyField(),"asc"));else{var i,a=!1,o=So(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ip(gd.keyField(),s))}}}return t.D}function Fp(e){var t=Hh(e);if(!t.C)if("F"===t.limitType)t.C=cp(t.path,t.collectionGroup,Mp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=So(Mp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ip(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _p(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new _p(t.startAt.position,!t.startAt.inclusive):null;t.C=cp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function jp(e,t,n){return new Cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Up(e,t){return fp(Fp(e),Fp(t))&&e.limitType===t.limitType}function Vp(e){return"".concat(lp(Fp(e)),"|lt:").concat(e.limitType)}function zp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(zd(t.value));var t})).join(", "),"]")),Ad(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return zd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return zd(e)})).join(",")),"Target(".concat(t,")")}(Fp(e)),"; limitType=").concat(e.limitType,")")}function Bp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=So(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=So(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ep(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mp(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ep(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mp(e),t))}(e,t)}function qp(e){return function(t,n){var r,i=!1,a=So(Mp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Wp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Wp(e,t,n){var r=e.field.isKeyField()?Pd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ud(r,i):Wh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wh()}}function Kp(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(t)?"-0":t}}function Hp(e){return{integerValue:""+e}}function Gp(e,t){return Od(t)?Hp(t):Kp(e,t)}var $p=ua((function e(){aa(this,e),this._=void 0}));function Qp(e,t,n){return e instanceof Xp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zp?ev(e,t):e instanceof tv?nv(e,t):function(e,t){var n=Jp(e,t),r=iv(n)+iv(e.k);return Wd(n)&&Wd(e.k)?Hp(r):Kp(e.M,r)}(e,t)}function Yp(e,t,n){return e instanceof Zp?ev(e,t):e instanceof tv?nv(e,t):n}function Jp(e,t){return e instanceof rv?Wd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xp=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n)}($p),Zp=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}($p);function ev(e,t){var n,r=av(t),i=So(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Fd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tv=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}($p);function nv(e,t){var n,r=av(t),i=So(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Fd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rv=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).M=e,i.k=r,i}return ua(n)}($p);function iv(e){return _d(e.integerValue||e.doubleValue)}function av(e){return Kd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ov=ua((function e(t,n){aa(this,e),this.field=t,this.transform=n}));var uv=ua((function e(t,n){aa(this,e),this.version=t,this.transformResults=n})),sv=function(){function e(t,n){aa(this,e),this.updateTime=t,this.exists=n}return ua(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lv=ua((function e(){aa(this,e)}));function fv(e,t,n){e instanceof mv?function(e,t,n){var r=e.value.clone(),i=kv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yv?function(e,t,n){if(cv(e.precondition,t)){var r=kv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hv(e,t,n){e instanceof mv?function(e,t,n){if(cv(e.precondition,t)){var r=e.value.clone(),i=wv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof yv?function(e,t,n){if(cv(e.precondition,t)){var r=wv(e.fieldTransforms,n,t),i=t.data;i.setAll(gv(e)),i.setAll(r),t.convertToFoundDocument(vv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){cv(e.precondition,t)&&t.convertToNoDocument(fd.min())}(e,t)}function dv(e,t){var n,r=null,i=So(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Jp(a.transform,o||null);null!=u&&(null==r&&(r=Zd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function pv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zp&&t instanceof Zp||e instanceof tv&&t instanceof tv?sd(e.elements,t.elements,Fd):e instanceof rv&&t instanceof rv?Fd(e.k,t.k):e instanceof Xp&&t instanceof Xp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vv(e){return e.isFoundDocument()?e.version:fd.min()}var mv=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return aa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ua(n)}(lv),yv=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return aa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ua(n)}(lv);function gv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function kv(e,t,n){var r=new Map;Kh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Yp(o,u,n[i]))}return r}function wv(e,t,n){var r,i=new Map,a=So(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bv,xv,_v=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ua(n)}(lv),Iv=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ua(n)}(lv),Sv=ua((function e(t){aa(this,e),this.count=t}));function Ev(e){switch(e){default:return Wh();case Gh.CANCELLED:case Gh.UNKNOWN:case Gh.DEADLINE_EXCEEDED:case Gh.RESOURCE_EXHAUSTED:case Gh.INTERNAL:case Gh.UNAVAILABLE:case Gh.UNAUTHENTICATED:return!1;case Gh.INVALID_ARGUMENT:case Gh.NOT_FOUND:case Gh.ALREADY_EXISTS:case Gh.PERMISSION_DENIED:case Gh.FAILED_PRECONDITION:case Gh.ABORTED:case Gh.OUT_OF_RANGE:case Gh.UNIMPLEMENTED:case Gh.DATA_LOSS:return!0}}function Tv(e){if(void 0===e)return zh("GRPC error has no .code"),Gh.UNKNOWN;switch(e){case bv.OK:return Gh.OK;case bv.CANCELLED:return Gh.CANCELLED;case bv.UNKNOWN:return Gh.UNKNOWN;case bv.DEADLINE_EXCEEDED:return Gh.DEADLINE_EXCEEDED;case bv.RESOURCE_EXHAUSTED:return Gh.RESOURCE_EXHAUSTED;case bv.INTERNAL:return Gh.INTERNAL;case bv.UNAVAILABLE:return Gh.UNAVAILABLE;case bv.UNAUTHENTICATED:return Gh.UNAUTHENTICATED;case bv.INVALID_ARGUMENT:return Gh.INVALID_ARGUMENT;case bv.NOT_FOUND:return Gh.NOT_FOUND;case bv.ALREADY_EXISTS:return Gh.ALREADY_EXISTS;case bv.PERMISSION_DENIED:return Gh.PERMISSION_DENIED;case bv.FAILED_PRECONDITION:return Gh.FAILED_PRECONDITION;case bv.ABORTED:return Gh.ABORTED;case bv.OUT_OF_RANGE:return Gh.OUT_OF_RANGE;case bv.UNIMPLEMENTED:return Gh.UNIMPLEMENTED;case bv.DATA_LOSS:return Gh.DATA_LOSS;default:return Wh()}}(xv=bv||(bv={}))[xv.OK=0]="OK",xv[xv.CANCELLED=1]="CANCELLED",xv[xv.UNKNOWN=2]="UNKNOWN",xv[xv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xv[xv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xv[xv.NOT_FOUND=5]="NOT_FOUND",xv[xv.ALREADY_EXISTS=6]="ALREADY_EXISTS",xv[xv.PERMISSION_DENIED=7]="PERMISSION_DENIED",xv[xv.UNAUTHENTICATED=16]="UNAUTHENTICATED",xv[xv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xv[xv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xv[xv.ABORTED=10]="ABORTED",xv[xv.OUT_OF_RANGE=11]="OUT_OF_RANGE",xv[xv.UNIMPLEMENTED=12]="UNIMPLEMENTED",xv[xv.INTERNAL=13]="INTERNAL",xv[xv.UNAVAILABLE=14]="UNAVAILABLE",xv[xv.DATA_LOSS=15]="DATA_LOSS";var Cv=function(){function e(t,n){aa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ua(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){dd(this.inner,(function(t,n){var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return pd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Nv=function(){function e(t,n){aa(this,e),this.comparator=t,this.root=n||Rv.EMPTY}return ua(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Av(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Av(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Av(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Av(this.root,e,this.comparator,!0)}}]),e}(),Av=function(){function e(t,n,r,i){aa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ua(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Rv=function(){function e(t,n,r,i,a){aa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ua(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Wh();if(this.right.isRed())throw Wh();var e=this.left.check();if(e!==this.right.check())throw Wh();return e+(this.isRed()?0:1)}}]),e}();Rv.EMPTY=null,Rv.RED=!0,Rv.BLACK=!1,Rv.EMPTY=new(function(){function e(){aa(this,e),this.size=0}return ua(e,[{key:"key",get:function(){throw Wh()}},{key:"value",get:function(){throw Wh()}},{key:"color",get:function(){throw Wh()}},{key:"left",get:function(){throw Wh()}},{key:"right",get:function(){throw Wh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Rv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ov=function(){function e(t){aa(this,e),this.comparator=t,this.data=new Nv(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Pv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Pv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Pv=function(){function e(t){aa(this,e),this.iter=t}return ua(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Dv(e){return e.hasNext()?e.getNext():void 0}var Lv=new Nv(Pd.comparator);function Mv(){return Lv}var Fv=new Nv(Pd.comparator);function jv(){return Fv}function Uv(){return new Cv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Vv=new Nv(Pd.comparator),zv=new Ov(Pd.comparator);function Bv(){for(var e=zv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var qv=new Ov(ud);function Wv(){return qv}var Kv=function(){function e(t,n,r,i,a){aa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ua(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Hv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(fd.min(),r,Wv(),Mv(),Bv())}}]),e}(),Hv=function(){function e(t,n,r,i,a){aa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ua(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(wd.EMPTY_BYTE_STRING,n,Bv(),Bv(),Bv())}}]),e}(),Gv=ua((function e(t,n,r,i){aa(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),$v=ua((function e(t,n){aa(this,e),this.targetId=t,this.F=n})),Qv=ua((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;aa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Yv=function(){function e(){aa(this,e),this.B=0,this.L=Zv(),this.q=wd.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return ua(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=Bv(),t=Bv(),n=Bv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wh()}})),new Hv(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Zv()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),Jv=function(){function e(t){aa(this,e),this.nt=t,this.st=new Map,this.it=Mv(),this.rt=Xv(),this.ot=new Ov(ud)}return ua(e,[{key:"at",value:function(e){var t,n=So(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=So(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Wh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(hp(i))if(0===n){var a=new Pd(i.path);this.ct(t,a,tp.newNoDocument(a,fd.min()))}else Kh(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&hp(a.target)){var o=new Pd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,tp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Bv();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Kv(e,n,this.ot,this.it,r);return this.it=Mv(),this.rt=Xv(),this.ot=new Ov(ud),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Yv,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ov(ud),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Vh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Yv),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xv(){return new Nv(Pd.comparator)}function Zv(){return new Nv(Pd.comparator)}var em={asc:"ASCENDING",desc:"DESCENDING"},tm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nm=ua((function e(t,n){aa(this,e),this.databaseId=t,this.N=n}));function rm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function im(e,t){return e.N?t.toBase64():t.toUint8Array()}function am(e,t){return rm(e,t.toTimestamp())}function om(e){return Kh(!!e),fd.fromTimestamp(function(e){var t=xd(e);return new ld(t.seconds,t.nanos)}(e))}function um(e,t){return function(e){return new md(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sm(e){var t=md.fromString(e);return Kh(Rm(t)),t}function cm(e,t){return um(e.databaseId,t.path)}function lm(e,t){var n=sm(t);if(n.get(1)!==e.databaseId.projectId)throw new $h(Gh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $h(Gh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pd(pm(n))}function fm(e,t){return um(e.databaseId,t)}function hm(e){var t=sm(e);return 4===t.length?md.emptyPath():pm(t)}function dm(e){return new md(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pm(e){return Kh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vm(e,t,n){return{name:cm(e,t),fields:n.value.mapValue.fields}}function mm(e,t,n){var r=lm(e,t.name),i=om(t.updateTime),a=new Zd({mapValue:{fields:t.fields}}),o=tp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ym(e,t){return"found"in t?function(e,t){Kh(!!t.found),t.found.name,t.found.updateTime;var n=lm(e,t.found.name),r=om(t.found.updateTime),i=new Zd({mapValue:{fields:t.found.fields}});return tp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Kh(!!t.missing),Kh(!!t.readTime);var n=lm(e,t.missing),r=om(t.readTime);return tp.newNoDocument(n,r)}(e,t):Wh()}function gm(e,t){var n;if(t instanceof mv)n={update:vm(e,t.key,t.value)};else if(t instanceof _v)n={delete:cm(e,t.key)};else if(t instanceof yv)n={update:vm(e,t.key,t.data),updateMask:Am(t.fieldMask)};else{if(!(t instanceof Iv))return Wh();n={verify:cm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Wh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:am(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wh()}(e,t.precondition)),n}function km(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sv.updateTime(om(e.updateTime)):void 0!==e.exists?sv.exists(e.exists):sv.none()}(t.currentDocument):sv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Kh("REQUEST_TIME"===t.setToServerValue),n=new Xp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tv(i)}else"increment"in t?n=new rv(e,t.increment):Wh();var a=gd.fromServerFormat(t.fieldPath);return new ov(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=lm(e,t.update.name),a=new Zd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new kd(t.map((function(e){return gd.fromServerFormat(e)})))}(t.updateMask);return new yv(i,a,o,n,r)}return new mv(i,a,n,r)}if(t.delete){var u=lm(e,t.delete);return new _v(u,n)}if(t.verify){var s=lm(e,t.verify);return new Iv(s,n)}return Wh()}function wm(e,t){return{documents:[fm(e,t.path)]}}function bm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Gd(e.value))return{unaryFilter:{field:Em(e.field),op:"IS_NAN"}};if(Hd(e.value))return{unaryFilter:{field:Em(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gd(e.value))return{unaryFilter:{field:Em(e.field),op:"IS_NOT_NAN"}};if(Hd(e.value))return{unaryFilter:{field:Em(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Em(e.field),op:Sm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Em(e.field),direction:Im(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ad(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function xm(e){var t=hm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=_m(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ip(Tm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ad(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _p(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _p(n,t)}(n.endAt)),Np(t,i,u,o,s,"F",c,l)}function _m(e){return e?void 0!==e.unaryFilter?[Nm(e)]:void 0!==e.fieldFilter?[Cm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return _m(e)})).reduce((function(e,t){return e.concat(t)})):Wh():[]}function Im(e){return em[e]}function Sm(e){return tm[e]}function Em(e){return{fieldPath:e.canonicalString()}}function Tm(e){return gd.fromServerFormat(e.fieldPath)}function Cm(e){return pp.create(Tm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tm(e.unaryFilter.field);return pp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tm(e.unaryFilter.field);return pp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tm(e.unaryFilter.field);return pp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tm(e.unaryFilter.field);return pp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wh()}}function Am(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Om(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dm(t)),t=Pm(e.get(n),t);return Dm(t)}function Pm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dm(e){return e+"\x01\x01"}function Lm(e){var t=e.length;if(Kh(t>=2),2===t)return Kh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),md.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Wh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Wh()}a=o+2}return new md(r)}var Mm=["userId","batchId"];function Fm(e,t){return[e,Om(t)]}function jm(e,t,n){return[e,Om(t),n]}var Um={},Vm=["parentPath","readTime"],zm=["canonicalId","targetId"],Bm=["targetId","path"],qm=["path","targetId"],Wm=["collectionId","parent"],Km=["indexId","uid"],Hm=["uid","sequenceNumber"],Gm=["indexId","uid","arrayValue","directionalValue","documentKey"],$m=["indexId","uid","documentKey"],Qm=["userId","collectionPath","documentId"],Ym=["userId","collectionPath","largestBatchId"],Jm=["userId","collectionGroup","largestBatchId"],Xm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Zm=[].concat(ia(Xm),["documentOverlays"]),ey=[].concat(ia(Zm),["indexConfiguration","indexState","indexEntries"]),ty="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ny=function(){function e(){aa(this,e),this.onCommittedListeners=[]}return ua(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ry=function(){function e(t){var n=this;aa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ua(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Wh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=So(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),iy=function(){function e(t,n){var r=this;aa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Qh,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new uy(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=hy(e.target.error);r.At.reject(new uy(t,n))}}return ua(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Vh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new cy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new uy(n,t)}}}]),e}(),ay=function(){function e(t,n,r){aa(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Fo())&&zh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ua(e,[{key:"Nt",value:function(){var e=lu(No().mark((function e(t){var n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Vh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new uy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new $h(Gh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new $h(Gh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new uy(t,n))},i.onupgradeneeded=function(e){Vh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Vh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=lu(No().mark((function e(t,n,r,i){var a,o,u,s,c=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(No().mark((function e(){var n,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=iy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),ry.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Vh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Vh("SimpleDb","Removing database:",e),ly(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!qo())return!1;if(e.St())return!0;var t=Fo(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),oy=function(){function e(t){aa(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return ua(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return ly(this.$t.delete())}}]),e}(),uy=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,Gh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ua(n)}($h);function sy(e){return"IndexedDbTransactionError"===e.name}var cy=function(){function e(t){aa(this,e),this.store=t}return ua(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Vh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ly(n)}},{key:"add",value:function(e){return Vh("SimpleDb","ADD",this.store.name,e,e),ly(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ly(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Vh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Vh("SimpleDb","DELETE",this.store.name,e),ly(this.store.delete(e))}},{key:"count",value:function(){return Vh("SimpleDb","COUNT",this.store.name),ly(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ry((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ry((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Vh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ry((function(n,r){t.onerror=function(e){var t=hy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ry((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new oy(i),o=t(i.primaryKey,i.value,a);if(o instanceof ry){var u=o.catch((function(e){return a.done(),ry.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ry.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ly(e){return new ry((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hy(e.target.error);n(t)}}))}var fy=!1;function hy(e){var t=ay.Vt(Fo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new $h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return fy||(fy=!0,setTimeout((function(){throw r}),0)),r}}return e}var dy=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ua(n)}(ny);function py(e,t){var n=Hh(e);return ay.xt(n.Ht,t)}var vy=function(){function e(t,n,r,i){aa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ua(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=So(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hv(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=So(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hv(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(fd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sd(this.mutations,e.mutations,(function(e,t){return pv(e,t)}))&&sd(this.baseMutations,e.baseMutations,(function(e,t){return pv(e,t)}))}}]),e}(),my=function(){function e(t,n,r,i){aa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ua(e,null,[{key:"from",value:function(t,n,r){Kh(t.mutations.length===r.length);for(var i=Vv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yy=function(){function e(t,n){aa(this,e),this.largestBatchId=t,this.mutation=n}return ua(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fd.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wd.EMPTY_BYTE_STRING;aa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ua(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ky=ua((function e(t){aa(this,e),this.Jt=t}));function wy(e,t){var n;if(t.document)n=mm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pd.fromSegments(t.noDocument.path),i=Sy(t.noDocument.readTime);n=tp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Wh();var a=Pd.fromSegments(t.unknownDocument.path),o=Sy(t.unknownDocument.version);n=tp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(_y(t.readTime)),n}function by(e,t){var n=t.key.path.popLast().toArray(),r=xy(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:cm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:rm(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:Iy(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:Iy(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:Wh()}function xy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _y(e){var t=new ld(e[0],e[1]);return fd.fromTimestamp(t)}function Iy(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sy(e){var t=new ld(e.seconds,e.nanoseconds);return fd.fromTimestamp(t)}function Ey(e,t){for(var n=(t.baseMutations||[]).map((function(t){return km(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return km(e.Jt,t)})),u=ld.fromMillis(t.localWriteTimeMs);return new vy(t.batchId,u,n,o)}function Ty(e){var t,n,r=Sy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sy(e.lastLimboFreeSnapshotVersion):fd.min();return void 0!==e.query.documents?(Kh(1===(n=e.query).documents.length),t=Fp(Ap(hm(n.documents[0])))):t=function(e){return Fp(xm(e))}(e.query),new gy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,wd.fromBase64String(e.resumeToken))}function Cy(e,t){var n,r=Iy(t.snapshotVersion),i=Iy(t.lastLimboFreeSnapshotVersion);n=hp(t.target)?wm(e.Jt,t.target):bm(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ny(e){var t=xm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jp(t,t.limit,"L"):t}function Ay(e,t){return new yy(t.largestBatchId,km(e.Jt,t.overlayMutation))}function Ry(e,t){var n=t.path.lastSegment();return[e,Om(t.path.popLast()),n]}var Oy=function(){function e(){aa(this,e)}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return Py(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Sy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Py(e).put({bundleId:(n=t).id,createTime:Iy(om(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Dy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ny(t.bundledQuery),readTime:Sy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Dy(e).put(function(e){return{name:e.name,readTime:Iy(om(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Py(e){return py(e,"bundles")}function Dy(e){return py(e,"namedQueries")}var Ly=function(){function e(t,n){aa(this,e),this.M=t,this.userId=n}return ua(e,[{key:"getOverlay",value:function(e,t){var n=this;return My(e).get(Ry(this.userId,t)).next((function(e){return e?Ay(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yy(t,a);i.push(r.Xt(e,o))})),ry.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Om(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(My(e).Qt("collectionPathOverlayIndex",i))})),ry.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Uv(),a=Om(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return My(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=So(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ay(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Uv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return My(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ay(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return My(e).put(function(e,t,n){var r=c(Ry(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:gm(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function My(e){return py(e,"documentOverlays")}var Fy=function(){function e(){aa(this,e)}return ua(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_d(e.integerValue));else if("doubleValue"in e){var n=_d(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Rd(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Id(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Yd(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Wh()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),Pd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function jy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Uy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=jy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Fy.fe=new Fy;var Vy=function(){function e(){aa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ua(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=So(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=So(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Uy(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Uy(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),zy=function(){function e(t){aa(this,e),this.De=t}return ua(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),By=function(){function e(t){aa(this,e),this.De=t}return ua(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),qy=function(){function e(){aa(this,e),this.De=new Vy,this.Ce=new zy(this.De),this.xe=new By(this.De)}return ua(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Wy=function(){function e(t,n,r,i){aa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ua(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ky(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Hy(e.arrayValue,t.arrayValue))?n:0!==(n=Hy(e.directionalValue,t.directionalValue))?n:Pd.comparator(e.documentKey,t.documentKey)}function Hy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Gy=function(){function e(t){aa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=So(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ua(e,[{key:"Fe",value:function(e){var t=rp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=ip(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=So(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),$y=function(){function e(){aa(this,e),this.Ue=new Qy}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),ry.resolve()}},{key:"getCollectionParents",value:function(e,t){return ry.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ry.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ry.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ry.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return ry.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return ry.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ry.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return ry.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ry.resolve()}}]),e}(),Qy=function(){function e(){aa(this,e),this.index={}}return ua(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ov(md.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ov(md.comparator)).toArray()}}]),e}(),Yy=new Uint8Array(0),Jy=function(){function e(t){aa(this,e),this.user=t,this.Ke=new Qy,this.Ge=new Cv((function(e){return lp(e)}),(function(e,t){return fp(e,t)})),this.uid=t.uid||""}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Om(i)};return Xy(e).put(a)}return ry.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[cd(t),""],!1,!0);return Xy(e).Ut(r).next((function(e){var r,i=So(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Lm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=eg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=eg(e),r=tg(e),i=Zy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Zy(e),i=!0,a=new Map;return ry.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Bv();return ry.forEach(a,(function(i,a){var o;Vh("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(lp(t)));var u=function(e,t){var n=rp(t);if(void 0===n)return null;var r,i=So(dp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=So(ip(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=So(dp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=So(ip(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=So(dp(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Ld:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?qd(Nd.empty(),Pd.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Wh();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Ld}Jd(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Jd(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new _p(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=So(ip(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=So(dp(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?qd(Nd.empty(),Pd.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Dd:Wh(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Dd}Xd(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Xd(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new _p(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return ry.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Pd(Lm(t.documentKey)))}))}))}))})).next((function(){return e}))}return ry.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Yy,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,ia(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Wy(e,Pd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Wy(e,Pd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Wy(e,Pd.empty(),Yy,Yy)}},{key:"getFieldIndex",value:function(e,t){var n=new Gy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new qy,i=So(ip(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Fy.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new qy;return Fy.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new qy);var i,a=0,o=So(ip(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=So(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Kd(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);Fy.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=ia(e),a=[],o=So(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=So(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new qy;f.seed(l.Se()),Fy.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof pp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=eg(e),i=tg(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return ry.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new op(t.sequenceNumber,new up(Sy(t.readTime),new Pd(Lm(t.documentKey)),t.largestBatchId)):op.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new ap(gd.fromServerFormat(n),r)}));return new np(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ud(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=eg(e),a=tg(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ry.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Iy(r.readTime),documentKey:Om(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ry.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ry.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ry.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?ry.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return Zy(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Om(t.key.path)})}},{key:"cn",value:function(e,t,n){return Zy(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Om(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Zy(e),i=new Ov(Ky);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Om(t.path)])},(function(e,r){i=i.add(new Wy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Ov(Ky),r=this.Ze(t,e);if(null==r)return n;var i=rp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Kd(a)){var o,u=So(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Wy(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Wy(t.indexId,e.key,Yy,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;Vh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Dv(a),s=Dv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Dv(o)):l?(i(u),u=Dv(a)):(u=Dv(a),s=Dv(o))}}(n,r,Ky,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),ry.waitFor(a)}},{key:"sn",value:function(e){var t=1;return tg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ky(e,t)})).filter((function(e,t,n){return!t||0!==Ky(e,n[t-1])}));var r=[];r.push(e);var i,a=So(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Ky(o,e),s=Ky(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Xy(e){return py(e,"collectionParents")}function Zy(e){return py(e,"indexEntries")}function eg(e){return py(e,"indexConfiguration")}function tg(e){return py(e,"indexState")}var ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rg=function(){function e(t,n,r){aa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ua(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ig(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Kh(1===u)})));var c,l=[],f=So(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=jm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ry.waitFor(a).next((function(){return l}))}function ag(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wh();t=e.noDocument}return JSON.stringify(t).length}rg.DEFAULT_COLLECTION_PERCENTILE=10,rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rg.DEFAULT=new rg(41943040,rg.DEFAULT_COLLECTION_PERCENTILE,rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rg.DISABLED=new rg(-1,0,0);var og=function(){function e(t,n,r,i){aa(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return ua(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cg(e),o=sg(e);return o.add({}).next((function(u){Kh("number"==typeof u);var s,c=new vy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return gm(e.Jt,t)})),i=n.mutations.map((function(t){return gm(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Ov((function(e,t){return ud(e.canonicalString(),t.canonicalString())})),d=So(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=jm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Um))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),ry.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sg(e).get(t).next((function(e){return e?(Kh(e.userId===n.userId),Ey(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?ry.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Kh(t.batchId>=r),a=Ey(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sg(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ey(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Fm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cg(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Lm(l);if(s===n.userId&&t.path.isEqual(h))return sg(e).get(f).next((function(e){if(!e)throw Wh();Kh(e.userId===n.userId),a.push(Ey(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ov(ud),i=[];return t.forEach((function(t){var a=Fm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=cg(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Lm(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ry.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Fm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ov(ud);return cg(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Lm(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sg(e).get(t).next((function(e){if(null===e)throw Wh();Kh(e.userId===n.userId),r.push(Ey(n.M,e))})))})),ry.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ig(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),ry.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ry.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return cg(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Lm(e[1]);i.push(a)}else r.done()})).next((function(){Kh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ug(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return lg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Kh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ug(e,t,n){var r=Fm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cg(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function sg(e){return py(e,"mutations")}function cg(e){return py(e,"documentMutations")}function lg(e){return py(e,"mutationQueues")}var fg=function(){function e(t){aa(this,e),this.wn=t}return ua(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),hg=function(){function e(t,n){aa(this,e),this.referenceDelegate=t,this.M=n}return ua(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new fg(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return fd.fromTimestamp(new ld(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dg(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Kh(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dg(e).Wt((function(o,u){var s=Ty(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ry.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dg(e).Wt((function(e,n){var r=Ty(n);t(r)}))}},{key:"yn",value:function(e){return pg(e).get("targetGlobalKey").next((function(e){return Kh(null!==e),e}))}},{key:"pn",value:function(e,t){return pg(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return dg(e).put(Cy(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=lp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dg(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ty(n);fp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=vg(e);return t.forEach((function(t){var o=Om(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ry.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vg(e);return ry.forEach(t,(function(t){var a=Om(t.path);return ry.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vg(e),i=Bv();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Lm(e[1]),a=new Pd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Om(t.path),r=IDBKeyRange.bound([n],[cd(n)],!1,!0),i=0;return vg(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return dg(e).get(t).next((function(e){return e?Ty(e):null}))}}]),e}();function dg(e){return py(e,"targets")}function pg(e){return py(e,"targetGlobal")}function vg(e){return py(e,"targetDocuments")}function mg(e){return yg.apply(this,arguments)}function yg(){return yg=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Gh.FAILED_PRECONDITION&&t.message===ty){e.next=2;break}throw t;case 2:Vh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=ud(r,o);return 0===s?ud(i,u):s}var kg=function(){function e(t){aa(this,e),this.En=t,this.buffer=new Ov(gg),this.An=0}return ua(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),wg=function(){function e(t,n){aa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return ua(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Vh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!sy(n.t0)){n.next=12;break}Vh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,mg(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),bg=function(){function e(t,n){aa(this,e),this.Sn=t,this.params=n}return ua(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ry.resolve(id.A);var r=new kg(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vh("LruGarbageCollector","Garbage collection skipped; disabled"),ry.resolve(ng)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ng):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Vh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Uh()<=vu.DEBUG&&Vh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ry.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),xg=function(){function e(t,n){aa(this,e),this.db=t,this.garbageCollector=function(e,t){return new bg(e,t)}(this,n)}return ua(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _g(e,n)}},{key:"removeReference",value:function(e,t,n){return _g(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _g(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return lg(e).zt((function(r){return ug(e,r,t).next((function(e){return e&&(n=!0),ry.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,fd.min()),vg(e).delete([0,Om(o.path)])}))}));i.push(s)}})).next((function(){return ry.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return _g(e,t)}},{key:"kn",value:function(e,t){var n,r=vg(e),i=id.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==id.A&&t(new Pd(Lm(n)),i),i=s,n=u):i=id.A})).next((function(){i!==id.A&&t(new Pd(Lm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _g(e,t){return vg(e).put(function(e,t){return{targetId:0,path:Om(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ig=function(){function e(){aa(this,e),this.changes=new Cv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ua(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ry.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Sg=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Cg(e).put(Ng(t),n)}},{key:"removeEntry",value:function(e,t){var n=Cg(e),r=Ng(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Cg(e).get(Ng(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return Cg(e).get(Ng(t)).next((function(e){return{document:n.$n(t,e),size:ag(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Mv();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Mv(),i=new Nv(Pd.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,ag(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return ry.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Cg(e).Wt({range:r},(function(e,t,r){for(var o=Pd.fromSegments(e);a&&Pd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Mv(),a=t.length+1,o={};if(n.isEqual(fd.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=xy(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return Cg(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(Pd.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Eg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Tg(e).get("remoteDocumentGlobalKey").next((function(e){return Kh(!!e),e}))}},{key:"On",value:function(e,t){return Tg(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=wy(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(fd.min()))return n}return tp.newInvalidDocument(e)}}]),e}(),Eg=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new Cv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ov((function(e,t){return ud(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=by(t.Un.M,o);i=i.add(a.path.popLast());var c=ag(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=by(t.Un.M,o.convertToNoDocument(fd.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(Ig);function Tg(e){return py(e,"remoteDocumentGlobal")}function Cg(e){return py(e,"remoteDocuments")}function Ng(e){return e.path.toArray()}var Ag=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new iy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mm,{unique:!0}),e.createObjectStore("documentMutations")}(e),Rg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ry.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Rg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ry.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",Vm,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qm});t.createIndex("collectionPathOverlayIndex",Ym,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Km}).createIndex("sequenceNumberIndex",Hm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Gm}).createIndex("documentKeyIndex",$m,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=ag(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return ry.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return ry.forEach(r,(function(r){Kh(r.userId===n.userId);var i=Ey(t.M,r);return ig(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new md(n),o=function(e){return[0,Om(e)]}(a);r.push(t.get(o).next((function(n){return n?ry.resolve():function(n){return t.put({targetId:0,path:Om(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ry.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Wm});var n=t.store("collectionParents"),r=new Qy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Om(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new md(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Lm(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Ty(r),a=Cy(t.M,i);return n.put(a)}))}}]),e}();function Rg(e){e.createObjectStore("targetDocuments",{keyPath:Bm}).createIndex("documentTargetsIndex",qm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zm,{unique:!0}),e.createObjectStore("targetGlobal")}var Og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(aa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=f,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new $h(Gh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xg(this,i),this.us=n+"main",this.M=new ky(s),this.cs=new ay(this.us,this.Xn,new Ag(this.M)),this.hs=new hg(this.referenceDelegate,this.M),this.ls=function(e){return new Sg(e)}(this.M),this.fs=new Oy,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&zh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ua(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new $h(Gh.FAILED_PRECONDITION,Og);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new id(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=lu(No().mark((function n(r){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=lu(No().mark((function t(n){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Lg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(sy(t))return Vh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Vh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return Dg(e).get("owner").next((function(e){return ry.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return Lg(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=lu(No().mark((function e(){var t,n,r,i,a=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=py(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ry.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=So(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?ry.resolve(!0):Dg(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new $h(Gh.FAILED_PRECONDITION,Og);return!1}}return!(!t.networkEnabled||!t.inForeground)||Lg(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Vh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=lu(No().mark((function e(){var t=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dy(e,id.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Lg(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return og.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new Jy(e)}},{key:"getDocumentOverlayCache",value:function(e){return Ly.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;Vh("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?ey:12===i?Zm:11===i?Xm:void Wh();return this.cs.runTransaction(e,o,u,(function(i){return a=new dy(i,r.Zn?r.Zn.next():id.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw zh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new $h(Gh.FAILED_PRECONDITION,ty);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return Dg(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new $h(Gh.FAILED_PRECONDITION,Og)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dg(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=Dg(e);return n.get("owner").next((function(e){return t.Rs(e)?(Vh("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ry.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(zh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!Uo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return Vh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(Ls){zh("Failed to set zombie client id.",Ls)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(Ls){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ay.vt()}}]),e}();function Dg(e){return py(e,"owner")}function Lg(e){return py(e,"clientMetadata")}function Mg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Fg=ua((function e(t,n){aa(this,e),this.progress=t,this.$s=n})),jg=function(){function e(t,n,r){aa(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return ua(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=So(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=So(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return Pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Lp(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Pd(t)).next((function(e){var t=jv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jv();return this.indexManager.getCollectionParents(e,i).next((function(o){return ry.forEach(o,(function(o){var u=function(e,t){return new Cp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=So(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=So(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=tp.newInvalidDocument(s),r=r.insert(s,c)),hv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Bp(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Ug=function(){function e(t,n,r,i){aa(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return ua(e,null,[{key:"Js",value:function(t,n){var r,i=Bv(),a=Bv(),o=So(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Vg=function(){function e(){aa(this,e)}return ua(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(fd.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(Rp(t)||Op(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Uh()<=vu.DEBUG&&Vh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zp(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Ov(qp(e));return t.forEach((function(t,r){Bp(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Uh()<=vu.DEBUG&&Vh("QueryEngine","Using full collection scan to execute query:",zp(t)),this.Xs.Gs(e,t,fd.min())}}]),e}(),zg=function(){function e(t,n,r,i){aa(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Nv(ud),this.ii=new Cv((function(e){return lp(e)}),fp),this.ri=fd.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return ua(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new jg(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function Bg(e,t,n,r){return new zg(e,t,n,r)}function qg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Bv(),s=So(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=So(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=So(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=So(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Kg(e,t){var n=Hh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ry.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Kh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function Hg(e){var t=Hh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function Gg(e,t){var n=Hh(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(wd.EMPTY_BYTE_STRING,fd.min()).withLastLimboFreeSnapshotVersion(fd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=Mv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($g(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(fd.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ry.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function $g(e,t,n){var r=Bv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Mv();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(fd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Vh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Qg(e,t){var n=Hh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function Yg(e,t){var n=Hh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,ry.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new gy(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Jg(e,t,n){return Xg.apply(this,arguments)}function Xg(){return Xg=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hh(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sy(e.t1)){e.next=12;break}throw e.t1;case 12:Vh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Xg.apply(this,arguments)}function Zg(e,t,n){var r=Hh(e),i=fd.min(),a=Bv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Hh(e),i=r.ii.get(n);return void 0!==i?ry.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,Fp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:fd.min(),n?a:Bv())})).next((function(e){return{documents:e,hi:a}}))}))}function ek(e,t){var n=Hh(e),r=Hh(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function tk(e){var t=Hh(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Hh(e),i=Mv(),a=xy(n),o=Cg(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=wy(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:_y(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function nk(e){return rk.apply(this,arguments)}function rk(){return rk=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hh(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Cg(e),n=fd.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=_y(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t,n,r){return ak.apply(this,arguments)}function ak(){return ak=lu(No().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Hh(t),o=Bv(),u=Mv(),s=So(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Yg(a,function(e){return Fp(Ap(md.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $g(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.hs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=lu(No().mark((function e(t,n){var r,i,a,o=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Bv(),e.next=3,Yg(t,Fp(Ny(n.bundledQuery)));case 3:return i=e.sent,a=Hh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=om(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(wd.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}var sk=function(){function e(t){aa(this,e),this.M=t,this._i=new Map,this.wi=new Map}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return ry.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:om(n.createTime)}),ry.resolve()}},{key:"getNamedQuery",value:function(e,t){return ry.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Ny(e.bundledQuery),readTime:om(e.readTime)}}(t)),ry.resolve()}}]),e}(),ck=function(){function e(){aa(this,e),this.overlays=new Nv(Pd.comparator),this.mi=new Map}return ua(e,[{key:"getOverlay",value:function(e,t){return ry.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ry.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),ry.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Uv(),i=t.length+1,a=new Pd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ry.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Nv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Uv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Uv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ry.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yy(t,n));var a=this.mi.get(t);void 0===a&&(a=Bv(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),lk=function(){function e(){aa(this,e),this.gi=new Ov(fk.yi),this.pi=new Ov(fk.Ii)}return ua(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fk(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new fk(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Pd(new md([])),r=new fk(n,e),i=new fk(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Pd(new md([])),n=new fk(t,e),r=new fk(t,e+1),i=Bv();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fk(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fk=function(){function e(t,n){aa(this,e),this.key=t,this.Vi=n}return ua(e,null,[{key:"yi",value:function(e,t){return Pd.comparator(e.key,t.key)||ud(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return ud(e.Vi,t.Vi)||Pd.comparator(e.key,t.key)}}]),e}(),hk=function(){function e(t,n){aa(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new Ov(fk.yi)}return ua(e,[{key:"checkEmpty",value:function(e){return ry.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new vy(i,t,n,r);this.Fs.push(a);var o,u=So(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new fk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ry.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ry.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return ry.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ry.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return ry.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fk(t,0),i=new fk(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),ry.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ov(ud);return t.forEach((function(e){var t=new fk(e,0),i=new fk(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),ry.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pd.isDocumentKey(i)||(i=i.child(""));var a=new fk(new Pd(i),0),o=new Ov(ud);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),ry.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Kh(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return ry.forEach(t.mutations,(function(i){var a=new fk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fk(t,0),r=this.Si.firstAfterOrEqual(n);return ry.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,ry.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),dk=function(){function e(t){aa(this,e),this.ki=t,this.docs=new Nv(Pd.comparator),this.size=0}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ry.resolve(n?n.document.mutableCopy():tp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Mv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tp.newInvalidDocument(e))})),ry.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Mv(),i=new Pd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ry.resolve(r)}},{key:"Mi",value:function(e,t){return ry.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new pk(this)}},{key:"getSize",value:function(e){return ry.resolve(this.size)}}]),e}(),pk=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).Un=e,r}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(Ig),vk=function(){function e(t){aa(this,e),this.persistence=t,this.Oi=new Cv((function(e){return lp(e)}),fp),this.lastRemoteSnapshotVersion=fd.min(),this.highestTargetId=0,this.$i=0,this.Fi=new lk,this.targetCount=0,this.Bi=fg.mn()}return ua(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),ry.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ry.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ry.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),ry.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),ry.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new fg(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,ry.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),ry.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,ry.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ry.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ry.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return ry.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),ry.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ry.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),ry.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return ry.resolve(n)}},{key:"containsKey",value:function(e,t){return ry.resolve(this.Fi.containsKey(t))}}]),e}(),mk=function(){function e(t,n){var r=this;aa(this,e),this.Li={},this.overlays={},this.Zn=new id(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new vk(this),this.indexManager=new $y,this.ls=new dk((function(e){return r.referenceDelegate.qi(e)})),this.M=new ky(n),this.fs=new sk(this.M)}return ua(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ck,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new hk(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;Vh("MemoryPersistence","Starting transaction:",e);var i=new yk(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return ry.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yk=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ua(n)}(ny),gk=function(){function e(t){aa(this,e),this.persistence=t,this.Qi=new lk,this.ji=null}return ua(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Wh()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),ry.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),ry.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),ry.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ry.forEach(this.zi,(function(r){var i=Pd.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,fd.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return ry.or([function(){return ry.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function kk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function wk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xk=function(){function e(t,n,r,i){aa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ua(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new $h(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(zh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),_k=function(){function e(t,n,r){aa(this,e),this.targetId=t,this.state=n,this.error=r}return ua(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $h(i.error.code,i.error.message))),a?new e(t,i.state,r):(zh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ik=function(){function e(t,n){aa(this,e),this.clientId=t,this.activeTargetIds=n}return ua(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Wv(),o=0;i&&o<r.activeTargetIds.length;++o)i=Od(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(zh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Sk=function(){function e(t,n){aa(this,e),this.clientId=t,this.onlineState=n}return ua(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(zh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ek=function(){function e(){aa(this,e),this.activeTargetIds=Wv()}return ua(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Tk=function(){function e(t,n,r,i,a){aa(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Nv(ud),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=kk(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ek),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ua(e,[{key:"start",value:function(){var e=lu(No().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=So(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kk(this.persistenceKey,i)))&&(o=Ik.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=So(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bk(this.persistenceKey,e));if(n){var r=_k.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Vh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Vh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Vh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Vh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void zh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(lu(No().mark((function e(){var r,i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=id.A;if(null!=e)try{var n=JSON.parse(e);Kh("number"==typeof n),t=n}catch(e){zh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==id.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new xk(this.currentUser,e,t,n),i=wk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=wk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=bk(this.persistenceKey,e),i=new _k(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ik.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xk.Ji(new Mh(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return _k.Ji(r,t)}},{key:"wr",value:function(e){return Sk.Ji(e)}},{key:"vr",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:Vh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Wv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ck=function(){function e(){aa(this,e),this.Or=new Ek,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ua(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new Ek,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Nk=function(){function e(){aa(this,e)}return ua(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ak=function(){function e(){var t=this;aa(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return ua(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){Vh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=So(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){Vh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=So(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ok=function(){function e(t){aa(this,e),this.Qr=t.Qr,this.jr=t.jr}return ua(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),Pk=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ua(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Dh;o.listenOnce(Nh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ch.NO_ERROR:var t=o.getResponseJson();Vh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ch.TIMEOUT:Vh("Connection",'RPC "'+e+'" timed out'),a(new $h(Gh.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:var n=o.getStatus();if(Vh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gh).indexOf(t)>=0?t:Gh.UNKNOWN}(r.status);a(new $h(u,r.message))}else a(new $h(Gh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new $h(Gh.UNAVAILABLE,"Connection failed."));break;default:Wh()}}finally{Vh("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Eh(),a=Th(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Oh({})),this.oo(o.initMessageHeaders,t,n),jo()||zo()||Fo().indexOf("Electron/")>=0||Bo()||Fo().indexOf("MSAppHost/")>=0||Vo()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Vh("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Ok({Qr:function(e){l?Vh("Connection","Not sending because WebChannel is closed:",e):(c||(Vh("Connection","Opening WebChannel transport."),s.open(),c=!0),Vh("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ph.EventType.OPEN,(function(){l||Vh("Connection","WebChannel transport opened.")})),h(s,Ph.EventType.CLOSE,(function(){l||(l=!0,Vh("Connection","WebChannel transport closed"),f.Zr())})),h(s,Ph.EventType.ERROR,(function(e){l||(l=!0,Bh("Connection","WebChannel transport errored:",e),f.Zr(new $h(Gh.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ph.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Kh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bv[e];if(void 0!==t)return Tv(t)}(a),u=i.message;void 0===o&&(o=Gh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new $h(o,u)),s.close()}else Vh("Connection","WebChannel received:",n),f.eo(n)}})),h(a,Ah.STAT_EVENT,(function(e){e.stat===Rh.PROXY?Vh("Connection","Detected buffering proxy"):e.stat===Rh.NOPROXY&&Vh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){aa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ua(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);Vh("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return Vh("RestConnection","Received: ",e),e}),(function(t){throw Bh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=Rk[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function Dk(){return"undefined"!=typeof window?window:null}function Lk(){return"undefined"!=typeof document?document:null}function Mk(e){return new nm(e,!0)}var Fk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;aa(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return ua(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&Vh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),jk=function(){function e(t,n,r,i,a,o,u,s){aa(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Fk(t,n)}return ua(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===Gh.RESOURCE_EXHAUSTED?(zh(n.toString()),zh("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===Gh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new $h(Gh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Vh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(Vh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Uk=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ua(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Kh(void 0===t||"string"==typeof t),wd.fromBase64String(t||"")):(Kh(void 0===t||t instanceof Uint8Array),wd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Gh.UNKNOWN:Tv(e.code);return new $h(t,e.message||"")}(o);n=new Qv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=lm(e,s.document.name),l=om(s.document.updateTime),f=new Zd({mapValue:{fields:s.document.fields}}),h=tp.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Gv(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=lm(e,v.document),y=v.readTime?om(v.readTime):fd.min(),g=tp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Gv([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=lm(e,w.document),x=w.removedTargetIds||[];n=new Gv([],x,b,null)}else{if(!("filter"in t))return Wh();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Sv(I),E=_.targetId;n=new $v(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return fd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?fd.min():t.readTime?om(t.readTime):fd.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=dm(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=hp(r)?{documents:wm(e,r)}:{query:bm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=im(e,t.resumeToken):t.snapshotVersion.compareTo(fd.min())>0&&(n.readTime=rm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=dm(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(jk),Vk=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return ua(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,ws(Ji(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(Kh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(Kh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?om(e.updateTime):om(t);return n.isEqual(fd.min())&&(n=om(t)),new uv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=om(e.commitTime);return this.listener.Ho(n,t)}return Kh(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=dm(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gm(t.M,e)}))};this.Mo(n)}}]),n}(jk),zk=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a){var o;return aa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return ua(n,[{key:"Zo",value:function(){if(this.Xo)throw new $h(Gh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new $h(Gh.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new $h(Gh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return ua((function e(){aa(this,e)}))}()),Bk=function(){function e(t,n){aa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return ua(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(zh(t),this.na=!1):Vh("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),qk=ua((function e(t,n,r,i,a){var o=this;aa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ew(o),!e.t0){e.next=5;break}return Vh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hh(t)).ha.add(4),e.next=4,Hk(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,Wk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new Bk(r,i)}));function Wk(e){return Kk.apply(this,arguments)}function Kk(){return Kk=lu(No().mark((function e(t){var n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ew(t)){e.next=18;break}n=So(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Kk.apply(this,arguments)}function Hk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=lu(No().mark((function e(t){var n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=So(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Gk.apply(this,arguments)}function $k(e,t){var n=Hh(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),Zk(n)?Xk(n):Nw(n).Do()&&Yk(n,t))}function Qk(e,t){var n=Hh(e),r=Nw(n);n.ca.delete(t),r.Do()&&Jk(n,t),0===n.ca.size&&(r.Do()?r.No():ew(n)&&n.da.set("Unknown"))}function Yk(e,t){e._a.Z(t.targetId),Nw(e).Go(t)}function Jk(e,t){e._a.Z(t),Nw(e).Qo(t)}function Xk(e){e._a=new Jv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),Nw(e).start(),e.da.sa()}function Zk(e){return ew(e)&&!Nw(e).So()&&e.ca.size>0}function ew(e){return 0===Hh(e).ha.size}function tw(e){e._a=void 0}function nw(e){return rw.apply(this,arguments)}function rw(){return rw=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){Yk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tw(t),Zk(t)?(t.da.oa(n),Xk(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t,n){return uw.apply(this,arguments)}function uw(){return uw=lu(No().mark((function e(t,n,r){var i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof Qv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=So(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,sw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Gv?t._a.at(n):n instanceof $v?t._a._t(n):t._a.ht(n),r.isEqual(fd.min())){e.next=29;break}return e.prev=14,e.next=17,Hg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(wd.EMPTY_BYTE_STRING,n.snapshotVersion)),Jk(e,t);var r=new gy(n.target,t,1,n.sequenceNumber);Yk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,sw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),uw.apply(this,arguments)}function sw(e,t,n){return cw.apply(this,arguments)}function cw(){return cw=lu(No().mark((function e(t,n,r){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sy(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,Hk(t);case 5:t.da.set("Offline"),r||(r=function(){return Hg(t.localStore)}),t.asyncQueue.enqueueRetryable(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,Wk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){return t().catch((function(n){return sw(e,n,t)}))}function fw(e){return hw.apply(this,arguments)}function hw(){return hw=lu(No().mark((function e(t){var n,r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hh(t),r=Aw(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!dw(n)){e.next=19;break}return e.prev=3,e.next=6,Qg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,pw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,sw(n,e.t0);case 17:e.next=2;break;case 19:vw(n)&&mw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),hw.apply(this,arguments)}function dw(e){return ew(e)&&e.ua.length<10}function pw(e,t){e.ua.push(t);var n=Aw(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function vw(e){return ew(e)&&!Aw(e).So()&&e.ua.length>0}function mw(e){Aw(e).start()}function yw(e){return gw.apply(this,arguments)}function gw(){return gw=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Aw(t).Yo();case 1:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function kw(e){return ww.apply(this,arguments)}function ww(){return ww=lu(No().mark((function e(t){var n,r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Aw(t),r=So(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function bw(e,t,n){return xw.apply(this,arguments)}function xw(){return xw=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=my.from(i,n,r),e.next=3,lw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fw(t);case 5:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function _w(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Aw(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ev(i=n.code)||i===Gh.ABORTED){e.next=7;break}return r=t.ua.shift(),Aw(t).xo(),e.next=5,lw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vw(t)&&mw(t);case 5:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Hh(t)).asyncQueue.verifyOperationInProgress(),Vh("RemoteStore","RemoteStore received new credentials"),i=ew(r),r.ha.add(3),e.next=6,Hk(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,Wk(r);case 12:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hh(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,Wk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,Hk(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e){return e.wa||(e.wa=function(e,t,n){var r=Hh(e);return r.Zo(),new Uk(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:nw.bind(null,e),Hr:iw.bind(null,e),Ko:ow.bind(null,e)}),e.la.push(function(){var t=lu(No().mark((function t(n){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),Zk(e)?Xk(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:tw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function Aw(e){return e.ma||(e.ma=function(e,t,n){var r=Hh(e);return r.Zo(),new Vk(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:yw.bind(null,e),Hr:_w.bind(null,e),Jo:kw.bind(null,e),Ho:bw.bind(null,e)}),e.la.push(function(){var t=lu(No().mark((function t(n){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,fw(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(Vh("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var Rw=function(){function e(t,n,r,i,a){aa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ua(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $h(Gh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ow(e,t){if(zh("AsyncQueue","".concat(t,": ").concat(e)),sy(e))return new $h(Gh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Pw=function(){function e(t){aa(this,e),this.comparator=t?function(e,n){return t(e,n)||Pd.comparator(e.key,n.key)}:function(e,t){return Pd.comparator(e.key,t.key)},this.keyedMap=jv(),this.sortedSet=new Nv(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Dw=function(){function e(){aa(this,e),this.ga=new Nv(Pd.comparator)}return ua(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Wh():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Lw=function(){function e(t,n,r,i,a,o,u,s){aa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ua(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Pw.emptySet(n),a,r,i,!0,!1)}}]),e}(),Mw=ua((function e(){aa(this,e),this.pa=void 0,this.listeners=[]})),Fw=ua((function e(){aa(this,e),this.queries=new Cv((function(e){return Vp(e)}),Up),this.onlineState="Unknown",this.Ia=new Set}));function jw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=lu(No().mark((function e(t,n){var r,i,a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Mw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ow(e.t0,"Initialization of query '".concat(zp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&Ww(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Uw.apply(this,arguments)}function Vw(e,t){return zw.apply(this,arguments)}function zw(){return zw=lu(No().mark((function e(t,n){var r,i,a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Bw(e,t){var n,r=Hh(e),i=!1,a=So(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=So(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ww(r)}function qw(e,t,n){var r=Hh(e),i=r.queries.get(t);if(i){var a,o=So(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ww(e){e.Ia.forEach((function(e){e.next()}))}var Kw=function(){function e(t,n,r){aa(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return ua(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=So(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Lw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=Lw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),Hw=function(){function e(t,n){aa(this,e),this.payload=t,this.byteLength=n}return ua(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),Gw=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"li",value:function(e){return lm(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?mm(this.M,e.document,!1):tp.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return om(e)}}]),e}(),$w=function(){function e(t,n,r){aa(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=Qw(t)}return ua(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new Gw(this.M),i=So(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=So(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Bv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=lu(No().mark((function e(){var t,n,r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ik(this.localStore,new Gw(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=So(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ok(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Fg(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Yw=ua((function e(t){aa(this,e),this.key=t})),Jw=ua((function e(t){aa(this,e),this.key=t})),Xw=function(){function e(t,n){aa(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=Bv(),this.mutatedKeys=Bv(),this.$a=qp(t),this.Fa=new Pw(this.$a)}return ua(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new Dw,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Rp(this.query)&&i.size===this.query.limit?i.last():null,c=Op(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Rp(this.query)||Op(this.query))for(;o.size>this.query.limit;){var l=Rp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wh()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new Lw(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Dw,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=Bv(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new Jw(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new Yw(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=Bv();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return Lw.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),Zw=ua((function e(t,n,r){aa(this,e),this.query=t,this.targetId=n,this.view=r})),eb=ua((function e(t){aa(this,e),this.key=t,this.Ha=!1})),tb=function(){function e(t,n,r,i,a,o){aa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new Cv((function(e){return Vp(e)}),Up),this.Xa=new Map,this.Za=new Set,this.tu=new Nv(Pd.comparator),this.eu=new Map,this.nu=new lk,this.su={},this.iu=new Map,this.ru=fg.gn(),this.onlineState="Unknown",this.ou=void 0}return ua(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function nb(e,t){return rb.apply(this,arguments)}function rb(){return rb=lu(No().mark((function e(t,n){var r,i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qb(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,Yg(r.localStore,Fp(n));case 8:return u=e.sent,r.isPrimaryClient&&$k(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ib(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),rb.apply(this,arguments)}function ib(e,t,n,r){return ab.apply(this,arguments)}function ab(){return ab=lu(No().mark((function e(t,n,r,i){var a,o,u,s,c,l;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=lu(No().mark((function e(t,n,r,i){var a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Zg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Sb(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Zg(t.localStore,n,!0);case 3:return a=e.sent,o=new Xw(n,a.hi),u=o.La(a.documents),s=Hv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Sb(t,r,c.Qa),l=new Zw(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(e,t){return ub.apply(this,arguments)}function ub(){return ub=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hh(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!Up(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Jg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Qk(r.remoteStore,i.targetId),_b(r,i.targetId)})).catch(mg);case 9:e.next=14;break;case 11:return _b(r,i.targetId),e.next=14,Jg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function sb(e,t,n){return cb.apply(this,arguments)}function cb(){return cb=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yb(t),e.prev=1,e.next=4,function(e,t){var n,r=Hh(e),i=ld.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=So(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dv(c,n.get(c.key));null!=l&&u.push(new yv(c.key,l,ep(l.value.mapValue),sv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new Nv(ud)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Cb(i,a.changes);case 9:return e.next=11,fw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ow(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cb.apply(this,arguments)}function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),e.prev=1,e.next=4,Gg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(Kh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?Kh(n.Ha):e.removedDocuments.size>0&&(Kh(n.Ha),n.Ha=!1))})),e.next=8,Cb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,mg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fb.apply(this,arguments)}function hb(e,t,n){var r=Hh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Hh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=So(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ww(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function db(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=lu(No().mark((function e(t,n,r){var i,a,o,u,s,c;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Hh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Nv(Pd.comparator)).insert(o,tp.newNoDocument(o,fd.min())),s=Bv().add(o),c=new Kv(fd.min(),new Map,new Ov(ud),u,s),e.next=9,lb(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),Tb(i),e.next=16;break;case 14:return e.next=16,Jg(i.localStore,n,!1).then((function(){return _b(i,n,r)})).catch(mg);case 16:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),i=n.batch.batchId,e.prev=1,e.next=4,Kg(r.localStore,n);case 4:return a=e.sent,xb(r,i,null),bb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Cb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mb.apply(this,arguments)}function yb(e,t,n){return gb.apply(this,arguments)}function gb(){return gb=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hh(t),e.prev=1,e.next=4,function(e,t){var n=Hh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return Kh(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xb(i,n,r),bb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Cb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gb.apply(this,arguments)}function kb(e,t){return wb.apply(this,arguments)}function wb(){return wb=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ew((r=Hh(t)).remoteStore)||Vh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Hh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Ow(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),wb.apply(this,arguments)}function bb(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function xb(e,t,n){var r=Hh(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function _b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=So(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||Ib(e,t)}))}function Ib(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(Qk(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),Tb(e))}function Sb(e,t,n){var r,i=So(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Yw?(e.nu.addReference(a.key,t),Eb(e,a)):a instanceof Jw?(Vh("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||Ib(e,a.key)):Wh()}}catch(o){i.e(o)}finally{i.f()}}function Eb(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(Vh("SyncEngine","New document in limbo: "+n),e.Za.add(r),Tb(e))}function Tb(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new Pd(md.fromString(t)),r=e.ru.next();e.eu.set(r,new eb(n)),e.tu=e.tu.insert(n,r),$k(e.remoteStore,new gy(Fp(Ap(n.path)),r,2,id.A))}}function Cb(e,t,n){return Nb.apply(this,arguments)}function Nb(){return Nb=lu(No().mark((function e(t,n,r){var i,a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hh(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ug.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=lu(No().mark((function e(t,n){var r,i,a,o,u,s,c,l;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ry.forEach(n,(function(t){return ry.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ry.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sy(e.t0)){e.next=10;break}throw e.t0;case 10:Vh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=So(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}function Ab(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Hh(t)).currentUser.isEqual(n)){e.next=11;break}return Vh("SyncEngine","User change. New user:",n.toKey()),e.next=5,qg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new $h(Gh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Cb(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Ob(e,t){var n=Hh(e),r=n.eu.get(t);if(r&&r.Ha)return Bv().add(r.key);var i=Bv(),a=n.Xa.get(t);if(!a)return i;var o,u=So(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function Pb(e,t){return Db.apply(this,arguments)}function Db(){return Db=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),e.next=3,Zg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&Sb(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Lb(e){return Mb.apply(this,arguments)}function Mb(){return Mb=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hh(t),e.abrupt("return",tk(n.localStore).then((function(e){return Cb(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Fb(e,t,n,r){return jb.apply(this,arguments)}function jb(){return jb=lu(No().mark((function e(t,n,r,i){var a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hh(t),e.next=3,function(e,t){var n=Hh(e),r=Hh(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):ry.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,fw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(xb(a,n,i||null),bb(a,n),function(e,t){Hh(Hh(e).Fs).dn(t)}(a.localStore,n)):Wh();case 11:return e.next=13,Cb(a,o);case 13:e.next=16;break;case 15:Vh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Ub(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=lu(No().mark((function e(t,n){var r,i,a,o,u,s,c,l;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qb(r=Hh(t)),Yb(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,zb(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,Tw(r.remoteStore,!0);case 9:o=So(a);try{for(o.s();!(u=o.n()).done;)s=u.value,$k(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return _b(r,t),Jg(r.localStore,t,!0)})),Qk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,zb(r,c);case 21:return function(e){var t=Hh(e);t.eu.forEach((function(e,n){Qk(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new Nv(Pd.comparator)}(r),r.ou=!1,e.next=25,Tw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function zb(e,t,n){return Bb.apply(this,arguments)}function Bb(){return Bb=lu(No().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Hh(t),a=[],o=[],u=So(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,Yg(i.localStore,Fp(f[0]));case 11:l=e.sent,h=So(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ya.get(p),e.next=20,Pb(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ek(i.localStore,c);case 36:return y=e.sent,e.next=39,Yg(i.localStore,y);case 39:return l=e.sent,e.next=42,ib(i,qb(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Bb.apply(this,arguments)}function qb(e){return Np(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Wb(e){var t=Hh(e);return Hh(Hh(t.localStore).persistence).Ms()}function Kb(e,t,n,r){return Hb.apply(this,arguments)}function Hb(){return Hb=lu(No().mark((function e(t,n,r,i){var a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Hh(t)).ou){e.next=5;break}Vh("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,tk(a.localStore);case 11:return o=e.sent,u=Kv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Cb(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Jg(a.localStore,n,!0);case 18:return _b(a,n,i),e.abrupt("break",21);case 20:Wh();case 21:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Gb(e,t,n){return $b.apply(this,arguments)}function $b(){return $b=lu(No().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Qb(t)).ou){e.next=45;break}a=So(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return Vh("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ek(i.localStore,u);case 12:return s=e.sent,e.next=15,Yg(i.localStore,s);case 15:return c=e.sent,e.next=18,ib(i,qb(s),c.targetId,!1);case 18:$k(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=So(r),e.prev=30,h=No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,Jg(i.localStore,t,!1).then((function(){Qk(i.remoteStore,t),_b(i,t)})).catch(mg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$b.apply(this,arguments)}function Qb(e){var t=Hh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ob.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=db.bind(null,t),t.Ja.Ko=Bw.bind(null,t.eventManager),t.Ja.uu=qw.bind(null,t.eventManager),t}function Yb(e){var t=Hh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yb.bind(null,t),t}function Jb(e,t,n){var r=Hh(e);(function(){var e=lu(No().mark((function e(t,n,r){var i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Hh(e),r=om(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Qw(i)),a=new $w(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Cb(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=Hh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Bh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Xb=function(){function e(){aa(this,e),this.synchronizeTabs=!1}return ua(e,[{key:"initialize",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Mk(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return Bg(this.persistence,new Vg,e.initialUser,this.M)}},{key:"lu",value:function(e){return new mk(gk.Wi,this.M)}},{key:"hu",value:function(e){return new Ck}},{key:"terminate",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zb=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ua(n,[{key:"initialize",value:function(){var e=lu(No().mark((function e(t){var r=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(Ji(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,nk(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,Yb(this._u.syncEngine);case 8:return e.next=10,fw(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return Bg(this.persistence,new Vg,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new wg(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rg.withCacheSize(this.cacheSizeBytes):rg.DEFAULT;return new Pg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dk(),Lk(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new Ck}}]),n}(Xb),ex=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ua(n,[{key:"initialize",value:function(){var e=lu(No().mark((function e(t){var r,i=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(Ji(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof Tk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:Fb.bind(null,r),kr:Kb.bind(null,r),Mr:Gb.bind(null,r),Ms:Wb.bind(null,r),Cr:Lb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ub(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=Dk();if(!Tk.vt(t))throw new $h(Gh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Zb),tx=function(){function e(){aa(this,e)}return ua(e,[{key:"initialize",value:function(){var e=lu(No().mark((function e(t,n){var r=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ab.bind(null,this.syncEngine),e.next=12,Tw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Fw}},{key:"createDatastore",value:function(e){var t,n=Mk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Pk(t));return function(e,t,n,r){return new zk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hb(o.syncEngine,e,0)},a=Ak.vt()?new Ak:new Nk,new qk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new tb(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hh(t),Vh("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,Hk(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function nx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return lu(No().mark((function r(){var i;return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rx=function(){function e(t){aa(this,e),this.observer=t,this.muted=!1}return ua(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ix=function(){function e(t,n){var r=this;aa(this,e),this.gu=t,this.M=n,this.metadata=new Qh,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ua(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=lu(No().mark((function e(){var t,n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new Hw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=lu(No().mark((function e(){var t,n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=lu(No().mark((function e(){var t,n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ax=function(){function e(t){aa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ua(e,[{key:"lookup",value:function(){var e=lu(No().mark((function e(t){var n,r=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new $h(Gh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=lu(No().mark((function e(t,n){var r,i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),i=dm(r.M)+"/documents",a={documents:n.map((function(e){return cm(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ym(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Kh(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=lu(No().mark((function e(){var t,n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pd.fromPath(t);n.mutations.push(new Iv(r,n.precondition(r)))})),e.next=7,function(){var e=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(t),i=dm(r.M)+"/documents",a={writes:n.map((function(e){return gm(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wh();t=fd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $h(Gh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sv.updateTime(t):sv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fd.min()))throw new $h(Gh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sv.updateTime(t)}return sv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ox=function(){function e(t,n,r,i){aa(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new Fk(this.asyncQueue,"transaction_retry")}return ua(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(lu(No().mark((function t(){var n,r;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ax(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!Ad(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ev(t)}return!1}}]),e}(),ux=function(){function e(t,n,r,i){var a=this;aa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mh.UNAUTHENTICATED,this.clientId=od.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ua(e,[{key:"getConfiguration",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new $h(Gh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(lu(No().mark((function n(){var r;return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ow(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function sx(e,t){return cx.apply(this,arguments)}function cx(){return cx=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,qg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t){return fx.apply(this,arguments)}function fx(){return fx=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hx(t);case 3:return r=e.sent,Vh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Sw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Sw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e){return dx.apply(this,arguments)}function dx(){return dx=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Vh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,sx(t,new Xb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e){return vx.apply(this,arguments)}function vx(){return vx=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Vh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lx(t,new tx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e){return hx(e).then((function(e){return e.persistence}))}function yx(e){return hx(e).then((function(e){return e.localStore}))}function gx(e){return px(e).then((function(e){return e.remoteStore}))}function kx(e){return px(e).then((function(e){return e.syncEngine}))}function wx(e){return bx.apply(this,arguments)}function bx(){return bx=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,px(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=nb.bind(null,n.syncEngine),r.onUnlisten=ob.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function xx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function i(){return No().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rx({next:function(a){t.enqueueAndForget((function(){return Vw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new $h(Gh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new $h(Gh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Kw(Ap(n.path),a,{includeMetadataChanges:!0,Sa:!0});return jw(e,o)},i.next=3,wx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function i(){return No().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rx({next:function(n){t.enqueueAndForget((function(){return Vw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new $h(Gh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Kw(n,a,{includeMetadataChanges:!0,Sa:!0});return jw(e,o)},i.next=3,wx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ix=new Map;function Sx(e,t,n){if(!n)throw new $h(Gh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ex(e,t,n,r){if(!0===t&&!0===r)throw new $h(Gh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Tx(e){if(!Pd.isDocumentKey(e))throw new $h(Gh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cx(e){if(Pd.isDocumentKey(e))throw new $h(Gh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Wh()}function Ax(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $h(Gh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nx(e);throw new $h(Gh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Rx(e,t){if(t<=0)throw new $h(Gh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ox=function(){function e(t){var n;if(aa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new $h(Gh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $h(Gh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ex("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ua(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Px=function(){function e(t,n,r){aa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1,t instanceof Nd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $h(Gh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(e.options.projectId)}(t))}return ua(e,[{key:"app",get:function(){if(!this._app)throw new $h(Gh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new $h(Gh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jh;switch(e.type){case"gapi":var t=e.client;return Kh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new td(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new $h(Gh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ix.get(e);t&&(Vh("ComponentProvider","Removing Datastore"),Ix.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Dx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ax(e,Px))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Bh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Mh.MOCK_USER;else{o=Mo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new $h(Gh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mh(s)}e._authCredentials=new Xh(new Yh(o,u))}}var Lx=function(){function e(t,n,r){aa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ua(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Fx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Mx=function(){function e(t,n,r){aa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ua(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Fx=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,Ap(i)))._path=i,a.type="collection",a}return ua(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Lx(this.firestore,null,new Pd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Mx);function jx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ru(e),Sx("collection","path",t),e instanceof Px){var a=md.fromString.apply(md,[t].concat(r));return Cx(a),new Fx(e,null,a)}if(!(e instanceof Lx||e instanceof Fx))throw new $h(Gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(md.fromString.apply(md,[t].concat(r)));return Cx(o),new Fx(e.firestore,null,o)}function Ux(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ru(e),1===arguments.length&&(t=od.R()),Sx("doc","path",t),e instanceof Px){var a=md.fromString.apply(md,[t].concat(r));return Tx(a),new Lx(e,null,new Pd(a))}if(!(e instanceof Lx||e instanceof Fx))throw new $h(Gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(md.fromString.apply(md,[t].concat(r)));return Tx(o),new Lx(e.firestore,e instanceof Fx?e.converter:null,new Pd(o))}function Vx(e,t){return e=ru(e),t=ru(t),(e instanceof Lx||e instanceof Fx)&&(t instanceof Lx||t instanceof Fx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function zx(e,t){return e=ru(e),t=ru(t),e instanceof Mx&&t instanceof Mx&&e.firestore===t.firestore&&Up(e._query,t._query)&&e.converter===t.converter}var Bx=function(){function e(){var t=this;aa(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Fk(this,"async_queue_retry"),this.Fu=function(){var e=Lk();e&&Vh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=Lk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return ua(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=Lk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new Qh;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=lu(No().mark((function e(){var t=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sy(e.t0)){e.next=12;break}throw e.t0;case 12:Vh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=Rw.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&Wh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=So(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=So(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function qx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=So(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Wx=function(){function e(){aa(this,e),this._progressObserver={},this._taskCompletionResolver=new Qh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ua(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Kx=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Bx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ua(n,[{key:"_terminate",value:function(){return this._firestoreClient||Gx(this),this._firestoreClient.terminate()}}]),n}(Px);function Hx(e){return e._firestoreClient||Gx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ux(e._authCredentials,e._appCheckCredentials,e._queue,r)}function $x(e,t,n){var r=new Qh;return e.asyncQueue.enqueue(lu(No().mark((function i(){return No().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,sx(e,n);case 3:return i.next=5,lx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Gh.FAILED_PRECONDITION||e.code===Gh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Qx(e){return function(e){return e.asyncQueue.enqueue(lu(No().mark((function t(){var n,r;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mx(e);case 2:return n=t.sent,t.next=5,gx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Hh(e);return t.ha.delete(0),Wk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Hx(e=Ax(e,Kx)))}function Yx(e){return function(e){return e.asyncQueue.enqueue(lu(No().mark((function t(){var n,r;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mx(e);case 2:return n=t.sent,t.next=5,gx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hh(t)).ha.add(0),e.next=4,Hk(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Hx(e=Ax(e,Kx)))}function Jx(e,t){var n=Hx(e=Ax(e,Kx)),r=new Wx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ix(e,t)}(function(e,t){if(e instanceof Uint8Array)return nx(e,t);if(e instanceof ArrayBuffer)return nx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Mk(t));e.asyncQueue.enqueueAndForget(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jb,t.next=3,kx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Xx(e,t){return function(e,t){return e.asyncQueue.enqueue(lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Hh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,yx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Hx(e=Ax(e,Kx)),t).then((function(t){return t?new Mx(e,null,t.query):null}))}function Zx(e){if(e._initialized||e._terminated)throw new $h(Gh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var e_=function(){function e(){aa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new $h(Gh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gd(n)}return ua(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var t_=function(){function e(t){aa(this,e),this._byteString=t}return ua(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wd.fromBase64String(t))}catch(t){throw new $h(Gh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wd.fromUint8Array(t))}}]),e}(),n_=ua((function e(t){aa(this,e),this._methodName=t})),r_=function(){function e(t,n){if(aa(this,e),!isFinite(t)||t<-90||t>90)throw new $h(Gh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $h(Gh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ua(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ud(this._lat,e._lat)||ud(this._long,e._long)}}]),e}(),i_=/^__.*__$/,a_=function(){function e(t,n,r){aa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yv(e,this.data,this.fieldMask,t,this.fieldTransforms):new mv(e,this.data,t,this.fieldTransforms)}}]),e}(),o_=function(){function e(t,n,r){aa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return new yv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function u_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wh()}}var s_=function(){function e(t,n,r,i,a,o){aa(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ua(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return C_(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(u_(this.zu)&&i_.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),c_=function(){function e(t,n,r){aa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Mk(t)}return ua(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new s_({zu:e,methodName:t,sc:n,path:gd.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function l_(e){var t=e._freezeSettings(),n=Mk(e._databaseId);return new c_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function f_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);I_("Data must be an object, but it was:",o,r);var u,s,c=x_(r,o);if(a.merge)u=new kd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=So(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=S_(t,d,n);if(!o.contains(p))throw new $h(Gh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));N_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new kd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new a_(new Zd(c),u,s)}var h_=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(n_);function d_(e,t,n){return new s_({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var p_=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){return new ov(e.path,new Xp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(n_),v_=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).rc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=d_(this,e,!0),n=this.rc.map((function(e){return b_(e,t)})),r=new Zp(n);return new ov(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(n_),m_=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).rc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=d_(this,e,!0),n=this.rc.map((function(e){return b_(e,t)})),r=new tv(n);return new ov(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(n_),y_=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).oc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=new rv(e.M,Gp(e.M,this.oc));return new ov(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(n_);function g_(e,t,n,r){var i=e.ic(1,t,n);I_("Data must be an object, but it was:",i,r);var a=[],o=Zd.empty();dd(r,(function(e,r){var u=T_(t,e,n);r=ru(r);var s=i.Zu(u);if(r instanceof h_)a.push(u);else{var c=b_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new kd(a);return new o_(o,u,i.fieldTransforms)}function k_(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[S_(t,r,n)],s=[i];if(a.length%2!=0)throw new $h(Gh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(S_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zd.empty(),h=u.length-1;h>=0;--h)if(!N_(l,u[h])){var d=u[h],p=s[h];p=ru(p);var v=o.Zu(d);if(p instanceof h_)l.push(d);else{var m=b_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new kd(l);return new o_(f,y,o.fieldTransforms)}function w_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return b_(n,e.ic(r?4:3,t))}function b_(e,t){if(__(e=ru(e)))return I_("Unsupported field value:",t,e),x_(e,t);if(e instanceof n_)return function(e,t){if(!u_(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=So(e);try{for(a.s();!(n=a.n()).done;){var o=b_(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ru(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gp(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ld.fromDate(e);return{timestampValue:rm(t.M,n)}}if(e instanceof ld){var r=new ld(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rm(t.M,r)}}if(e instanceof r_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof t_)return{bytesValue:im(t.M,e._byteString)};if(e instanceof Lx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:um(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(Nx(e)))}(e,t)}function x_(e,t){var n={};return pd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dd(e,(function(e,r){var i=b_(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function __(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ld||e instanceof r_||e instanceof t_||e instanceof Lx||e instanceof n_)}function I_(e,t,n){if(!__(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Nx(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function S_(e,t,n){if((t=ru(t))instanceof e_)return t._internalPath;if("string"==typeof t)return T_(e,t);throw C_("Field path arguments must be of type string or ",e,!1,void 0,n)}var E_=new RegExp("[~\\*/\\[\\]]");function T_(e,t,n){if(t.search(E_)>=0)throw C_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Eo(e_,ia(t.split(".")))._internalPath}catch(r){throw C_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function C_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new $h(Gh.INVALID_ARGUMENT,u+e+s)}function N_(e,t){return e.some((function(e){return e.isEqual(t)}))}var A_=function(){function e(t,n,r,i,a){aa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ua(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Lx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(O_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),R_=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){return ws(Ji(n.prototype),"data",this).call(this)}}]),n}(A_);function O_(e,t){return"string"==typeof t?T_(e,t):t instanceof e_?t._internalPath:t._delegate._internalPath}var P_=function(){function e(t,n){aa(this,e),this.hasPendingWrites=t,this.fromCache=n}return ua(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),D_=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ua(n,[{key:"exists",value:function(){return ws(Ji(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new L_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(O_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(A_),L_=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ws(Ji(n.prototype),"data",this).call(this,e)}}]),n}(D_),M_=function(){function e(t,n,r,i){aa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new P_(i.hasPendingWrites,i.fromCache),this.query=r}return ua(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new L_(n._firestore,n._userDataWriter,r.key,r,new P_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $h(Gh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new L_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new P_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new L_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new P_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:F_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function F_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wh()}}function j_(e,t){return e instanceof D_&&t instanceof D_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof M_&&t instanceof M_&&e._firestore===t._firestore&&zx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function U_(e){if(Op(e)&&0===e.explicitOrderBy.length)throw new $h(Gh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var V_=ua((function e(){aa(this,e)}));function z_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var B_=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return ua(n,[{key:"_apply",value:function(e){var t=l_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new $h(Gh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Z_(o,a);var s,c=[],l=So(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(X_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=X_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Z_(o,a),u=w_(n,"where",o,"in"===a||"not-in"===a);var h=pp.create(i,a,u);return function(e,t){if(t.S()){var n=Dp(e);if(null!==n&&!n.isEqual(t.field))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Pp(e);null!==r&&eI(e,t.field,r)}var i=function(e,t){var n,r=So(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new $h(Gh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new $h(Gh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new Mx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(V_);var q_=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return ua(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ip(t,n);return function(e,t){if(null===Pp(e)){var n=Dp(e);null!==n&&eI(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new Mx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(V_);var W_=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return ua(n,[{key:"_apply",value:function(e){return new Mx(e.firestore,e.converter,jp(e._query,this.lc,this.fc))}}]),n}(V_);var K_=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return ua(n,[{key:"_apply",value:function(e){var t=J_(e,this.type,this.dc,this._c);return new Mx(e.firestore,e.converter,function(e,t){return new Cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(V_);function H_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new K_("startAt",t,!0)}function G_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new K_("startAfter",t,!1)}var $_=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return ua(n,[{key:"_apply",value:function(e){var t=J_(e,this.type,this.dc,this._c);return new Mx(e.firestore,e.converter,function(e,t){return new Cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(V_);function Q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $_("endBefore",t,!1)}function Y_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $_("endAt",t,!0)}function J_(e,t,n,r){if(n[0]=ru(n[0]),n[0]instanceof A_)return function(e,t,n,r,i){if(!r)throw new $h(Gh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=So(Mp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(qd(t,r.key));else{var c=r.data.field(s.field);if(Sd(c))throw new $h(Gh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _p(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=l_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new $h(Gh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Lp(e)&&-1!==c.indexOf("/"))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(md.fromString(c));if(!Pd.isDocumentKey(l))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Pd(l);u.push(qd(t,f))}else{var h=w_(n,r,c);u.push(h)}}return new _p(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function X_(e,t,n){if("string"==typeof(n=ru(n))){if(""===n)throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lp(t)&&-1!==n.indexOf("/"))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(md.fromString(n));if(!Pd.isDocumentKey(r))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qd(e,new Pd(r))}if(n instanceof Lx)return qd(e,n._key);throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Nx(n),"."))}function Z_(e,t){if(!Array.isArray(e)||0===e.length)throw new $h(Gh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new $h(Gh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function eI(e,t,n){if(!n.isEqual(t))throw new $h(Gh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tI=function(){function e(){aa(this,e)}return ua(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Md(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _d(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Id(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return dd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new r_(_d(e.latitude),_d(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ed(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Td(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xd(e);return new ld(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=md.fromString(e);Kh(Rm(n));var r=new Nd(n.get(1),n.get(3)),i=new Pd(n.popFirst(5));return r.isEqual(t)||zh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rI=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new t_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lx(this.firestore,null,t)}}]),n}(tI),iI=function(){function e(t,n){aa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=l_(t)}return ua(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aI(e,this._firestore),i=nI(r.converter,t,n),a=f_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ru(t))||t instanceof e_?k_(this._dataReader,"WriteBatch.update",i._key,t,n,o):g_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aI(e,this._firestore);return this._mutations=this._mutations.concat(new _v(t._key,sv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new $h(Gh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aI(e,t){if((e=ru(e)).firestore!==t)throw new $h(Gh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oI=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new t_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lx(this.firestore,null,t)}}]),n}(tI);function uI(e){e=Ax(e,Lx);var t=Ax(e.firestore,Kx),n=Hx(t),r=new oI(t);return function(e,t){var n=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function r(){return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Hh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new $h(Gh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Ow(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new D_(t,r,e._key,n,new P_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sI(e){e=Ax(e,Mx);var t=Ax(e.firestore,Kx),n=Hx(t),r=new oI(t);return function(e,t){var n=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function r(){return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lu(No().mark((function e(t,n,r){var i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zg(t,n,!0);case 3:i=e.sent,a=new Xw(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Ow(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new M_(t,r,e,n)}))}function cI(e,t,n){e=Ax(e,Lx);var r=Ax(e.firestore,Kx),i=nI(e.converter,t,n);return dI(r,[f_(l_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sv.none())])}function lI(e,t,n){e=Ax(e,Lx);for(var r=Ax(e.firestore,Kx),i=l_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dI(r,[("string"==typeof(t=ru(t))||t instanceof e_?k_(i,"updateDoc",e._key,t,n,o):g_(i,"updateDoc",e._key,t)).toMutation(e._key,sv.exists(!0))])}function fI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ru(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||qx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(qx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Lx)l=Ax(e.firestore,Kx),f=Ap(e._key.path),c={next:function(t){n[s]&&n[s](pI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Ax(e,Mx);l=Ax(p.firestore,Kx),f=p._query;var v=new oI(l);c={next:function(e){n[s]&&n[s](new M_(l,v,p,e))},error:n[s+1],complete:n[s+2]},U_(e._query)}return function(e,t,n,r){var i=new rx(r),a=new Kw(t,i,n);return e.asyncQueue.enqueueAndForget(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jw,t.next=3,wx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vw,t.next=3,wx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Hx(l),f,h,c)}function hI(e,t){return function(e,t){var n=new rx(t);return e.asyncQueue.enqueueAndForget(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hh(e).Ia.add(t),t.next()},t.next=3,wx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hh(e).Ia.delete(t)},t.next=3,wx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Hx(e=Ax(e,Kx)),qx(t)?t:{next:t})}function dI(e,t){return function(e,t){var n=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function r(){return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=sb,r.next=3,kx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Hx(e),t)}function pI(e,t,n){var r=n.docs.get(t._key),i=new oI(e);return new D_(e,i,t._key,r,new P_(n.hasPendingWrites,n.fromCache),t.converter)}var vI=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r))._firestore=e,i}return ua(n,[{key:"get",value:function(e){var t=this,r=aI(e,this._firestore),i=new oI(this._firestore);return ws(Ji(n.prototype),"get",this).call(this,e).then((function(e){return new D_(t._firestore,i,r._key,e._document,new P_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){aa(this,e),this._firestore=t,this._transaction=n,this._dataReader=l_(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=aI(e,this._firestore),r=new rI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wh();var i=e[0];if(i.isFoundDocument())return new A_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new A_(t._firestore,r,n._key,null,n.converter);throw Wh()}))}},{key:"set",value:function(e,t,n){var r=aI(e,this._firestore),i=nI(r.converter,t,n),a=f_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ru(t))||t instanceof e_?k_(this._dataReader,"Transaction.update",i._key,t,n,o):g_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mI(e,t){return function(e,t){var n=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function r(){var i;return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return px(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new ox(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Hx(e=Ax(e,Kx)),(function(n){return t(new vI(e,n))}))}function yI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new v_("arrayUnion",t)}function gI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new m_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fh=e}(Bu),Lu(new fu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Kx(i,new Zh(e.getProvider("auth-internal")),new rd(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),$u(Lh,"3.4.6",e),$u(Lh,"3.4.6","esm2017")}();function kI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $h("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wI(){if("undefined"===typeof Uint8Array)throw new $h("unimplemented","Uint8Arrays are not available in this environment.")}function bI(){if("undefined"==typeof atob)throw new $h("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xI=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"toBase64",value:function(){return bI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return wI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bI(),new e(t_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return wI(),new e(t_.fromUint8Array(t))}}]),e}();function _I(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=So(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var II=function(){function e(){aa(this,e)}return ua(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Zx(e=Ax(e,Kx));var n=Hx(e),r=e._freezeSettings(),i=new tx;return $x(n,i,new Zb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Zx(e=Ax(e,Kx));var t=Hx(e),n=e._freezeSettings(),r=new tx;return $x(t,r,new ex(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new $h(Gh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Qh;return e._queue.enqueueAndForgetEvenWhileRestricted(lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ay.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ay.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Mg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),SI=function(){function e(t,n,r){var i=this;aa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Nd||(this._appCompat=t)}return ua(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Bh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Qx(this._delegate)}},{key:"disableNetwork",value:function(){return Yx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Ex("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Qh;return e.asyncQueue.enqueueAndForget(lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=kb,n.next=3,kx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Hx(e=Ax(e,Kx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new $h("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UI(this,jx(this._delegate,e))}catch(t){throw RI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AI(this,Ux(this._delegate,e))}catch(t){throw RI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new MI(this,function(e,t){if(e=Ax(e,Px),Sx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $h(Gh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Mx(e,null,function(e){return new Cp(md.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return mI(this._delegate,(function(n){return e(new TI(t,n))}))}},{key:"batch",value:function(){var e=this;return Hx(this._delegate),new CI(new iI(this._delegate,(function(t){return dI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Jx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Xx(this._delegate,e).then((function(e){return e?new MI(t,e):null}))}}]),e}(),EI=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new xI(new t_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AI.forKey(t,this.firestore,null)}}]),n}(tI);var TI=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new EI(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=VI(e);return this._delegate.get(n).then((function(e){return new DI(t._firestore,new D_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VI(e);return n?(kI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VI(e);return this._delegate.delete(t),this}}]),e}(),CI=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"set",value:function(e,t,n){var r=VI(e);return n?(kI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NI=function(){function e(t,n,r){aa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ua(e,[{key:"fromFirestore",value:function(e,t){var n=new L_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new EI(t),n),i.set(n,a)),a}}]),e}();NI.INSTANCES=new WeakMap;var AI=function(){function e(t,n){aa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new EI(t)}return ua(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UI(this.firestore,jx(this._delegate,e))}catch(t){throw RI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ru(e))instanceof Lx&&Vx(this._delegate,e)}},{key:"set",value:function(e,t){t=kI("DocumentReference.set",t);try{return t?cI(this._delegate,e,t):cI(this._delegate,e)}catch(n){throw RI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lI(this._delegate,e):lI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dI(Ax(e.firestore,Kx),[new _v(e._key,sv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OI(n),a=PI(n,(function(t){return new DI(e.firestore,new D_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ax(e,Lx);var t=Ax(e.firestore,Kx);return xx(Hx(t),e._key,{source:"server"}).then((function(n){return pI(t,e,n)}))}(this._delegate):function(e){e=Ax(e,Lx);var t=Ax(e.firestore,Kx);return xx(Hx(t),e._key).then((function(n){return pI(t,e,n)}))}(this._delegate),t.then((function(e){return new DI(n.firestore,new D_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new $h("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Lx(n._delegate,r,new Pd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Lx(n._delegate,r,t))}}]),e}();function RI(e,t,n){return e.message=e.message.replace(t,n),e}function OI(e){var t,n=So(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!_I(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function PI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_I(e[0])?e[0]:_I(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DI=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"ref",get:function(){return new AI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return j_(this._delegate,e._delegate)}}]),e}(),LI=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Wh()}(void 0!==t),t}}]),n}(DI),MI=function(){function e(t,n){aa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new EI(t)}return ua(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,z_(this._delegate,function(e,t,n){var r=t,i=O_("where",e);return new B_(i,r,n)}(t,n,r)))}catch(i){throw RI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,z_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=O_("orderBy",e);return new q_(n,t)}(t,n)))}catch(r){throw RI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,z_(this._delegate,function(e){return Rx("limit",e),new W_("limit",e,"F")}(t)))}catch(n){throw RI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,z_(this._delegate,function(e){return Rx("limitToLast",e),new W_("limitToLast",e,"L")}(t)))}catch(n){throw RI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,z_(this._delegate,H_.apply(void 0,arguments)))}catch(t){throw RI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,z_(this._delegate,G_.apply(void 0,arguments)))}catch(t){throw RI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,z_(this._delegate,Q_.apply(void 0,arguments)))}catch(t){throw RI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,z_(this._delegate,Y_.apply(void 0,arguments)))}catch(t){throw RI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return zx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ax(e,Mx);var t=Ax(e.firestore,Kx),n=Hx(t),r=new oI(t);return _x(n,e._query,{source:"server"}).then((function(n){return new M_(t,r,e,n)}))}(this._delegate):function(e){e=Ax(e,Mx);var t=Ax(e.firestore,Kx),n=Hx(t),r=new oI(t);return U_(e._query),_x(n,e._query).then((function(n){return new M_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new jI(n.firestore,new M_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OI(n),a=PI(n,(function(t){return new jI(e.firestore,new M_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),FI=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),jI=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"query",get:function(){return new MI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new FI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return j_(this._delegate,e._delegate)}}]),e}(),UI=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ua(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AI(this.firestore,void 0===e?Ux(this._delegate):Ux(this._delegate,e))}catch(t){throw RI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ax(e.firestore,Kx),r=Ux(e),i=nI(e.converter,t);return dI(n,[f_(l_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Vx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(MI);function VI(e){return Ax(e,Lx)}var zI,BI=function(){function e(){aa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Eo(e_,n)}return ua(e,[{key:"isEqual",value:function(e){return(e=ru(e))instanceof e_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gd.keyField().canonicalString())}}]),e}(),qI=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new p_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new h_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new y_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),WI={Firestore:SI,GeoPoint:r_,Timestamp:ld,Blob:xI,Transaction:TI,WriteBatch:CI,DocumentReference:AI,DocumentSnapshot:DI,Query:MI,QueryDocumentSnapshot:LI,QuerySnapshot:jI,CollectionReference:UI,FieldPath:BI,FieldValue:qI,setLogLevel:function(e){!function(e){jh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new fu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},WI)))})(zI=gs,(function(e,t){return new SI(e,t,new II)})),zI.registerVersion("@firebase/firestore-compat","0.1.15");function KI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var HI;Object.create;var GI="facebook.com",$I="github.com",QI="google.com",YI="password",JI="twitter.com",XI="EMAIL_SIGNIN",ZI="PASSWORD_RESET",eS="RECOVER_EMAIL",tS="REVERT_SECOND_FACTOR_ADDITION",nS="VERIFY_AND_CHANGE_EMAIL",rS="VERIFY_EMAIL";function iS(){return ee({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var aS=function(){var e;return ee(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ee(e,"argument-error",""),ee(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ee(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ee(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ee(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ee(e,"cordova-not-ready","Cordova framework is not ready."),ee(e,"cors-unsupported","This browser is not supported."),ee(e,"credential-already-in-use","This credential is already associated with a different user account."),ee(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ee(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ee(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ee(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ee(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ee(e,"email-already-in-use","The email address is already in use by another account."),ee(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ee(e,"expired-action-code","The action code has expired."),ee(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ee(e,"internal-error","An internal AuthError has occurred."),ee(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ee(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ee(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ee(e,"invalid-auth-event","An internal AuthError has occurred."),ee(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ee(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ee(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ee(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ee(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ee(e,"invalid-email","The email address is badly formatted."),ee(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ee(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ee(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ee(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ee(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ee(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ee(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ee(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ee(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ee(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ee(e,"wrong-password","The password is invalid or the user does not have a password."),ee(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ee(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ee(e,"invalid-provider-id","The specified provider ID is invalid."),ee(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ee(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ee(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ee(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ee(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ee(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ee(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ee(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ee(e,"missing-continue-uri","A continue URL must be provided in the request."),ee(e,"missing-iframe-start","An internal AuthError has occurred."),ee(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ee(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ee(e,"missing-multi-factor-info","No second factor identifier is provided."),ee(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ee(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ee(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ee(e,"app-deleted","This instance of FirebaseApp has been deleted."),ee(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ee(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ee(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ee(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ee(e,"no-auth-event","An internal AuthError has occurred."),ee(e,"no-such-provider","User was not linked to an account with the given provider."),ee(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ee(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ee(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ee(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ee(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ee(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ee(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ee(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ee(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ee(e,"rejected-credential","The request contains malformed or mismatching credentials."),ee(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ee(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ee(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ee(e,"timeout","The operation has timed out."),ee(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ee(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ee(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ee(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ee(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ee(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ee(e,"unverified-email","The operation requires a verified email."),ee(e,"user-cancelled","The user did not grant your application the permissions it requested."),ee(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ee(e,"user-disabled","The user account has been disabled by an administrator."),ee(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ee(e,"user-signed-out",""),ee(e,"weak-password","The password must be 6 characters long or more."),ee(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ee(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},oS=iS,uS=new Ko("auth","Firebase",iS()),sS=new Iu("@firebase/auth");function cS(e){if(sS.logLevel<=vu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sS.error.apply(sS,["Auth (".concat(Bu,"): ").concat(e)].concat(n))}}function lS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw pS.apply(void 0,[e].concat(n))}function fS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pS.apply(void 0,[e].concat(n))}function hS(e,t,n){var r=Object.assign(Object.assign({},oS()),ee({},t,n));return new Ko("auth","Firebase",r).create(t,{appName:e.name})}function dS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&lS(e,"argument-error"),hS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function pS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ia(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ia(o)))}return uS.create.apply(uS,[e].concat(n))}function vS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw pS.apply(void 0,[t].concat(r))}}function mS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw cS(t),new Error(t)}function yS(e,t){e||mS(t)}var gS=new Map;function kS(e){yS(e instanceof Function,"Expected a class definition");var t=gS.get(e);return t?(yS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gS.set(e,t),t)}function wS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bS(){return"http:"===xS()||"https:"===xS()}function xS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var _S=function(){function e(t,n){aa(this,e),this.shortDelay=t,this.longDelay=n,yS(n>t,"Short delay should be less than long delay!"),this.isMobile=jo()||zo()}return ua(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bS()||Vo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function IS(e,t){yS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var SS=function(){function e(){aa(this,e)}return ua(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void mS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void mS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void mS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ES=(ee(HI={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ee(HI,"MISSING_CUSTOM_TOKEN","internal-error"),ee(HI,"INVALID_IDENTIFIER","invalid-email"),ee(HI,"MISSING_CONTINUE_URI","internal-error"),ee(HI,"INVALID_PASSWORD","wrong-password"),ee(HI,"MISSING_PASSWORD","internal-error"),ee(HI,"EMAIL_EXISTS","email-already-in-use"),ee(HI,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ee(HI,"INVALID_IDP_RESPONSE","invalid-credential"),ee(HI,"INVALID_PENDING_TOKEN","invalid-credential"),ee(HI,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ee(HI,"MISSING_REQ_TYPE","internal-error"),ee(HI,"EMAIL_NOT_FOUND","user-not-found"),ee(HI,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ee(HI,"EXPIRED_OOB_CODE","expired-action-code"),ee(HI,"INVALID_OOB_CODE","invalid-action-code"),ee(HI,"MISSING_OOB_CODE","internal-error"),ee(HI,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ee(HI,"INVALID_ID_TOKEN","invalid-user-token"),ee(HI,"TOKEN_EXPIRED","user-token-expired"),ee(HI,"USER_NOT_FOUND","user-token-expired"),ee(HI,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ee(HI,"INVALID_CODE","invalid-verification-code"),ee(HI,"INVALID_SESSION_INFO","invalid-verification-id"),ee(HI,"INVALID_TEMPORARY_PROOF","invalid-credential"),ee(HI,"MISSING_SESSION_INFO","missing-verification-id"),ee(HI,"SESSION_EXPIRED","code-expired"),ee(HI,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ee(HI,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ee(HI,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ee(HI,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ee(HI,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ee(HI,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ee(HI,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ee(HI,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ee(HI,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ee(HI,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ee(HI,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),HI),TS=new _S(3e4,6e4);function CS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function NS(e,t,n,r){return AS.apply(this,arguments)}function AS(){return AS=lu(No().mark((function e(t,n,r,i){var a,o=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",RS(t,a,lu(No().mark((function e(){var a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Jo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",SS.fetch()(LS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function RS(e,t,n){return OS.apply(this,arguments)}function OS(){return(OS=lu(No().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ES),n),e.prev=2,a=new MS(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw FS(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw FS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw FS(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw hS(t,p,d);case 30:lS(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Wo)){e.next=37;break}throw e.t0;case 37:lS(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function PS(e,t,n,r){return DS.apply(this,arguments)}function DS(){return DS=lu(No().mark((function e(t,n,r,i){var a,o,u=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,NS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&lS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function LS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?IS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var MS=function(){function e(t){var n=this;aa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(fS(n.auth,"network-request-failed"))}),TS.get())}))}return ua(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function FS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=fS(e,t,r);return i.customData._tokenResponse=n,i}function jS(e,t){return US.apply(this,arguments)}function US(){return(US=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VS(e,t){return zS.apply(this,arguments)}function zS(){return(zS=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BS(e,t){return qS.apply(this,arguments)}function qS(){return(qS=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function KS(){return KS=lu(No().mark((function e(t){var n,r,i,a,o,u,s=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ru(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,vS((a=GS(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:WS(HS(a.auth_time)),issuedAtTime:WS(HS(a.iat)),expirationTime:WS(HS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(e){return 1e3*Number(e)}function GS(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return cS("JWT malformed, contained fewer than 3 sections"),null;try{var a=Po(r);return a?JSON.parse(a):(cS("Failed to decode base64 JWT payload"),null)}catch(o){return cS("Caught error parsing JWT payload as JSON",o),null}}function $S(e,t){return QS.apply(this,arguments)}function QS(){return QS=lu(No().mark((function e(t,n){var r=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Wo&&YS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),QS.apply(this,arguments)}function YS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var JS=function(){function e(t){aa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ua(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),XS=function(){function e(t,n){aa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ua(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=WS(this.lastLoginAt),this.creationTime=WS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ZS(e){return eE.apply(this,arguments)}function eE(){return eE=lu(No().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$S(t,BS(r,{idToken:i}));case 6:vS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?rE(o.providerUserInfo):[],s=nE(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new XS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(){return(tE=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ru(t),e.next=3,ZS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ia(n),ia(t))}function rE(e){return e.map((function(e){var t=e.providerId,n=KI(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function iE(e,t){return aE.apply(this,arguments)}function aE(){return(aE=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RS(t,{},lu(No().mark((function e(){var r,i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jo({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=LS(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",SS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oE=function(){function e(){aa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ua(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){vS(e.idToken,"internal-error"),vS("undefined"!==typeof e.idToken,"internal-error"),vS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=GS(e);return vS(t,"internal-error"),vS("undefined"!==typeof t.exp,"internal-error"),vS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=lu(No().mark((function e(t){var n,r=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],vS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return mS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(vS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(vS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(vS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function uE(e,t){vS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var sE=function(){function e(t){aa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=KI(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ia(a.providerData):[],this.metadata=new XS(a.createdAt||void 0,a.lastLoginAt||void 0)}return ua(e,[{key:"getIdToken",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$S(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(vS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return KS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return tE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(vS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){vS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=lu(No().mark((function e(t){var n,r,i=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ZS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,$S(this,jS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;vS(k&&_,t,"internal-error");var I=oE.fromJSON(this.name,_);vS("string"===typeof k,t,"internal-error"),uE(f,t.name),uE(h,t.name),vS("boolean"===typeof w,t,"internal-error"),vS("boolean"===typeof b,t,"internal-error"),uE(d,t.name),uE(p,t.name),uE(v,t.name),uE(m,t.name),uE(y,t.name),uE(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=lu(No().mark((function t(n,r){var i,a,o,u=arguments;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new oE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ZS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),cE=function(){function e(){aa(this,e),this.type="NONE",this.storage={}}return ua(e,[{key:"_isAvailable",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();cE.type="NONE";var lE=cE;function fE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var hE=function(){function e(t,n,r){aa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=fE(this.userKey,a.apiKey,o),this.fullPersistenceKey=fE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ua(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?sE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=lu(No().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(kS(lE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||kS(lE),u=fE(i,n.config.apiKey,n.name),s=null,c=So(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=sE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function dE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kE(t))return"Blackberry";if(wE(t))return"Webos";if(vE(t))return"Safari";if((t.includes("chrome/")||mE(t))&&!t.includes("edge/"))return"Chrome";if(gE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function pE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/firefox\//i.test(e)}function vE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/crios\//i.test(e)}function yE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/iemobile/i.test(e)}function gE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/android/i.test(e)}function kE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/blackberry/i.test(e)}function wE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/webos/i.test(e)}function bE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/iphone|ipad|ipod/i.test(e)}function xE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return bE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function _E(){return Bo()&&10===document.documentMode}function IE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return bE(e)||gE(e)||wE(e)||kE(e)||/windows phone/i.test(e)||yE(e)}function SE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dE(Fo());break;case"Worker":t="".concat(dE(Fo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bu,"/").concat(r)}var EE=function(){function e(t,n,r){aa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ua(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=kS(t)),this._initializationPromise=this.queue(lu(No().mark((function r(){var i,a;return No().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,hE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=lu(No().mark((function e(t){var n,r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return vS(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ru(t):null)&&vS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=lu(No().mark((function e(t){var n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&vS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(kS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ko("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return vS(n=t&&kS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,hE.create(this,[kS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=lu(No().mark((function e(t){var n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return vS(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return vS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=lu(No().mark((function e(){var t,n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function TE(e){return ru(e)}var CE=function(){function e(t){var n=this;aa(this,e),this.auth=t,this.observer=null,this.addObserver=eu((function(e){return n.observer=e}))}return ua(e,[{key:"next",get:function(){return vS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function NE(e,t,n){var r=TE(e);vS(r._canInitEmulator,r,"emulator-config-failed"),vS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=AE(t),o=function(e){var t=AE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:RE(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:RE(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function AE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var OE=function(){function e(t,n){aa(this,e),this.providerId=t,this.signInMethod=n}return ua(e,[{key:"toJSON",value:function(){return mS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return mS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return mS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return mS("not implemented")}}]),e}();function PE(e,t){return DE.apply(this,arguments)}function DE(){return(DE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:resetPassword",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LE(e,t){return ME.apply(this,arguments)}function ME(){return(ME=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e,t){return jE.apply(this,arguments)}function jE(){return(jE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:update",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return(VE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithPassword",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zE(e,t){return BE.apply(this,arguments)}function BE(){return(BE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:sendOobCode",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qE(e,t){return WE.apply(this,arguments)}function WE(){return(WE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KE(e,t){return HE.apply(this,arguments)}function HE(){return(HE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GE(e,t){return $E.apply(this,arguments)}function $E(){return($E=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){return YE.apply(this,arguments)}function YE(){return(YE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JE(e,t){return XE.apply(this,arguments)}function XE(){return(XE=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithEmailLink",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZE(e,t){return eT.apply(this,arguments)}function eT(){return(eT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithEmailLink",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tT=function(e){Yi(n,e);var t=na(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return aa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ua(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",UE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",JE(t,{email:this._email,oobCode:this._password}));case 5:lS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",LE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ZE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:lS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(OE);function nT(e,t){return rT.apply(this,arguments)}function rT(){return(rT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithIdp",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iT=function(e){Yi(n,e);var t=na(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ua(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return nT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,nT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,nT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=KI(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(OE);function aT(e,t){return oT.apply(this,arguments)}function oT(){return(oT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:sendVerificationCode",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(){return(uT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithPhoneNumber",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sT(){return(sT=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PS(t,"POST","/v1/accounts:signInWithPhoneNumber",CS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw FS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cT=ee({},"USER_NOT_FOUND","user-not-found");function lT(){return(lT=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithPhoneNumber",CS(t,r),cT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fT=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return uT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return sT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return lT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(OE);var hT=function(){function e(t){var n,r,i,a,o,u;aa(this,e);var s=Xo(Zo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);vS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ua(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xo(Zo(e)).link,n=t?Xo(Zo(t)).deep_link_id:null,r=Xo(Zo(e)).deep_link_id;return(r?Xo(Zo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Sw){return null}}}]),e}();var dT=function(){function e(){aa(this,e),this.providerId=e.PROVIDER_ID}return ua(e,null,[{key:"credential",value:function(e,t){return tT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=hT.parseLink(t);return vS(n,"argument-error"),tT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();dT.PROVIDER_ID="password",dT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var pT=function(){function e(t){aa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ua(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),vT=function(e){Yi(n,e);var t=na(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ua(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ia(this.scopes)}}]),n}(pT),mT=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return vS(e.idToken||e.accessToken,"argument-error"),iT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return vS("providerId"in t&&"signInMethod"in t,"argument-error"),iT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(vT),yT=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.call(this,"facebook.com")}return ua(n,null,[{key:"credential",value:function(e){return iT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sw){return null}}}]),n}(vT);yT.FACEBOOK_SIGN_IN_METHOD="facebook.com",yT.PROVIDER_ID="facebook.com";var gT=function(e){Yi(n,e);var t=na(n);function n(){var e;return aa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ua(n,null,[{key:"credential",value:function(e,t){return iT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Sw){return null}}}]),n}(vT);gT.GOOGLE_SIGN_IN_METHOD="google.com",gT.PROVIDER_ID="google.com";var kT=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.call(this,"github.com")}return ua(n,null,[{key:"credential",value:function(e){return iT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sw){return null}}}]),n}(vT);kT.GITHUB_SIGN_IN_METHOD="github.com",kT.PROVIDER_ID="github.com";var wT=function(e){Yi(n,e);var t=na(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return nT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,nT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,nT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(OE),bT=function(e){Yi(n,e);var t=na(n);function n(e){return aa(this,n),vS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ua(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=wT.fromJSON(e);return vS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return wT._create(r,n)}catch(i){return null}}}]),n}(pT),xT=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.call(this,"twitter.com")}return ua(n,null,[{key:"credential",value:function(e,t){return iT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Sw){return null}}}]),n}(vT);function _T(e,t){return IT.apply(this,arguments)}function IT(){return(IT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signUp",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}xT.TWITTER_SIGN_IN_METHOD="twitter.com",xT.PROVIDER_ID="twitter.com";var ST=function(){function e(t){aa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ua(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=lu(No().mark((function t(n,r,i){var a,o,u,s,c=arguments;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,sE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ET(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=lu(No().mark((function t(n,r,i){var a;return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ET(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ET(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function TT(){return TT=lu(No().mark((function e(t){var n,r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ST({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,_T(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ST._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}var CT=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a){var o,u;return aa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ea(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ua(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Wo);function NT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw CT._fromErrorAndOperation(e,n,t,r);throw n}))}function AT(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function RT(e,t){return OT.apply(this,arguments)}function OT(){return OT=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,LT(!0,r,n);case 3:return e.t0=VS,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=AT(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=lu(No().mark((function e(t,n){var r,i,a=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$S,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ST._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function LT(e,t,n){return MT.apply(this,arguments)}function MT(){return(MT=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZS(n);case 2:i=AT(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",vS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FT(e,t){return jT.apply(this,arguments)}function jT(){return jT=lu(No().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,$S(t,NT(i,a,n,t),r);case 6:return vS((o=e.sent).idToken,i,"internal-error"),vS(u=GS(o.idToken),i,"internal-error"),s=u.sub,vS(t.uid===s,i,"user-mismatch"),e.abrupt("return",ST._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&lS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),jT.apply(this,arguments)}function UT(e,t){return VT.apply(this,arguments)}function VT(){return VT=lu(No().mark((function e(t,n){var r,i,a,o,u=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,NT(t,i,n);case 4:return a=e.sent,e.next=7,ST._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function zT(e,t){return BT.apply(this,arguments)}function BT(){return(BT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UT(TE(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qT(e,t){return WT.apply(this,arguments)}function WT(){return(WT=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,LT(!1,r,n.providerId);case 3:return e.abrupt("return",PT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KT(e,t){return HT.apply(this,arguments)}function HT(){return(HT=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FT(ru(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GT(e,t){return $T.apply(this,arguments)}function $T(){return($T=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:signInWithCustomToken",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QT(){return(QT=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TE(t),e.next=3,GT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ST._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var YT=function(){function e(t,n){aa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ua(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?JT._fromServerResponse(e,t):lS(e,"internal-error")}}]),e}(),JT=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ua(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(YT);function XT(e,t,n){var r;vS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),vS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(vS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(vS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ZT(){return(ZT=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),a={requestType:"PASSWORD_RESET",email:n},r&&XT(i,a,r),e.next=5,KE(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eC(){return(eC=lu(No().mark((function e(t,n,r){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PE(ru(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tC(){return(tC=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FE(ru(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return(rC=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,PE(r,{oobCode:n});case 3:i=e.sent,vS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return vS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:vS(i.mfaInfo,r,"internal-error");case 13:vS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=YT._fromServerResponse(TE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iC(){return(iC=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nC(ru(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aC(e,t,n){return oC.apply(this,arguments)}function oC(){return(oC=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TE(t),e.next=3,_T(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ST._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(){return(uC=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),a={requestType:"EMAIL_SIGNIN",email:n},vS(r.handleCodeInApp,i,"argument-error"),r&&XT(i,a,r),e.next=6,GE(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(){return(sC=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),vS((a=dT.credentialWithLink(n,r||wS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",zT(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return(lC=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:createAuthUri",CS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(){return(fC=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bS()?wS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,cC(ru(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hC(){return(hC=lu(No().mark((function e(t,n){var r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&XT(r.auth,a,n),e.next=8,qE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(){return(dC=lu(No().mark((function e(t,n,r){var i,a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&XT(i.auth,o,r),e.next=8,QE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return(vC=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(){return(mC=lu(No().mark((function e(t,n){var r,i,a,o,u,s,c;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ru(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,$S(a,pC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yC(e,t,n){return gC.apply(this,arguments)}function gC(){return(gC=lu(No().mark((function e(t,n,r){var i,a,o,u;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,$S(t,LE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kC=ua((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),wC=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a){var o;return aa(this,n),(o=t.call(this,e,r,i)).username=a,o}return ua(n)}(kC),bC=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"facebook.com",r)}return ua(n)}(kC),xC=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ua(n)}(wC),_C=function(e){Yi(n,e);var t=na(n);function n(e,r){return aa(this,n),t.call(this,e,"google.com",r)}return ua(n)}(kC),IC=function(e){Yi(n,e);var t=na(n);function n(e,r,i){return aa(this,n),t.call(this,e,"twitter.com",r,i)}return ua(n)}(wC);function SC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=GS(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new kC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new bC(a,i);case"github.com":return new xC(a,i);case"google.com":return new _C(a,i);case"twitter.com":return new IC(a,i,e.screenName||null);case"custom":case"anonymous":return new kC(a,null);default:return new kC(a,r,i)}}(n)}var EC=function(){function e(t,n){aa(this,e),this.type=t,this.credential=n}return ua(e,[{key:"toJSON",value:function(){return{multiFactorSession:ee({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),TC=function(){function e(t,n,r){aa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ua(e,[{key:"resolveSignIn",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=TE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return YT._fromServerResponse(r,e)}));vS(i.mfaPendingCredential,r,"internal-error");var o=EC._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=lu(No().mark((function e(t){var a,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ST._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return vS(n.user,r,"internal-error"),e.abrupt("return",ST._forOperation(n.user,n.operationType,u));case 17:lS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function CC(e,t){return NS(e,"POST","/v2/accounts/mfaEnrollment:start",CS(e,t))}var NC=function(){function e(t){var n=this;aa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return YT._fromServerResponse(t.auth,e)})))}))}return ua(e,[{key:"getSession",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=EC,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,$S(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=lu(No().mark((function e(t){var n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,$S(this.user,NS(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",CS(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),AC=new WeakMap;var RC="__sak",OC=function(){function e(t,n){aa(this,e),this.storageRetriever=t,this.type=n}return ua(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(RC,"1"),this.storage.removeItem(RC),Promise.resolve(!0)):Promise.resolve(!1)}catch(Sw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var PC=function(e){Yi(n,e);var t=na(n);function n(){var e;return aa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Fo();return vE(e)||bE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=IE(),e._shouldAllowMigration=!0,e}return ua(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);_E()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=lu(No().mark((function e(t,r){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(Ji(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lu(No().mark((function e(t){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(Ji(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(Ji(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OC);PC.type="LOCAL";var DC=PC,LC=function(e){Yi(n,e);var t=na(n);function n(){return aa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ua(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OC);LC.type="SESSION";var MC=LC;function FC(e){return Promise.all(e.map(function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var jC=function(){function e(t){aa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ua(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=lu(No().mark((function e(t){var n,r,i,a,o,u,s,c;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,FC(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function UC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jC.receivers=[];var VC=function(){function e(t){aa(this,e),this.target=t,this.handlers=new Set}return ua(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=lu(No().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=UC("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function zC(){return window}function BC(){return"undefined"!==typeof zC().WorkerGlobalScope&&"function"===typeof zC().importScripts}function qC(){return WC.apply(this,arguments)}function WC(){return(WC=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function KC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var HC="firebaseLocalStorageDb",GC="firebaseLocalStorage",$C="fbase_key",QC=function(){function e(t){aa(this,e),this.request=t}return ua(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function YC(e,t){return e.transaction([GC],t?"readwrite":"readonly").objectStore(GC)}function JC(){var e=indexedDB.deleteDatabase(HC);return new QC(e).toPromise()}function XC(){var e=indexedDB.open(HC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(GC,{keyPath:$C})}catch(r){n(r)}})),e.addEventListener("success",lu(No().mark((function n(){var r;return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(GC)){n.next=12;break}return r.close(),n.next=5,JC();case 5:return n.t0=t,n.next=8,XC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ZC(e,t,n){return eN.apply(this,arguments)}function eN(){return eN=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YC(t,!0).put((ee(i={},$C,n),ee(i,"value",r),i)),e.abrupt("return",new QC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e,t){return nN.apply(this,arguments)}function nN(){return nN=lu(No().mark((function e(t,n){var r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YC(t,!1).get(n),e.next=3,new QC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t){var n=YC(e,!0).delete(t);return new QC(n).toPromise()}var iN=function(){function e(){aa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ua(e,[{key:"_openDb",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,XC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=lu(No().mark((function e(){var t=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jC._getInstance(BC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=lu(No().mark((function e(n,r){var i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=lu(No().mark((function e(){var t,n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new VC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&KC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,XC();case 5:return t=e.sent,e.next=8,ZC(t,RC,"1");case 8:return e.next=10,rN(t,RC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lu(No().mark((function e(t,n){var r=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ZC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tN(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lu(No().mark((function e(t){var n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rN(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=lu(No().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=YC(e,!1).getAll();return new QC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=So(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(lu(No().mark((function t(){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();iN.type="LOCAL";var aN=iN;function oN(e,t){return NS(e,"POST","/v2/accounts/mfaSignIn:start",CS(e,t))}function uN(e){return sN.apply(this,arguments)}function sN(){return(sN=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cN(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=fS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lN(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fN=1e12,hN=function(){function e(t){aa(this,e),this.auth=t,this.counter=fN,this._widgets=new Map}return ua(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new dN(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),dN=function(){function e(t,n,r){var i=this;aa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;vS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ua(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var pN=lN("rcb"),vN=new _S(3e4,6e4),mN="https://www.google.com/recaptcha/api.js?",yN=function(){function e(){aa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zC().grecaptcha}return ua(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return vS(gN(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(zC().grecaptcha):new Promise((function(r,i){var a=zC().setTimeout((function(){i(fS(e,"network-request-failed"))}),vN.get());zC()[pN]=function(){zC().clearTimeout(a),delete zC()[pN];var o=zC().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(fS(e,"internal-error"))},cN("".concat(mN,"?").concat(Jo({onload:pN,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(fS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!zC().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function gN(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var kN=function(){function e(){aa(this,e)}return ua(e,[{key:"load",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new hN(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),wN="recaptcha",bN={theme:"light",type:"image"},xN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},bN),r=arguments.length>2?arguments[2]:void 0;aa(this,e),this.parameters=n,this.type=wN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=TE(r),this.isInvisible="invisible"===this.parameters.size,vS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;vS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kN:new yN,this.validateStartingState()}return ua(e,[{key:"verify",value:function(){var e=lu(No().mark((function e(){var t,n,r,i=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){vS(!this.parameters.sitekey,this.auth,"argument-error"),vS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),vS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=zC()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){vS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=lu(No().mark((function e(){var t,n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vS(bS()&&!BC(),this.auth,"internal-error"),e.next=3,_N();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,uN(this.auth);case 8:vS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return vS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _N(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var IN=function(){function e(t,n){aa(this,e),this.verificationId=t,this.onConfirmation=n}return ua(e,[{key:"confirm",value:function(e){var t=fT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function SN(){return(SN=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TE(t),e.next=3,NN(i,n,ru(r));case 3:return a=e.sent,e.abrupt("return",new IN(a,(function(e){return zT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EN(e,t,n){return TN.apply(this,arguments)}function TN(){return(TN=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),e.next=3,LT(!1,i,"phone");case 3:return e.next=5,NN(i.auth,n,ru(r));case 5:return a=e.sent,e.abrupt("return",new IN(a,(function(e){return qT(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CN(){return(CN=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),e.next=3,NN(i.auth,n,ru(r));case 3:return a=e.sent,e.abrupt("return",new IN(a,(function(e){return KT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NN(e,t,n){return AN.apply(this,arguments)}function AN(){return AN=lu(No().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,vS("string"===typeof a,t,"argument-error"),vS(r.type===wN,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return vS("enroll"===u.type,t,"internal-error"),e.next=13,CC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return vS("signin"===u.type,t,"internal-error"),vS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oN(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,aT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),AN.apply(this,arguments)}function RN(){return(RN=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT(ru(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ON=function(){function e(t){aa(this,e),this.providerId=e.PROVIDER_ID,this.auth=TE(t)}return ua(e,[{key:"verifyPhoneNumber",value:function(e,t){return NN(this.auth,e,ru(t))}}],[{key:"credential",value:function(e,t){return fT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?fT._fromTokenResponse(n,r):null}}]),e}();function PN(e,t){return t?kS(t):(vS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ON.PROVIDER_ID="phone",ON.PHONE_SIGN_IN_METHOD="phone";var DN=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return nT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return nT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return nT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(OE);function LN(e){return UT(e.auth,new DN(e),e.bypassAuthState)}function MN(e){var t=e.auth,n=e.user;return vS(n,t,"internal-error"),FT(n,new DN(e),e.bypassAuthState)}function FN(e){return jN.apply(this,arguments)}function jN(){return(jN=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,vS(r=t.user,n,"internal-error"),e.abrupt("return",PT(r,new DN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];aa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ua(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=lu(No().mark((function t(n,r){return No().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=lu(No().mark((function e(t){var n,r,i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LN;case"linkViaPopup":case"linkViaRedirect":return FN;case"reauthViaPopup":case"reauthViaRedirect":return MN;default:lS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){yS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){yS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),VN=new _S(2e3,1e4);function zN(e,t,n){return BN.apply(this,arguments)}function BN(){return(BN=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TE(t),dS(t,n,pT),a=PN(i,r),o=new HN(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qN(){return(qN=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dS((i=ru(t)).auth,n,pT),a=PN(i.auth,r),o=new HN(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WN(e,t,n){return KN.apply(this,arguments)}function KN(){return(KN=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dS((i=ru(t)).auth,n,pT),a=PN(i.auth,r),o=new HN(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HN=function(e){Yi(n,e);var t=na(n);function n(e,r,i,a,o){var u;return aa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ea(u),u}return ua(n,[{key:"executeNotNull",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return vS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lu(No().mark((function e(){var t,n=this;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS(1===this.filter.length,"Popup operations only handle one event"),t=UC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(fS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(fS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(fS(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,VN.get())}()}}]),n}(UN);HN.currentPopupAction=null;var GN=new Map,$N=function(e){Yi(n,e);var t=na(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return aa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ua(n,[{key:"execute",value:function(){var e=lu(No().mark((function e(){var t,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,QN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ws(Ji(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:GN.set(this.auth._key(),t);case 21:return this.bypassAuthState||GN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=lu(No().mark((function e(t){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ws(Ji(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ws(Ji(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(UN);function QN(e,t){return YN.apply(this,arguments)}function YN(){return(YN=lu(No().mark((function e(t,n){var r,i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eA(n),i=ZN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JN(e,t){return XN.apply(this,arguments)}function XN(){return(XN=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZN(t)._set(eA(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZN(e){return kS(e._redirectPersistence)}function eA(e){return fE("pendingRedirect",e.config.apiKey,e.name)}function tA(e,t,n){return function(e,t,n){return nA.apply(this,arguments)}(e,t,n)}function nA(){return(nA=lu(No().mark((function e(t,n,r){var i,a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TE(t),dS(t,n,pT),a=PN(i,r),e.next=5,JN(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rA(e,t,n){return function(e,t,n){return iA.apply(this,arguments)}(e,t,n)}function iA(){return(iA=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dS((i=ru(t)).auth,n,pT),a=PN(i.auth,r),e.next=5,JN(a,i.auth);case 5:return e.next=7,fA(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aA(e,t,n){return function(e,t,n){return oA.apply(this,arguments)}(e,t,n)}function oA(){return(oA=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dS((i=ru(t)).auth,n,pT),a=PN(i.auth,r),e.next=5,LT(!1,i,n.providerId);case 5:return e.next=7,JN(a,i.auth);case 7:return e.next=9,fA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uA(e,t){return sA.apply(this,arguments)}function sA(){return(sA=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TE(t)._initializationPromise;case 2:return e.abrupt("return",cA(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=lu(No().mark((function e(t,n){var r,i,a,o,u,s=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=TE(t),a=PN(i,n),o=new $N(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e){return hA.apply(this,arguments)}function hA(){return(hA=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UC("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dA=function(){function e(t){aa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ua(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function mA(e){return yA.apply(this,arguments)}function yA(){return yA=lu(No().mark((function e(t){var n,r=arguments;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",NS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}var gA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kA=/^https?/;function wA(){return(wA=lu(No().mark((function e(t){var n,r,i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mA(t);case 4:n=e.sent,r=n.authorizedDomains,i=So(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!bA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:lS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function bA(e){var t=wS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kA.test(r))return!1;if(gA.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xA=new _S(3e4,6e4);function _A(){var e=zC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ia(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var IA=null;function SA(e){return IA=IA||function(e){return new Promise((function(t,n){var r,i,a;function o(){_A(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){_A(),n(fS(e,"network-request-failed"))},timeout:xA.get()})}if(null===(i=null===(r=zC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=zC().gapi)||void 0===a?void 0:a.load)){var u=lN("iframefcb");return zC()[u]=function(){gapi.load?o():n(fS(e,"network-request-failed"))},cN("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw IA=null,e}))}(e),IA}var EA=new _S(5e3,15e3),TA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NA(e){var t=e.config;vS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?IS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bu},i=CA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Jo(r).slice(1))}function AA(e){return RA.apply(this,arguments)}function RA(){return RA=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SA(t);case 2:return n=e.sent,vS(r=zC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:NA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TA,dontclear:!0},(function(e){return new Promise(function(){var n=lu(No().mark((function n(r,i){var a,o,u;return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){zC().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=fS(t,"network-request-failed"),o=zC().setTimeout((function(){i(a)}),EA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}var OA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PA="_blank",DA="http://localhost",LA=function(){function e(t){aa(this,e),this.window=t,this.associatedEvent=null}return ua(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function MA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},OA),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Fo().toLowerCase();n&&(u=mE(l)?PA:n),pE(l)&&(t=t||DA,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(xE(l)&&"_self"!==u)return FA(t||"",u),new LA(null);var h=window.open(t||"",u,f);vS(h,e,"popup-blocked");try{h.focus()}catch(d){}return new LA(h)}function FA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jA="__/auth/handler",UA="emulator/auth/handler";function VA(e,t,n,r,i,a){vS(e.config.authDomain,e,"auth-domain-config-required"),vS(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bu,eventId:i};if(t instanceof pT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof vT){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jA);return IS(t,UA)}(e),"?").concat(Jo(p).slice(1))}var zA="webStorageSupport",BA=function(){function e(){aa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MC,this._completeRedirectFn=cA}return ua(e,[{key:"_openPopup",value:function(){var e=lu(No().mark((function e(t,n,r,i){var a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=VA(t,n,r,wS(),i),e.abrupt("return",MA(t,o,UC()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lu(No().mark((function e(t,n,r,i){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=VA(t,n,r,wS(),i),zC().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(yS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AA(t);case 2:return n=e.sent,r=new dA(t),n.register("authEvent",(function(e){return vS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zA,{type:zA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),lS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return wA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return IE()||vE()||bE()}}]),e}(),qA=BA,WA=function(e){Yi(n,e);var t=na(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone")).credential=e,r}return ua(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return NS(e,"POST","/v2/accounts/mfaEnrollment:finalize",CS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return NS(e,"POST","/v2/accounts/mfaSignIn:finalize",CS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){aa(this,e),this.factorId=t}return ua(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return mS("unexpected MultiFactorSessionType")}}}]),e}()),KA=function(){function e(){aa(this,e)}return ua(e,null,[{key:"assertion",value:function(e){return WA._fromCredential(e)}}]),e}();KA.FACTOR_ID="phone";var HA,GA="@firebase/auth",$A="0.19.10",QA=function(){function e(t){aa(this,e),this.auth=t,this.internalListeners=new Map}return ua(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){vS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function YA(){return window}HA="Browser",Lu(new fu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){vS(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),vS(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:HA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(HA)},i=new EE(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lu(new fu("auth-internal",(function(e){return function(e){return new QA(e)}(TE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$u(GA,$A,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(HA)),$u(GA,$A,"esm2017");function JA(e,t,n){return XA.apply(this,arguments)}function XA(){return XA=lu(No().mark((function e(t,n,r){var i,a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YA(),o=a.BuildInfo,yS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,iR(n.sessionId);case 4:return u=e.sent,s={},bE()?s.ibi=o.packageName:gE()?s.apn=o.packageName:lS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",VA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}function ZA(){return(ZA=lu(No().mark((function e(t){var n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YA(),r=n.BuildInfo,i={},bE()?i.iosBundleId=r.packageName:gE()?i.androidPackageName=r.packageName:lS(t,"operation-not-supported-in-this-environment"),e.next=5,mA(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eR(e){var t=YA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function tR(e,t,n){return nR.apply(this,arguments)}function nR(){return nR=lu(No().mark((function e(t,n,r){var i,a,o;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(fS(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),gE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nR.apply(this,arguments)}function rR(e){var t,n,r,i,a,o,u,s,c,l,f=YA();vS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),vS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),vS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function iR(e){return aR.apply(this,arguments)}function aR(){return(aR=lu(No().mark((function e(t){var n,r,i;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oR(e){if(yS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uR=function(e){Yi(n,e);var t=na(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ua(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ws(Ji(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dA);function sR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:dR(),postBody:null,tenantId:e.tenantId,error:fS(e,"no-auth-event")}}function cR(e,t){return pR()._set(vR(e),t)}function lR(e){return fR.apply(this,arguments)}function fR(){return(fR=lu(No().mark((function e(t){var n;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pR()._get(vR(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,pR()._remove(vR(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hR(e,t){var n,r,i=function(e){var t=mR(e),n=t.link?decodeURIComponent(t.link):void 0,r=mR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return mR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=mR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?fS(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function dR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function pR(){return kS(DC)}function vR(e){return fE("authEvent",e.config.apiKey,e.name)}function mR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||ra(t)||u(t)||s();r[0];return Xo(r.slice(1).join("?"))}var yR=function(){function e(){aa(this,e),this._redirectPersistence=MC,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cA}return ua(e,[{key:"_initialize",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new uR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){lS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=lu(No().mark((function e(t,n,r,i){var a,o,u,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),GN.clear(),e.next=10,this._originValidation(t);case 10:return o=sR(t,r,i),e.next=13,cR(t,o);case 13:return e.next=15,JA(t,o,n);case 15:return u=e.sent,e.next=18,eR(u);case 18:return s=e.sent,e.abrupt("return",tR(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ZA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=YA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(lu(No().mark((function n(){return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lR(e);case 2:t.onEvent(kR());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=lu(No().mark((function n(r){var i,a;return No().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,lR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hR(i,r.url)),t.onEvent(a||kR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");YA().handleOpenURL=function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),gR=yR;function kR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fS("no-auth-event")}}function wR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function bR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return!("file:"!==wR()&&"ionic:"!==wR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xR(){return Bo()&&11===(null===document||void 0===document?void 0:document.documentMode)}function _R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return/Edge\/\d+/.test(e)}function IR(){try{var e=self.localStorage,t=UC();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();return xR()||_R(e)}()||qo()}catch(n){return SR()&&qo()}return!1}function SR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ER(){return("http:"===wR()||"https:"===wR()||Vo()||bR())&&!(zo()||Uo())&&IR()&&!SR()}function TR(){return bR()&&"undefined"!==typeof document}function CR(){return NR.apply(this,arguments)}function NR(){return(NR=lu(No().mark((function e(){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(TR()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AR={LOCAL:"local",NONE:"none",SESSION:"session"},RR=vS,OR="persistence";function PR(e,t){RR(Object.values(AR).includes(t),e,"invalid-persistence-type"),zo()?RR(t!==AR.SESSION,e,"unsupported-persistence-type"):Uo()?RR(t===AR.NONE,e,"unsupported-persistence-type"):SR()?RR(t===AR.NONE||t===AR.LOCAL&&qo(),e,"unsupported-persistence-type"):RR(t===AR.NONE||IR(),e,"unsupported-persistence-type")}function DR(e){return LR.apply(this,arguments)}function LR(){return(LR=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=MR(),r=fE(OR,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MR(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var FR=vS,jR=function(){function e(){aa(this,e),this.browserResolver=kS(qA),this.cordovaResolver=kS(gR),this.underlyingResolver=null,this._redirectPersistence=MC,this._completeRedirectFn=cA}return ua(e,[{key:"_initialize",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=lu(No().mark((function e(t,n,r,i){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lu(No().mark((function e(t,n,r,i){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return TR()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return FR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,CR();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function UR(e){return e.unwrap()}function VR(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new KR(e,function(e,t){var n,r=ru(e),i=t;return vS(t.customData.operationType,r,"argument-error"),vS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),TC._fromError(r,i)}(e,t));else if(r){var i=zR(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zR(e){var t=(e instanceof Wo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Wo)&&"temporaryProof"in t&&"phoneNumber"in t)return ON.credentialFromResult(e);var n,r=t.providerId;if(!r||r===YI)return null;switch(r){case QI:n=gT;break;case GI:n=yT;break;case $I:n=kT;break;case JI:n=xT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?wT._create(r,u):iT._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new mT(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Wo?n.credentialFromError(e):n.credentialFromResult(e)}function BR(e,t){return t.catch((function(t){throw t instanceof Wo&&VR(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zR(t)),additionalUserInfo:SC(e),user:HR.getOrCreate(r)}}))}function qR(e,t){return WR.apply(this,arguments)}function WR(){return(WR=lu(No().mark((function e(t,n){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return BR(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KR=function(){function e(t,n){aa(this,e),this.resolver=n,this.auth=t.wrapped()}return ua(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return BR(UR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),HR=function(){function e(t){aa(this,e),this._delegate=t,this.multiFactor=function(e){var t=ru(e);return AC.has(t)||AC.set(t,NC._fromUser(t)),AC.get(t)}(t)}return ua(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BR(this.auth,qT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qR(this.auth,EN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BR(this.auth,WN(this._delegate,t,jR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DR(TE(this.auth));case 2:return e.abrupt("return",aA(this._delegate,t,jR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BR(this.auth,KT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return qR(this.auth,function(e,t,n){return CN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return BR(this.auth,function(e,t,n){return qN.apply(this,arguments)}(this._delegate,e,jR))}},{key:"reauthenticateWithRedirect",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DR(TE(this.auth));case 2:return e.abrupt("return",rA(this._delegate,t,jR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return hC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RT(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return yC(ru(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return yC(ru(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return RN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return mC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return dC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();HR.USER_MAP=new WeakMap;var GR=vS,$R=function(){function e(t,n){if(aa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;GR(r,"invalid-api-key",{appName:t.name}),GR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jR:void 0;this._delegate=n.initialize({options:{persistence:YR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(aS),this.linkUnderlyingAuth()}return ua(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?HR.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){NE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return tC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return nC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return eC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=lu(No().mark((function e(t,n){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BR(this._delegate,aC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return fC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=hT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=lu(No().mark((function e(){var t;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GR(ER(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,uA(this._delegate,jR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",BR(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){TE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=QR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=QR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return uC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ZT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=lu(No().mark((function e(t){var n,r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:PR(this._delegate,t),e.t0=t,e.next=e.t0===AR.SESSION?4:e.t0===AR.LOCAL?6:e.t0===AR.NONE?11:13;break;case 4:return n=MC,e.abrupt("break",14);case 6:return e.next=8,kS(aN)._isAvailable();case 8:return r=e.sent,n=r?aN:DC,e.abrupt("break",14);case 11:return n=lE,e.abrupt("break",14);case 13:return e.abrupt("return",lS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return BR(this._delegate,function(e){return TT.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return BR(this._delegate,zT(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return BR(this._delegate,function(e,t){return QT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return BR(this._delegate,function(e,t,n){return zT(ru(e),dT.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return BR(this._delegate,function(e,t,n){return sC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return qR(this._delegate,function(e,t,n){return SN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GR(ER(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",BR(this._delegate,zN(this._delegate,t,jR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=lu(No().mark((function e(t){return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GR(ER(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,DR(this._delegate);case 3:return e.abrupt("return",tA(this._delegate,t,jR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return iC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function QR(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&HR.getOrCreate(e))},error:t,complete:n}}function YR(e,t){var n=function(e,t){var n=MR();if(!n)return[];var r=fE(OR,e,t);switch(n.getItem(r)){case AR.NONE:return[lE];case AR.LOCAL:return[aN,MC];case AR.SESSION:return[MC];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(aN)||n.push(aN),"undefined"!==typeof window)for(var r=0,i=[DC,MC];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(lE)||n.push(lE),n}$R.Persistence=AR;var JR=function(){function e(){aa(this,e),this.providerId="phone",this._delegate=new ON(UR(gs.auth()))}return ua(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ON.credential(e,t)}}]),e}();JR.PHONE_SIGN_IN_METHOD=ON.PHONE_SIGN_IN_METHOD,JR.PROVIDER_ID=ON.PROVIDER_ID;var XR=vS,ZR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gs.app();aa(this,e),XR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xN(t,n,i.auth()),this.type=this._delegate.type}return ua(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new fu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $R(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:XI,PASSWORD_RESET:ZI,RECOVER_EMAIL:eS,REVERT_SECOND_FACTOR_ADDITION:tS,VERIFY_AND_CHANGE_EMAIL:nS,VERIFY_EMAIL:rS}},EmailAuthProvider:dT,FacebookAuthProvider:yT,GithubAuthProvider:kT,GoogleAuthProvider:gT,OAuthProvider:mT,SAMLAuthProvider:bT,PhoneAuthProvider:JR,PhoneMultiFactorGenerator:KA,RecaptchaVerifier:ZR,TwitterAuthProvider:xT,Auth:$R,AuthCredential:OE,Error:Wo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.10")}(gs);var eO=gs.initializeApp({apiKey:"AIzaSyC9jdXpr0LCOwceFdTHp62TB2JM8ztnD-U",authDomain:"netflix-clone-ccf37.firebaseapp.com",projectId:"netflix-clone-ccf37",storageBucket:"netflix-clone-ccf37.appspot.com",messagingSenderId:"964123523246",appId:"1:964123523246:web:304bf2123ea0ba8060953f"});i.render((0,Wt.jsx)(po.Provider,{value:eO,children:(0,Wt.jsxs)(r.StrictMode,{children:[(0,Wt.jsx)(Io,{}),(0,Wt.jsx)(_o,{})]})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.404f27a4.js.map